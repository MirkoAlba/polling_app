/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/graphql";
exports.ids = ["pages/api/graphql"];
exports.modules = {

/***/ "./apollo/server/db/context.js":
/*!*************************************!*\
  !*** ./apollo/server/db/context.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createPrismaClient\": function() { return /* binding */ createPrismaClient; },\n/* harmony export */   \"createContext\": function() { return /* binding */ createContext; }\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction createPrismaClient() {\n  let prisma;\n\n  if (false) {} else {\n    if (!global.prisma) {\n      global.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n\n    prisma = global.prisma;\n    return prisma;\n  }\n}\nfunction createContext(res, req) {\n  var _verified;\n\n  const prisma = createPrismaClient();\n  var verified;\n\n  if (req.headers && req.headers.authorization) {\n    // in req.headers c'Ã¨ il token passato in apollo-client\n    var token = req.headers.authorization.split(\" \")[1];\n\n    try {\n      verified = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, process.env.TOKEN_SECRET_KEY);\n    } catch (err) {\n      console.log(\"Token non valido: \", err);\n    }\n  }\n\n  console.log(\"sono in createContext: Not auth header\");\n  return {\n    res,\n    req,\n    prisma,\n    userId: (_verified = verified) === null || _verified === void 0 ? void 0 : _verified.profileId\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvZGIvY29udGV4dC5qcz85YTg5Il0sIm5hbWVzIjpbImNyZWF0ZVByaXNtYUNsaWVudCIsInByaXNtYSIsImdsb2JhbCIsIlByaXNtYUNsaWVudCIsImNyZWF0ZUNvbnRleHQiLCJyZXMiLCJyZXEiLCJ2ZXJpZmllZCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidG9rZW4iLCJzcGxpdCIsImp3dCIsInByb2Nlc3MiLCJlbnYiLCJUT0tFTl9TRUNSRVRfS0VZIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInVzZXJJZCIsInByb2ZpbGVJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUVPLFNBQVNBLGtCQUFULEdBQThCO0FBQ25DLE1BQUlDLE1BQUo7O0FBQ0EsYUFBMkMsRUFBM0MsTUFHTztBQUNMLFFBQUksQ0FBQ0MsTUFBTSxDQUFDRCxNQUFaLEVBQW9CO0FBQ2xCQyxZQUFNLENBQUNELE1BQVAsR0FBZ0IsSUFBSUUsd0RBQUosRUFBaEI7QUFDRDs7QUFDREYsVUFBTSxHQUFHQyxNQUFNLENBQUNELE1BQWhCO0FBQ0EsV0FBT0EsTUFBUDtBQUNEO0FBQ0Y7QUFFTSxTQUFTRyxhQUFULENBQXVCQyxHQUF2QixFQUE0QkMsR0FBNUIsRUFBaUM7QUFBQTs7QUFDdEMsUUFBTUwsTUFBTSxHQUFHRCxrQkFBa0IsRUFBakM7QUFDQSxNQUFJTyxRQUFKOztBQUNBLE1BQUlELEdBQUcsQ0FBQ0UsT0FBSixJQUFlRixHQUFHLENBQUNFLE9BQUosQ0FBWUMsYUFBL0IsRUFBOEM7QUFDNUM7QUFDQSxRQUFJQyxLQUFLLEdBQUdKLEdBQUcsQ0FBQ0UsT0FBSixDQUFZQyxhQUFaLENBQTBCRSxLQUExQixDQUFnQyxHQUFoQyxFQUFxQyxDQUFyQyxDQUFaOztBQUNBLFFBQUk7QUFDRkosY0FBUSxHQUFHSywwREFBQSxDQUFXRixLQUFYLEVBQWtCRyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsZ0JBQTlCLENBQVg7QUFDRCxLQUZELENBRUUsT0FBT0MsR0FBUCxFQUFZO0FBQ1pDLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLG9CQUFaLEVBQWtDRixHQUFsQztBQUNEO0FBQ0Y7O0FBRURDLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLHdDQUFaO0FBRUEsU0FBTztBQUFFYixPQUFGO0FBQU9DLE9BQVA7QUFBWUwsVUFBWjtBQUFvQmtCLFVBQU0sZUFBRVosUUFBRiw4Q0FBRSxVQUFVYTtBQUF0QyxHQUFQO0FBQ0QiLCJmaWxlIjoiLi9hcG9sbG8vc2VydmVyL2RiL2NvbnRleHQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcblxuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcmlzbWFDbGllbnQoKSB7XG4gIGxldCBwcmlzbWE7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XG4gICAgcmV0dXJuIHByaXNtYTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWdsb2JhbC5wcmlzbWEpIHtcbiAgICAgIGdsb2JhbC5wcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XG4gICAgfVxuICAgIHByaXNtYSA9IGdsb2JhbC5wcmlzbWE7XG4gICAgcmV0dXJuIHByaXNtYTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dChyZXMsIHJlcSkge1xuICBjb25zdCBwcmlzbWEgPSBjcmVhdGVQcmlzbWFDbGllbnQoKTtcbiAgdmFyIHZlcmlmaWVkO1xuICBpZiAocmVxLmhlYWRlcnMgJiYgcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbikge1xuICAgIC8vIGluIHJlcS5oZWFkZXJzIGMnw6ggaWwgdG9rZW4gcGFzc2F0byBpbiBhcG9sbG8tY2xpZW50XG4gICAgdmFyIHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbi5zcGxpdChcIiBcIilbMV07XG4gICAgdHJ5IHtcbiAgICAgIHZlcmlmaWVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVE9LRU5fU0VDUkVUX0tFWSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlRva2VuIG5vbiB2YWxpZG86IFwiLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnNvbGUubG9nKFwic29ubyBpbiBjcmVhdGVDb250ZXh0OiBOb3QgYXV0aCBoZWFkZXJcIik7XG5cbiAgcmV0dXJuIHsgcmVzLCByZXEsIHByaXNtYSwgdXNlcklkOiB2ZXJpZmllZD8ucHJvZmlsZUlkIH07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./apollo/server/db/context.js\n");

/***/ }),

/***/ "./apollo/server/resolvers/index.js":
/*!******************************************!*\
  !*** ./apollo/server/resolvers/index.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resolvers\": function() { return /* binding */ resolvers; }\n/* harmony export */ });\n/* harmony import */ var _user_resolver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user-resolver */ \"./apollo/server/resolvers/user-resolver.js\");\n/* harmony import */ var _product_resolver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./product-resolver */ \"./apollo/server/resolvers/product-resolver.js\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphql */ \"graphql\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphql__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_3__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nconst resolvers = {\n  Query: _objectSpread(_objectSpread({}, _user_resolver__WEBPACK_IMPORTED_MODULE_0__.userResolver.Query), _product_resolver__WEBPACK_IMPORTED_MODULE_1__.productResolver.Query),\n  Mutation: _objectSpread(_objectSpread({}, _user_resolver__WEBPACK_IMPORTED_MODULE_0__.userResolver.Mutation), _product_resolver__WEBPACK_IMPORTED_MODULE_1__.productResolver.Mutation),\n  //---------- Top-level resolvers ----------\n  Category: {\n    products: async (parent, _, context) => {\n      var _context$prisma;\n\n      // cerco i prodotti che hanno categoryId === parent.id (id della categoria)\n      const p = await (context === null || context === void 0 ? void 0 : (_context$prisma = context.prisma) === null || _context$prisma === void 0 ? void 0 : _context$prisma.product.findMany({\n        where: {\n          categoryId: parent.id\n        }\n      }));\n      return p;\n    }\n  },\n  // ogni volta che si fa la query GetProducts il campo category\n  // ritorna la Category del Product\n  Product: {\n    category: async (parent, _, context) => {\n      var _context$prisma2;\n\n      const c = await (context === null || context === void 0 ? void 0 : (_context$prisma2 = context.prisma) === null || _context$prisma2 === void 0 ? void 0 : _context$prisma2.category.findFirst({\n        where: {\n          id: parent.categoryId\n        }\n      }));\n      console.log(c);\n      return c;\n    }\n  },\n  //---------- End Top-level resolvers ----------\n  //---------- Graphql Scalar ----------\n  BigInt: new graphql__WEBPACK_IMPORTED_MODULE_2__.GraphQLScalarType({\n    name: \"BigInt\",\n    description: \"Custom Int scalar type\",\n\n    //viene chiamata quando il value viene preso dal client (input)\n    parseValue(value) {\n      return typeof value === \"string\" ? parseInt(value) : value;\n    },\n\n    //viene chiamata quando il value deve ritornare al client\n    serialize(value) {\n      return typeof value === \"string\" ? parseInt(value) : value;\n    },\n\n    parseLiteral(ast) {\n      if (ast.kind === graphql__WEBPACK_IMPORTED_MODULE_2__.Kind.INT) {\n        return ast.value;\n      }\n\n      throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_3__.UserInputError(\"Provided value is not an integer\");\n    }\n\n  })\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvcmVzb2x2ZXJzL2luZGV4LmpzPzcwNmMiXSwibmFtZXMiOlsicmVzb2x2ZXJzIiwiUXVlcnkiLCJ1c2VyUmVzb2x2ZXIiLCJwcm9kdWN0UmVzb2x2ZXIiLCJNdXRhdGlvbiIsIkNhdGVnb3J5IiwicHJvZHVjdHMiLCJwYXJlbnQiLCJfIiwiY29udGV4dCIsInAiLCJwcmlzbWEiLCJwcm9kdWN0IiwiZmluZE1hbnkiLCJ3aGVyZSIsImNhdGVnb3J5SWQiLCJpZCIsIlByb2R1Y3QiLCJjYXRlZ29yeSIsImMiLCJmaW5kRmlyc3QiLCJjb25zb2xlIiwibG9nIiwiQmlnSW50IiwiR3JhcGhRTFNjYWxhclR5cGUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwYXJzZVZhbHVlIiwidmFsdWUiLCJwYXJzZUludCIsInNlcmlhbGl6ZSIsInBhcnNlTGl0ZXJhbCIsImFzdCIsImtpbmQiLCJLaW5kIiwiVXNlcklucHV0RXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVPLE1BQU1BLFNBQVMsR0FBRztBQUN2QkMsT0FBSyxrQ0FDQUMsOERBREEsR0FFQUMsb0VBRkEsQ0FEa0I7QUFNdkJDLFVBQVEsa0NBQ0hGLGlFQURHLEdBRUhDLHVFQUZHLENBTmU7QUFXdkI7QUFDQUUsVUFBUSxFQUFFO0FBQ1JDLFlBQVEsRUFBRSxPQUFPQyxNQUFQLEVBQWVDLENBQWYsRUFBa0JDLE9BQWxCLEtBQThCO0FBQUE7O0FBQ3RDO0FBQ0EsWUFBTUMsQ0FBQyxHQUFHLE9BQU1ELE9BQU4sYUFBTUEsT0FBTiwwQ0FBTUEsT0FBTyxDQUFFRSxNQUFmLG9EQUFNLGdCQUFpQkMsT0FBakIsQ0FBeUJDLFFBQXpCLENBQWtDO0FBQ2hEQyxhQUFLLEVBQUU7QUFBRUMsb0JBQVUsRUFBRVIsTUFBTSxDQUFDUztBQUFyQjtBQUR5QyxPQUFsQyxDQUFOLENBQVY7QUFJQSxhQUFPTixDQUFQO0FBQ0Q7QUFSTyxHQVphO0FBdUJ2QjtBQUNBO0FBQ0FPLFNBQU8sRUFBRTtBQUNQQyxZQUFRLEVBQUUsT0FBT1gsTUFBUCxFQUFlQyxDQUFmLEVBQWtCQyxPQUFsQixLQUE4QjtBQUFBOztBQUN0QyxZQUFNVSxDQUFDLEdBQUcsT0FBTVYsT0FBTixhQUFNQSxPQUFOLDJDQUFNQSxPQUFPLENBQUVFLE1BQWYscURBQU0saUJBQWlCTyxRQUFqQixDQUEwQkUsU0FBMUIsQ0FBb0M7QUFDbEROLGFBQUssRUFBRTtBQUFFRSxZQUFFLEVBQUVULE1BQU0sQ0FBQ1E7QUFBYjtBQUQyQyxPQUFwQyxDQUFOLENBQVY7QUFHQU0sYUFBTyxDQUFDQyxHQUFSLENBQVlILENBQVo7QUFDQSxhQUFPQSxDQUFQO0FBQ0Q7QUFQTSxHQXpCYztBQWtDdkI7QUFFQTtBQUNBSSxRQUFNLEVBQUUsSUFBSUMsc0RBQUosQ0FBc0I7QUFDNUJDLFFBQUksRUFBRSxRQURzQjtBQUU1QkMsZUFBVyxFQUFFLHdCQUZlOztBQUc1QjtBQUNBQyxjQUFVLENBQUNDLEtBQUQsRUFBUTtBQUNoQixhQUFPLE9BQU9BLEtBQVAsS0FBaUIsUUFBakIsR0FBNEJDLFFBQVEsQ0FBQ0QsS0FBRCxDQUFwQyxHQUE4Q0EsS0FBckQ7QUFDRCxLQU4yQjs7QUFPNUI7QUFDQUUsYUFBUyxDQUFDRixLQUFELEVBQVE7QUFDZixhQUFPLE9BQU9BLEtBQVAsS0FBaUIsUUFBakIsR0FBNEJDLFFBQVEsQ0FBQ0QsS0FBRCxDQUFwQyxHQUE4Q0EsS0FBckQ7QUFDRCxLQVYyQjs7QUFXNUJHLGdCQUFZLENBQUNDLEdBQUQsRUFBTTtBQUNoQixVQUFJQSxHQUFHLENBQUNDLElBQUosS0FBYUMsNkNBQWpCLEVBQTJCO0FBQ3pCLGVBQU9GLEdBQUcsQ0FBQ0osS0FBWDtBQUNEOztBQUNELFlBQU0sSUFBSU8sK0RBQUosQ0FBbUIsa0NBQW5CLENBQU47QUFDRDs7QUFoQjJCLEdBQXRCO0FBckNlLENBQWxCIiwiZmlsZSI6Ii4vYXBvbGxvL3NlcnZlci9yZXNvbHZlcnMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VyUmVzb2x2ZXIgfSBmcm9tIFwiLi91c2VyLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBwcm9kdWN0UmVzb2x2ZXIgfSBmcm9tIFwiLi9wcm9kdWN0LXJlc29sdmVyXCI7XG5pbXBvcnQgeyBHcmFwaFFMU2NhbGFyVHlwZSwgS2luZCB9IGZyb20gXCJncmFwaHFsXCI7XG5pbXBvcnQgeyBVc2VySW5wdXRFcnJvciB9IGZyb20gXCJhcG9sbG8tc2VydmVyLW1pY3JvXCI7XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlcnMgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgLi4udXNlclJlc29sdmVyLlF1ZXJ5LFxuICAgIC4uLnByb2R1Y3RSZXNvbHZlci5RdWVyeSxcbiAgfSxcblxuICBNdXRhdGlvbjoge1xuICAgIC4uLnVzZXJSZXNvbHZlci5NdXRhdGlvbixcbiAgICAuLi5wcm9kdWN0UmVzb2x2ZXIuTXV0YXRpb24sXG4gIH0sXG5cbiAgLy8tLS0tLS0tLS0tIFRvcC1sZXZlbCByZXNvbHZlcnMgLS0tLS0tLS0tLVxuICBDYXRlZ29yeToge1xuICAgIHByb2R1Y3RzOiBhc3luYyAocGFyZW50LCBfLCBjb250ZXh0KSA9PiB7XG4gICAgICAvLyBjZXJjbyBpIHByb2RvdHRpIGNoZSBoYW5ubyBjYXRlZ29yeUlkID09PSBwYXJlbnQuaWQgKGlkIGRlbGxhIGNhdGVnb3JpYSlcbiAgICAgIGNvbnN0IHAgPSBhd2FpdCBjb250ZXh0Py5wcmlzbWE/LnByb2R1Y3QuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogeyBjYXRlZ29yeUlkOiBwYXJlbnQuaWQgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcDtcbiAgICB9LFxuICB9LFxuXG4gIC8vIG9nbmkgdm9sdGEgY2hlIHNpIGZhIGxhIHF1ZXJ5IEdldFByb2R1Y3RzIGlsIGNhbXBvIGNhdGVnb3J5XG4gIC8vIHJpdG9ybmEgbGEgQ2F0ZWdvcnkgZGVsIFByb2R1Y3RcbiAgUHJvZHVjdDoge1xuICAgIGNhdGVnb3J5OiBhc3luYyAocGFyZW50LCBfLCBjb250ZXh0KSA9PiB7XG4gICAgICBjb25zdCBjID0gYXdhaXQgY29udGV4dD8ucHJpc21hPy5jYXRlZ29yeS5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZTogeyBpZDogcGFyZW50LmNhdGVnb3J5SWQgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coYyk7XG4gICAgICByZXR1cm4gYztcbiAgICB9LFxuICB9LFxuICAvLy0tLS0tLS0tLS0gRW5kIFRvcC1sZXZlbCByZXNvbHZlcnMgLS0tLS0tLS0tLVxuXG4gIC8vLS0tLS0tLS0tLSBHcmFwaHFsIFNjYWxhciAtLS0tLS0tLS0tXG4gIEJpZ0ludDogbmV3IEdyYXBoUUxTY2FsYXJUeXBlKHtcbiAgICBuYW1lOiBcIkJpZ0ludFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkN1c3RvbSBJbnQgc2NhbGFyIHR5cGVcIixcbiAgICAvL3ZpZW5lIGNoaWFtYXRhIHF1YW5kbyBpbCB2YWx1ZSB2aWVuZSBwcmVzbyBkYWwgY2xpZW50IChpbnB1dClcbiAgICBwYXJzZVZhbHVlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gcGFyc2VJbnQodmFsdWUpIDogdmFsdWU7XG4gICAgfSxcbiAgICAvL3ZpZW5lIGNoaWFtYXRhIHF1YW5kbyBpbCB2YWx1ZSBkZXZlIHJpdG9ybmFyZSBhbCBjbGllbnRcbiAgICBzZXJpYWxpemUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBwYXJzZUludCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB9LFxuICAgIHBhcnNlTGl0ZXJhbChhc3QpIHtcbiAgICAgIGlmIChhc3Qua2luZCA9PT0gS2luZC5JTlQpIHtcbiAgICAgICAgcmV0dXJuIGFzdC52YWx1ZTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBVc2VySW5wdXRFcnJvcihcIlByb3ZpZGVkIHZhbHVlIGlzIG5vdCBhbiBpbnRlZ2VyXCIpO1xuICAgIH0sXG4gIH0pLFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./apollo/server/resolvers/index.js\n");

/***/ }),

/***/ "./apollo/server/resolvers/product-resolver.js":
/*!*****************************************************!*\
  !*** ./apollo/server/resolvers/product-resolver.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"productResolver\": function() { return /* binding */ productResolver; }\n/* harmony export */ });\nconst productResolver = {\n  Query: {\n    async GetProducts(_, __, context) {\n      var _context$prisma;\n\n      const products = await (context === null || context === void 0 ? void 0 : (_context$prisma = context.prisma) === null || _context$prisma === void 0 ? void 0 : _context$prisma.product.findMany());\n      return products;\n    },\n\n    async GetCategories(_, __, context) {\n      var _context$prisma2;\n\n      const categories = await (context === null || context === void 0 ? void 0 : (_context$prisma2 = context.prisma) === null || _context$prisma2 === void 0 ? void 0 : _context$prisma2.category.findMany());\n      return categories;\n    }\n\n  },\n  Mutation: {}\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvcmVzb2x2ZXJzL3Byb2R1Y3QtcmVzb2x2ZXIuanM/ZWE4NyJdLCJuYW1lcyI6WyJwcm9kdWN0UmVzb2x2ZXIiLCJRdWVyeSIsIkdldFByb2R1Y3RzIiwiXyIsIl9fIiwiY29udGV4dCIsInByb2R1Y3RzIiwicHJpc21hIiwicHJvZHVjdCIsImZpbmRNYW55IiwiR2V0Q2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJjYXRlZ29yeSIsIk11dGF0aW9uIl0sIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUEsZUFBZSxHQUFHO0FBQzdCQyxPQUFLLEVBQUU7QUFDTCxVQUFNQyxXQUFOLENBQWtCQyxDQUFsQixFQUFxQkMsRUFBckIsRUFBeUJDLE9BQXpCLEVBQWtDO0FBQUE7O0FBQ2hDLFlBQU1DLFFBQVEsR0FBRyxPQUFNRCxPQUFOLGFBQU1BLE9BQU4sMENBQU1BLE9BQU8sQ0FBRUUsTUFBZixvREFBTSxnQkFBaUJDLE9BQWpCLENBQXlCQyxRQUF6QixFQUFOLENBQWpCO0FBQ0EsYUFBT0gsUUFBUDtBQUNELEtBSkk7O0FBTUwsVUFBTUksYUFBTixDQUFvQlAsQ0FBcEIsRUFBdUJDLEVBQXZCLEVBQTJCQyxPQUEzQixFQUFvQztBQUFBOztBQUNsQyxZQUFNTSxVQUFVLEdBQUcsT0FBTU4sT0FBTixhQUFNQSxPQUFOLDJDQUFNQSxPQUFPLENBQUVFLE1BQWYscURBQU0saUJBQWlCSyxRQUFqQixDQUEwQkgsUUFBMUIsRUFBTixDQUFuQjtBQUNBLGFBQU9FLFVBQVA7QUFDRDs7QUFUSSxHQURzQjtBQWE3QkUsVUFBUSxFQUFFO0FBYm1CLENBQXhCIiwiZmlsZSI6Ii4vYXBvbGxvL3NlcnZlci9yZXNvbHZlcnMvcHJvZHVjdC1yZXNvbHZlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBwcm9kdWN0UmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgYXN5bmMgR2V0UHJvZHVjdHMoXywgX18sIGNvbnRleHQpIHtcbiAgICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgY29udGV4dD8ucHJpc21hPy5wcm9kdWN0LmZpbmRNYW55KCk7XG4gICAgICByZXR1cm4gcHJvZHVjdHM7XG4gICAgfSxcblxuICAgIGFzeW5jIEdldENhdGVnb3JpZXMoXywgX18sIGNvbnRleHQpIHtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBjb250ZXh0Py5wcmlzbWE/LmNhdGVnb3J5LmZpbmRNYW55KCk7XG4gICAgICByZXR1cm4gY2F0ZWdvcmllcztcbiAgICB9LFxuICB9LFxuXG4gIE11dGF0aW9uOiB7fSxcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./apollo/server/resolvers/product-resolver.js\n");

/***/ }),

/***/ "./apollo/server/resolvers/user-resolver.js":
/*!**************************************************!*\
  !*** ./apollo/server/resolvers/user-resolver.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"userResolver\": function() { return /* binding */ userResolver; }\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cookie */ \"cookie\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cookie__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _util_validators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/validators */ \"./apollo/server/util/validators.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n // uso solo inpuError per gestire nel frontend gli errori custom\n\n\nconst userResolver = {\n  Query: {\n    async Me(_, __, context) {\n      if (!context.userId) return false;\n      const me = await context.prisma.user.findUnique({\n        where: {\n          id: context.userId\n        }\n      });\n      return me ? true : false;\n    },\n\n    async VerifyToken(_, {\n      token\n    }, context) {\n      if (!token && !context.userId) return false;\n      const verificato = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default().verify(token, process.env.TOKEN_SECRET_KEY, function (err, decoded) {\n        if (err) {\n          return {\n            message: `Token non valido: ${err.message}`,\n            verified: false\n          };\n        } else {\n          return {\n            message: \"Verificato\",\n            verified: true\n          };\n        }\n      });\n      return verificato;\n    }\n\n  },\n  Mutation: {\n    async Register(_, {\n      registerInput: {\n        firstName,\n        lastName,\n        cellNumber,\n        email,\n        password,\n        confirmPassword\n      }\n    }, context) {\n      const {\n        valid,\n        errors\n      } = (0,_util_validators__WEBPACK_IMPORTED_MODULE_2__.validateRegisterInput)(firstName, lastName, cellNumber, email, password, confirmPassword);\n\n      if (!valid) {\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Errori\", {\n          errors\n        });\n      }\n\n      const checkEmail = await context.prisma.profile.findUnique({\n        where: {\n          email: email\n        }\n      });\n\n      if (checkEmail) {\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Email gia esistente!\", {\n          errors: {\n            email: \"Email gia esistente!\"\n          }\n        });\n      }\n\n      try {\n        password = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, 12);\n        const newUser = {\n          firstName,\n          lastName,\n          cellNumber\n        };\n        const user = await context.prisma.user.create({\n          data: newUser\n        });\n        const newProfile = {\n          email,\n          password,\n          createdAt: new Date(),\n          isAdmin: false,\n          userId: user.id,\n          user: {\n            connect: {\n              id: user.id\n            }\n          } // serve nelle 1 a 1 per collegare le relazioni\n\n        };\n        await context.prisma.profile.create({\n          data: newProfile\n        });\n      } catch (err) {\n        console.log(err);\n        return \"Register not Successfull\";\n      }\n\n      return \"Register Successfull!\";\n    },\n\n    async Login(_, {\n      email,\n      password\n    }, context) {\n      const {\n        valid,\n        errors\n      } = (0,_util_validators__WEBPACK_IMPORTED_MODULE_2__.validateLoginInput)(email, password);\n\n      if (!valid) {\n        // errors.general = \"Inserisci i campi!\";\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Errori\", {\n          errors\n        });\n      }\n\n      const profile = await context.prisma.profile.findUnique({\n        where: {\n          email: email\n        }\n      });\n\n      if (!profile) {\n        errors.email = \"User non trovato!\";\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"User non trovato!\", {\n          errors\n        });\n      }\n\n      const match = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, profile.password);\n\n      if (!match) {\n        errors.password = \"Password errata!\";\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Password errata!\", {\n          errors\n        });\n      }\n\n      const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default().sign({\n        profileId: profile.id\n      }, process.env.TOKEN_SECRET_KEY, {\n        expiresIn: \"1h\"\n      });\n      context.res.setHeader(\"Set-Cookie\", cookie__WEBPACK_IMPORTED_MODULE_1___default().serialize(\"jid\", token, {\n        httpOnly: true,\n        // domain: \".example.com\",\n        secure: false,\n        maxAge: 60 * 60,\n        sameSite: \"strict\",\n        path: \"/\"\n      }));\n      return token;\n    }\n\n  },\n\n  async Logout(_, __, context) {\n    if (context.res) {\n      context.res.setHeader(\"Set-Cookie\", cookie__WEBPACK_IMPORTED_MODULE_1___default().serialize(\"jid\", \"\", {\n        httpOnly: true,\n        // domain: \".example.com\",\n        secure: false,\n        maxAge: 1,\n        sameSite: \"strict\",\n        path: \"/\"\n      }));\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvcmVzb2x2ZXJzL3VzZXItcmVzb2x2ZXIuanM/NGMwMiJdLCJuYW1lcyI6WyJ1c2VyUmVzb2x2ZXIiLCJRdWVyeSIsIk1lIiwiXyIsIl9fIiwiY29udGV4dCIsInVzZXJJZCIsIm1lIiwicHJpc21hIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlkIiwiVmVyaWZ5VG9rZW4iLCJ0b2tlbiIsInZlcmlmaWNhdG8iLCJqd3QiLCJwcm9jZXNzIiwiZW52IiwiVE9LRU5fU0VDUkVUX0tFWSIsImVyciIsImRlY29kZWQiLCJtZXNzYWdlIiwidmVyaWZpZWQiLCJNdXRhdGlvbiIsIlJlZ2lzdGVyIiwicmVnaXN0ZXJJbnB1dCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiY2VsbE51bWJlciIsImVtYWlsIiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJ2YWxpZCIsImVycm9ycyIsInZhbGlkYXRlUmVnaXN0ZXJJbnB1dCIsIlVzZXJJbnB1dEVycm9yIiwiY2hlY2tFbWFpbCIsInByb2ZpbGUiLCJiY3J5cHQiLCJuZXdVc2VyIiwiY3JlYXRlIiwiZGF0YSIsIm5ld1Byb2ZpbGUiLCJjcmVhdGVkQXQiLCJEYXRlIiwiaXNBZG1pbiIsImNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwiTG9naW4iLCJ2YWxpZGF0ZUxvZ2luSW5wdXQiLCJtYXRjaCIsInByb2ZpbGVJZCIsImV4cGlyZXNJbiIsInJlcyIsInNldEhlYWRlciIsImNvb2tpZSIsImh0dHBPbmx5Iiwic2VjdXJlIiwibWF4QWdlIiwic2FtZVNpdGUiLCJwYXRoIiwiTG9nb3V0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0NBRUE7O0FBQ0E7QUFFTyxNQUFNQSxZQUFZLEdBQUc7QUFDMUJDLE9BQUssRUFBRTtBQUNMLFVBQU1DLEVBQU4sQ0FBU0MsQ0FBVCxFQUFZQyxFQUFaLEVBQWdCQyxPQUFo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QXJCIiwiZmlsZSI6Ii4vYXBvbGxvL3NlcnZlci9yZXNvbHZlcnMvdXNlci1yZXNvbHZlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCI7XG5pbXBvcnQgY29va2llIGZyb20gXCJjb29raWVcIjtcbmltcG9ydCB7IHZhbGlkYXRlUmVnaXN0ZXJJbnB1dCwgdmFsaWRhdGVMb2dpbklucHV0IH0gZnJvbSBcIi4uL3V0aWwvdmFsaWRhdG9yc1wiO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG4vLyB1c28gc29sbyBpbnB1RXJyb3IgcGVyIGdlc3RpcmUgbmVsIGZyb250ZW5kIGdsaSBlcnJvcmkgY3VzdG9tXG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvbkVycm9yLCBVc2VySW5wdXRFcnJvciB9IGZyb20gXCJhcG9sbG8tc2VydmVyLW1pY3JvXCI7XG5cbmV4cG9ydCBjb25zdCB1c2VyUmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgYXN5bmMgTWUoXywgX18sIGNvbnRleHQpIHtcbiAgICAgIGlmICghY29udGV4dC51c2VySWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgY29uc3QgbWUgPSBhd2FpdCBjb250ZXh0LnByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogY29udGV4dC51c2VySWQgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbWUgPyB0cnVlIDogZmFsc2U7XG4gICAgfSxcblxuICAgIGFzeW5jIFZlcmlmeVRva2VuKF8sIHsgdG9rZW4gfSwgY29udGV4dCkge1xuICAgICAgaWYgKCF0b2tlbiAmJiAhY29udGV4dC51c2VySWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgY29uc3QgdmVyaWZpY2F0byA9IGp3dC52ZXJpZnkoXG4gICAgICAgIHRva2VuLFxuICAgICAgICBwcm9jZXNzLmVudi5UT0tFTl9TRUNSRVRfS0VZLFxuICAgICAgICBmdW5jdGlvbiAoZXJyLCBkZWNvZGVkKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogYFRva2VuIG5vbiB2YWxpZG86ICR7ZXJyLm1lc3NhZ2V9YCxcbiAgICAgICAgICAgICAgdmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogXCJWZXJpZmljYXRvXCIsIHZlcmlmaWVkOiB0cnVlIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gdmVyaWZpY2F0bztcbiAgICB9LFxuICB9LFxuXG4gIE11dGF0aW9uOiB7XG4gICAgYXN5bmMgUmVnaXN0ZXIoXG4gICAgICBfLFxuICAgICAge1xuICAgICAgICByZWdpc3RlcklucHV0OiB7XG4gICAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICAgIGxhc3ROYW1lLFxuICAgICAgICAgIGNlbGxOdW1iZXIsXG4gICAgICAgICAgZW1haWwsXG4gICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgY29uZmlybVBhc3N3b3JkLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbnRleHRcbiAgICApIHtcbiAgICAgIGNvbnN0IHsgdmFsaWQsIGVycm9ycyB9ID0gdmFsaWRhdGVSZWdpc3RlcklucHV0KFxuICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgIGxhc3ROYW1lLFxuICAgICAgICBjZWxsTnVtYmVyLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgIGNvbmZpcm1QYXNzd29yZFxuICAgICAgKTtcblxuICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVXNlcklucHV0RXJyb3IoXCJFcnJvcmlcIiwgeyBlcnJvcnMgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNoZWNrRW1haWwgPSBhd2FpdCBjb250ZXh0LnByaXNtYS5wcm9maWxlLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoY2hlY2tFbWFpbCkge1xuICAgICAgICB0aHJvdyBuZXcgVXNlcklucHV0RXJyb3IoXCJFbWFpbCBnaWEgZXNpc3RlbnRlIVwiLCB7XG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBlbWFpbDogXCJFbWFpbCBnaWEgZXNpc3RlbnRlIVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBwYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMik7XG5cbiAgICAgICAgY29uc3QgbmV3VXNlciA9IHtcbiAgICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgICAgY2VsbE51bWJlcixcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgY29udGV4dC5wcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IG5ld1VzZXIsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IG5ld1Byb2ZpbGUgPSB7XG4gICAgICAgICAgZW1haWwsXG4gICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGlzQWRtaW46IGZhbHNlLFxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgICB1c2VyOiB7IGNvbm5lY3Q6IHsgaWQ6IHVzZXIuaWQgfSB9LCAvLyBzZXJ2ZSBuZWxsZSAxIGEgMSBwZXIgY29sbGVnYXJlIGxlIHJlbGF6aW9uaVxuICAgICAgICB9O1xuXG4gICAgICAgIGF3YWl0IGNvbnRleHQucHJpc21hLnByb2ZpbGUuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiBuZXdQcm9maWxlLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZXR1cm4gXCJSZWdpc3RlciBub3QgU3VjY2Vzc2Z1bGxcIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFwiUmVnaXN0ZXIgU3VjY2Vzc2Z1bGwhXCI7XG4gICAgfSxcblxuICAgIGFzeW5jIExvZ2luKF8sIHsgZW1haWwsIHBhc3N3b3JkIH0sIGNvbnRleHQpIHtcbiAgICAgIGNvbnN0IHsgdmFsaWQsIGVycm9ycyB9ID0gdmFsaWRhdGVMb2dpbklucHV0KGVtYWlsLCBwYXNzd29yZCk7XG5cbiAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgLy8gZXJyb3JzLmdlbmVyYWwgPSBcIkluc2VyaXNjaSBpIGNhbXBpIVwiO1xuICAgICAgICB0aHJvdyBuZXcgVXNlcklucHV0RXJyb3IoXCJFcnJvcmlcIiwgeyBlcnJvcnMgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBjb250ZXh0LnByaXNtYS5wcm9maWxlLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXByb2ZpbGUpIHtcbiAgICAgICAgZXJyb3JzLmVtYWlsID0gXCJVc2VyIG5vbiB0cm92YXRvIVwiO1xuICAgICAgICB0aHJvdyBuZXcgVXNlcklucHV0RXJyb3IoXCJVc2VyIG5vbiB0cm92YXRvIVwiLCB7IGVycm9ycyB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgcHJvZmlsZS5wYXNzd29yZCk7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gXCJQYXNzd29yZCBlcnJhdGEhXCI7XG4gICAgICAgIHRocm93IG5ldyBVc2VySW5wdXRFcnJvcihcIlBhc3N3b3JkIGVycmF0YSFcIiwgeyBlcnJvcnMgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICBwcm9maWxlSWQ6IHByb2ZpbGUuaWQsXG4gICAgICAgIH0sXG4gICAgICAgIHByb2Nlc3MuZW52LlRPS0VOX1NFQ1JFVF9LRVksXG4gICAgICAgIHsgZXhwaXJlc0luOiBcIjFoXCIgfVxuICAgICAgKTtcblxuICAgICAgY29udGV4dC5yZXMuc2V0SGVhZGVyKFxuICAgICAgICBcIlNldC1Db29raWVcIixcbiAgICAgICAgY29va2llLnNlcmlhbGl6ZShcImppZFwiLCB0b2tlbiwge1xuICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgIC8vIGRvbWFpbjogXCIuZXhhbXBsZS5jb21cIixcbiAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcImRldmVsb3BtZW50XCIsXG4gICAgICAgICAgbWF4QWdlOiA2MCAqIDYwLFxuICAgICAgICAgIHNhbWVTaXRlOiBcInN0cmljdFwiLFxuICAgICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gIH0sXG5cbiAgYXN5bmMgTG9nb3V0KF8sIF9fLCBjb250ZXh0KSB7XG4gICAgaWYgKGNvbnRleHQucmVzKSB7XG4gICAgICBjb250ZXh0LnJlcy5zZXRIZWFkZXIoXG4gICAgICAgIFwiU2V0LUNvb2tpZVwiLFxuICAgICAgICBjb29raWUuc2VyaWFsaXplKFwiamlkXCIsIFwiXCIsIHtcbiAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAvLyBkb21haW46IFwiLmV4YW1wbGUuY29tXCIsXG4gICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJkZXZlbG9wbWVudFwiLFxuICAgICAgICAgIG1heEFnZTogMSxcbiAgICAgICAgICBzYW1lU2l0ZTogXCJzdHJpY3RcIixcbiAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./apollo/server/resolvers/user-resolver.js\n");

/***/ }),

/***/ "./apollo/server/schemas/index.js":
/*!****************************************!*\
  !*** ./apollo/server/schemas/index.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"typeDefs\": function() { return /* binding */ typeDefs; }\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n\nconst typeDefs = apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.gql`\n  # ---------- Error Types ----------\n  type TokenError {\n    message: String!\n    verified: Boolean!\n  }\n\n  # ---------- Scalar Types ----------\n  scalar BigInt\n\n  # ---------- User Types ----------\n  type User {\n    id: ID!\n    firstName: String!\n    lastname: String!\n    cellNumber: BigInt!\n    # relation Profile\n    profile: Profile!\n    profileId: ID!\n  }\n\n  type Profile {\n    id: ID!\n    email: String!\n    password: String!\n    confirmPassword: String!\n    isAdmin: Boolean!\n\n    createdAt: String\n\n    # relation User\n    user: User!\n    userId: ID!\n  }\n\n  # ---------- Products Types ----------\n  type Category {\n    id: ID!\n    categoryName: String!\n    categoryPathImage: String!\n    products: [Product!]! #field level resolver\n  }\n\n  type Product {\n    id: ID!\n    productName: String!\n    productDescription: String!\n    productCost: Float!\n    productImagePath: String!\n    # category relationship\n    category: Category! #field level resolver\n    categoryId: ID!\n  }\n\n  # ---------- Inputs ----------\n\n  input RegisterInput {\n    firstName: String!\n    lastName: String!\n    cellNumber: BigInt!\n    email: String!\n    password: String!\n    confirmPassword: String!\n  }\n\n  # ---------- Operations ----------\n\n  type Query {\n    # User\n    Me: Boolean!\n    VerifyToken(token: String!): TokenError!\n\n    # Products Categories\n    GetCategories: [Category]!\n    GetProducts: [Product]!\n  }\n\n  type Mutation {\n    # User\n    Register(registerInput: RegisterInput!): String!\n    Login(email: String!, password: String!): String!\n    Logout: Boolean!\n  }\n`;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvc2NoZW1hcy9pbmRleC5qcz82OWZiIl0sIm5hbWVzIjpbInR5cGVEZWZzIiwiZ3FsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUVPLE1BQU1BLFFBQVEsR0FBR0Msb0RBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQW5GTyIsImZpbGUiOiIuL2Fwb2xsby9zZXJ2ZXIvc2NoZW1hcy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdxbCB9IGZyb20gXCJhcG9sbG8tc2VydmVyLW1pY3JvXCI7XG5cbmV4cG9ydCBjb25zdCB0eXBlRGVmcyA9IGdxbGBcbiAgIyAtLS0tLS0tLS0tIEVycm9yIFR5cGVzIC0tLS0tLS0tLS1cbiAgdHlwZSBUb2tlbkVycm9yIHtcbiAgICBtZXNzYWdlOiBTdHJpbmchXG4gICAgdmVyaWZpZWQ6IEJvb2xlYW4hXG4gIH1cblxuICAjIC0tLS0tLS0tLS0gU2NhbGFyIFR5cGVzIC0tLS0tLS0tLS1cbiAgc2NhbGFyIEJpZ0ludFxuXG4gICMgLS0tLS0tLS0tLSBVc2VyIFR5cGVzIC0tLS0tLS0tLS1cbiAgdHlwZSBVc2VyIHtcbiAgICBpZDogSUQhXG4gICAgZmlyc3ROYW1lOiBTdHJpbmchXG4gICAgbGFzdG5hbWU6IFN0cmluZyFcbiAgICBjZWxsTnVtYmVyOiBCaWdJbnQhXG4gICAgIyByZWxhdGlvbiBQcm9maWxlXG4gICAgcHJvZmlsZTogUHJvZmlsZSFcbiAgICBwcm9maWxlSWQ6IElEIVxuICB9XG5cbiAgdHlwZSBQcm9maWxlIHtcbiAgICBpZDogSUQhXG4gICAgZW1haWw6IFN0cmluZyFcbiAgICBwYXNzd29yZDogU3RyaW5nIVxuICAgIGNvbmZpcm1QYXNzd29yZDogU3RyaW5nIVxuICAgIGlzQWRtaW46IEJvb2xlYW4hXG5cbiAgICBjcmVhdGVkQXQ6IFN0cmluZ1xuXG4gICAgIyByZWxhdGlvbiBVc2VyXG4gICAgdXNlcjogVXNlciFcbiAgICB1c2VySWQ6IElEIVxuICB9XG5cbiAgIyAtLS0tLS0tLS0tIFByb2R1Y3RzIFR5cGVzIC0tLS0tLS0tLS1cbiAgdHlwZSBDYXRlZ29yeSB7XG4gICAgaWQ6IElEIVxuICAgIGNhdGVnb3J5TmFtZTogU3RyaW5nIVxuICAgIGNhdGVnb3J5UGF0aEltYWdlOiBTdHJpbmchXG4gICAgcHJvZHVjdHM6IFtQcm9kdWN0IV0hICNmaWVsZCBsZXZlbCByZXNvbHZlclxuICB9XG5cbiAgdHlwZSBQcm9kdWN0IHtcbiAgICBpZDogSUQhXG4gICAgcHJvZHVjdE5hbWU6IFN0cmluZyFcbiAgICBwcm9kdWN0RGVzY3JpcHRpb246IFN0cmluZyFcbiAgICBwcm9kdWN0Q29zdDogRmxvYXQhXG4gICAgcHJvZHVjdEltYWdlUGF0aDogU3RyaW5nIVxuICAgICMgY2F0ZWdvcnkgcmVsYXRpb25zaGlwXG4gICAgY2F0ZWdvcnk6IENhdGVnb3J5ISAjZmllbGQgbGV2ZWwgcmVzb2x2ZXJcbiAgICBjYXRlZ29yeUlkOiBJRCFcbiAgfVxuXG4gICMgLS0tLS0tLS0tLSBJbnB1dHMgLS0tLS0tLS0tLVxuXG4gIGlucHV0IFJlZ2lzdGVySW5wdXQge1xuICAgIGZpcnN0TmFtZTogU3RyaW5nIVxuICAgIGxhc3ROYW1lOiBTdHJpbmchXG4gICAgY2VsbE51bWJlcjogQmlnSW50IVxuICAgIGVtYWlsOiBTdHJpbmchXG4gICAgcGFzc3dvcmQ6IFN0cmluZyFcbiAgICBjb25maXJtUGFzc3dvcmQ6IFN0cmluZyFcbiAgfVxuXG4gICMgLS0tLS0tLS0tLSBPcGVyYXRpb25zIC0tLS0tLS0tLS1cblxuICB0eXBlIFF1ZXJ5IHtcbiAgICAjIFVzZXJcbiAgICBNZTogQm9vbGVhbiFcbiAgICBWZXJpZnlUb2tlbih0b2tlbjogU3RyaW5nISk6IFRva2VuRXJyb3IhXG5cbiAgICAjIFByb2R1Y3RzIENhdGVnb3JpZXNcbiAgICBHZXRDYXRlZ29yaWVzOiBbQ2F0ZWdvcnldIVxuICAgIEdldFByb2R1Y3RzOiBbUHJvZHVjdF0hXG4gIH1cblxuICB0eXBlIE11dGF0aW9uIHtcbiAgICAjIFVzZXJcbiAgICBSZWdpc3RlcihyZWdpc3RlcklucHV0OiBSZWdpc3RlcklucHV0ISk6IFN0cmluZyFcbiAgICBMb2dpbihlbWFpbDogU3RyaW5nISwgcGFzc3dvcmQ6IFN0cmluZyEpOiBTdHJpbmchXG4gICAgTG9nb3V0OiBCb29sZWFuIVxuICB9XG5gO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./apollo/server/schemas/index.js\n");

/***/ }),

/***/ "./apollo/server/util/validators.js":
/*!******************************************!*\
  !*** ./apollo/server/util/validators.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"validateRegisterInput\": function() { return /* binding */ validateRegisterInput; },\n/* harmony export */   \"validateLoginInput\": function() { return /* binding */ validateLoginInput; }\n/* harmony export */ });\nconst regExEmail = /^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/;\nconst regExPassword = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/;\nvar regExPhoneNumber = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]\\d{3}[\\s.-]\\d{4}$/;\nfunction validateRegisterInput(firstName, lastName, cellNumber, email, password, confirmPassword) {\n  const errors = {};\n\n  if (firstName.trim() === \"\") {\n    errors.firstName = \"Nome non deve essere vuoto!\";\n  }\n\n  if (firstName.trim().length > 20) {\n    errors.username = \"Nome non deve superare i 20 caratteri!\";\n  }\n\n  if (lastName.trim() === \"\") {\n    errors.lastName = \"Cognome non deve essere vuoto!\";\n  }\n\n  if (lastName.trim().length > 35) {\n    errors.username = \"Cognome non deve superare i 35 caratteri!\";\n  }\n\n  if (!cellNumber) {\n    errors.cellNumber = \"Numero di telefono non deve essere vuoto!\";\n  } else {\n    if (cellNumber.toString().trim().length !== 10) {\n      errors.cellNumber = \"Numero di telefono deve essere di 10 cifre\";\n    }\n  }\n\n  if (email.trim() === \"\") {\n    errors.email = \"Email non deve essere vuota!\";\n  } else {\n    if (email.trim().length > 50) {\n      errors.email = \"Email non deve superare i 50 caratteri!\";\n    }\n\n    if (!email.match(regExEmail)) {\n      errors.email = \"Email deve essere valida!\";\n    }\n\n    if (!/@gmail.com\\s*$/.test(email.trim())) {\n      errors.email = \"Usare email con dominio valido. Es: gmail.com\";\n    }\n  }\n\n  if (password.trim() === \"\") {\n    errors.password = \"Password non deve essere vuota!\";\n  } else if (password !== confirmPassword) {\n    errors.confirmPassword = \"Le Password devono coincidere!\";\n  } else if (!password.match(regExPassword)) {\n    errors.password = \"Password deve contenere almeno 8 caratteri tra lettere e numeri!\";\n  }\n\n  return {\n    errors,\n    valid: Object.keys(errors).length < 1\n  };\n}\nfunction validateLoginInput(userEmail, userPassword) {\n  const errors = {};\n\n  if (userPassword.trim() === \"\") {\n    errors.userPassword = \"Password non deve essere vuota!\";\n  }\n\n  if (userEmail.trim() === \"\") {\n    errors.userEmail = \"Email non deve essere vuota!\";\n  } else {\n    if (userEmail.trim().length > 50) {\n      errors.userEmail = \"Email non deve superare i 50 caratteri!\";\n    }\n\n    if (!userEmail.match(regExEmail)) {\n      errors.userEmail = \"Email deve essere valida!\";\n    }\n  }\n\n  return {\n    errors,\n    valid: Object.keys(errors).length < 1\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvdXRpbC92YWxpZGF0b3JzLmpzPzEzNDQiXSwibmFtZXMiOlsicmVnRXhFbWFpbCIsInJlZ0V4UGFzc3dvcmQiLCJyZWdFeFBob25lTnVtYmVyIiwidmFsaWRhdGVSZWdpc3RlcklucHV0IiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJjZWxsTnVtYmVyIiwiZW1haWwiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsImVycm9ycyIsInRyaW0iLCJsZW5ndGgiLCJ1c2VybmFtZSIsInRvU3RyaW5nIiwibWF0Y2giLCJ0ZXN0IiwidmFsaWQiLCJPYmplY3QiLCJrZXlzIiwidmFsaWRhdGVMb2dpbklucHV0IiwidXNlckVtYWlsIiwidXNlclBhc3N3b3JkIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE1BQU1BLFVBQVUsR0FDZCxxRkFERjtBQUVBLE1BQU1DLGFBQWEsR0FBRyx3Q0FBdEI7QUFDQSxJQUFJQyxnQkFBZ0IsR0FBRyxtREFBdkI7QUFFTyxTQUFTQyxxQkFBVCxDQUNMQyxTQURLLEVBRUxDLFFBRkssRUFHTEMsVUFISyxFQUlMQyxLQUpLLEVBS0xDLFFBTEssRUFNTEMsZUFOSyxFQU9MO0FBQ0EsUUFBTUMsTUFBTSxHQUFHLEVBQWY7O0FBRUEsTUFBSU4sU0FBUyxDQUFDTyxJQUFWLE9BQXFCLEVBQXpCLEVBQTZCO0FBQzNCRCxVQUFNLENBQUNOLFNBQVAsR0FBbUIsNkJBQW5CO0FBQ0Q7O0FBRUQsTUFBSUEsU0FBUyxDQUFDTyxJQUFWLEdBQWlCQyxNQUFqQixHQUEwQixFQUE5QixFQUFrQztBQUNoQ0YsVUFBTSxDQUFDRyxRQUFQLEdBQWtCLHdDQUFsQjtBQUNEOztBQUVELE1BQUlSLFFBQVEsQ0FBQ00sSUFBVCxPQUFvQixFQUF4QixFQUE0QjtBQUMxQkQsVUFBTSxDQUFDTCxRQUFQLEdBQWtCLGdDQUFsQjtBQUNEOztBQUVELE1BQUlBLFFBQVEsQ0FBQ00sSUFBVCxHQUFnQkMsTUFBaEIsR0FBeUIsRUFBN0IsRUFBaUM7QUFDL0JGLFVBQU0sQ0FBQ0csUUFBUCxHQUFrQiwyQ0FBbEI7QUFDRDs7QUFFRCxNQUFJLENBQUNQLFVBQUwsRUFBaUI7QUFDZkksVUFBTSxDQUFDSixVQUFQLEdBQW9CLDJDQUFwQjtBQUNELEdBRkQsTUFFTztBQUNMLFFBQUlBLFVBQVUsQ0FBQ1EsUUFBWCxHQUFzQkgsSUFBdEIsR0FBNkJDLE1BQTdCLEtBQXdDLEVBQTVDLEVBQWdEO0FBQzlDRixZQUFNLENBQUNKLFVBQVAsR0FBb0IsNENBQXBCO0FBQ0Q7QUFDRjs7QUFFRCxNQUFJQyxLQUFLLENBQUNJLElBQU4sT0FBaUIsRUFBckIsRUFBeUI7QUFDdkJELFVBQU0sQ0FBQ0gsS0FBUCxHQUFlLDhCQUFmO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsUUFBSUEsS0FBSyxDQUFDSSxJQUFOLEdBQWFDLE1BQWIsR0FBc0IsRUFBMUIsRUFBOEI7QUFDNUJGLFlBQU0sQ0FBQ0gsS0FBUCxHQUFlLHlDQUFmO0FBQ0Q7O0FBRUQsUUFBSSxDQUFDQSxLQUFLLENBQUNRLEtBQU4sQ0FBWWYsVUFBWixDQUFMLEVBQThCO0FBQzVCVSxZQUFNLENBQUNILEtBQVAsR0FBZSwyQkFBZjtBQUNEOztBQUVELFFBQUksQ0FBQyxpQkFBaUJTLElBQWpCLENBQXNCVCxLQUFLLENBQUNJLElBQU4sRUFBdEIsQ0FBTCxFQUEwQztBQUN4Q0QsWUFBTSxDQUFDSCxLQUFQLEdBQWUsK0NBQWY7QUFDRDtBQUNGOztBQUVELE1BQUlDLFFBQVEsQ0FBQ0csSUFBVCxPQUFvQixFQUF4QixFQUE0QjtBQUMxQkQsVUFBTSxDQUFDRixRQUFQLEdBQWtCLGlDQUFsQjtBQUNELEdBRkQsTUFFTyxJQUFJQSxRQUFRLEtBQUtDLGVBQWpCLEVBQWtDO0FBQ3ZDQyxVQUFNLENBQUNELGVBQVAsR0FBeUIsZ0NBQXpCO0FBQ0QsR0FGTSxNQUVBLElBQUksQ0FBQ0QsUUFBUSxDQUFDTyxLQUFULENBQWVkLGFBQWYsQ0FBTCxFQUFvQztBQUN6Q1MsVUFBTSxDQUFDRixRQUFQLEdBQ0Usa0VBREY7QUFFRDs7QUFFRCxTQUFPO0FBQ0xFLFVBREs7QUFFTE8sU0FBSyxFQUFFQyxNQUFNLENBQUNDLElBQVAsQ0FBWVQsTUFBWixFQUFvQkUsTUFBcEIsR0FBNkI7QUFGL0IsR0FBUDtBQUlEO0FBRU0sU0FBU1Esa0JBQVQsQ0FBNEJDLFNBQTVCLEVBQXVDQyxZQUF2QyxFQUFxRDtBQUMxRCxRQUFNWixNQUFNLEdBQUcsRUFBZjs7QUFFQSxNQUFJWSxZQUFZLENBQUNYLElBQWIsT0FBd0IsRUFBNUIsRUFBZ0M7QUFDOUJELFVBQU0sQ0FBQ1ksWUFBUCxHQUFzQixpQ0FBdEI7QUFDRDs7QUFFRCxNQUFJRCxTQUFTLENBQUNWLElBQVYsT0FBcUIsRUFBekIsRUFBNkI7QUFDM0JELFVBQU0sQ0FBQ1csU0FBUCxHQUFtQiw4QkFBbkI7QUFDRCxHQUZELE1BRU87QUFDTCxRQUFJQSxTQUFTLENBQUNWLElBQVYsR0FBaUJDLE1BQWpCLEdBQTBCLEVBQTlCLEVBQWtDO0FBQ2hDRixZQUFNLENBQUNXLFNBQVAsR0FBbUIseUNBQW5CO0FBQ0Q7O0FBRUQsUUFBSSxDQUFDQSxTQUFTLENBQUNOLEtBQVYsQ0FBZ0JmLFVBQWhCLENBQUwsRUFBa0M7QUFDaENVLFlBQU0sQ0FBQ1csU0FBUCxHQUFtQiwyQkFBbkI7QUFDRDtBQUNGOztBQUVELFNBQU87QUFDTFgsVUFESztBQUVMTyxTQUFLLEVBQUVDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZVCxNQUFaLEVBQW9CRSxNQUFwQixHQUE2QjtBQUYvQixHQUFQO0FBSUQiLCJmaWxlIjoiLi9hcG9sbG8vc2VydmVyL3V0aWwvdmFsaWRhdG9ycy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlZ0V4RW1haWwgPVxuICAvXihbMC05YS16QS1aXShbLS5cXHddKlswLTlhLXpBLVpdKSpAKFswLTlhLXpBLVpdWy1cXHddKlswLTlhLXpBLVpdXFwuKStbYS16QS1aXXsyLDl9KSQvO1xuY29uc3QgcmVnRXhQYXNzd29yZCA9IC9eKD89LipbQS1aYS16XSkoPz0uKlxcZClbQS1aYS16XFxkXXs4LH0kLztcbnZhciByZWdFeFBob25lTnVtYmVyID0gL14oXFwrXFxkezEsMn1cXHMpP1xcKD9cXGR7M31cXCk/W1xccy4tXVxcZHszfVtcXHMuLV1cXGR7NH0kLztcblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUmVnaXN0ZXJJbnB1dChcbiAgZmlyc3ROYW1lLFxuICBsYXN0TmFtZSxcbiAgY2VsbE51bWJlcixcbiAgZW1haWwsXG4gIHBhc3N3b3JkLFxuICBjb25maXJtUGFzc3dvcmRcbikge1xuICBjb25zdCBlcnJvcnMgPSB7fTtcblxuICBpZiAoZmlyc3ROYW1lLnRyaW0oKSA9PT0gXCJcIikge1xuICAgIGVycm9ycy5maXJzdE5hbWUgPSBcIk5vbWUgbm9uIGRldmUgZXNzZXJlIHZ1b3RvIVwiO1xuICB9XG5cbiAgaWYgKGZpcnN0TmFtZS50cmltKCkubGVuZ3RoID4gMjApIHtcbiAgICBlcnJvcnMudXNlcm5hbWUgPSBcIk5vbWUgbm9uIGRldmUgc3VwZXJhcmUgaSAyMCBjYXJhdHRlcmkhXCI7XG4gIH1cblxuICBpZiAobGFzdE5hbWUudHJpbSgpID09PSBcIlwiKSB7XG4gICAgZXJyb3JzLmxhc3ROYW1lID0gXCJDb2dub21lIG5vbiBkZXZlIGVzc2VyZSB2dW90byFcIjtcbiAgfVxuXG4gIGlmIChsYXN0TmFtZS50cmltKCkubGVuZ3RoID4gMzUpIHtcbiAgICBlcnJvcnMudXNlcm5hbWUgPSBcIkNvZ25vbWUgbm9uIGRldmUgc3VwZXJhcmUgaSAzNSBjYXJhdHRlcmkhXCI7XG4gIH1cblxuICBpZiAoIWNlbGxOdW1iZXIpIHtcbiAgICBlcnJvcnMuY2VsbE51bWJlciA9IFwiTnVtZXJvIGRpIHRlbGVmb25vIG5vbiBkZXZlIGVzc2VyZSB2dW90byFcIjtcbiAgfSBlbHNlIHtcbiAgICBpZiAoY2VsbE51bWJlci50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggIT09IDEwKSB7XG4gICAgICBlcnJvcnMuY2VsbE51bWJlciA9IFwiTnVtZXJvIGRpIHRlbGVmb25vIGRldmUgZXNzZXJlIGRpIDEwIGNpZnJlXCI7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVtYWlsLnRyaW0oKSA9PT0gXCJcIikge1xuICAgIGVycm9ycy5lbWFpbCA9IFwiRW1haWwgbm9uIGRldmUgZXNzZXJlIHZ1b3RhIVwiO1xuICB9IGVsc2Uge1xuICAgIGlmIChlbWFpbC50cmltKCkubGVuZ3RoID4gNTApIHtcbiAgICAgIGVycm9ycy5lbWFpbCA9IFwiRW1haWwgbm9uIGRldmUgc3VwZXJhcmUgaSA1MCBjYXJhdHRlcmkhXCI7XG4gICAgfVxuXG4gICAgaWYgKCFlbWFpbC5tYXRjaChyZWdFeEVtYWlsKSkge1xuICAgICAgZXJyb3JzLmVtYWlsID0gXCJFbWFpbCBkZXZlIGVzc2VyZSB2YWxpZGEhXCI7XG4gICAgfVxuXG4gICAgaWYgKCEvQGdtYWlsLmNvbVxccyokLy50ZXN0KGVtYWlsLnRyaW0oKSkpIHtcbiAgICAgIGVycm9ycy5lbWFpbCA9IFwiVXNhcmUgZW1haWwgY29uIGRvbWluaW8gdmFsaWRvLiBFczogZ21haWwuY29tXCI7XG4gICAgfVxuICB9XG5cbiAgaWYgKHBhc3N3b3JkLnRyaW0oKSA9PT0gXCJcIikge1xuICAgIGVycm9ycy5wYXNzd29yZCA9IFwiUGFzc3dvcmQgbm9uIGRldmUgZXNzZXJlIHZ1b3RhIVwiO1xuICB9IGVsc2UgaWYgKHBhc3N3b3JkICE9PSBjb25maXJtUGFzc3dvcmQpIHtcbiAgICBlcnJvcnMuY29uZmlybVBhc3N3b3JkID0gXCJMZSBQYXNzd29yZCBkZXZvbm8gY29pbmNpZGVyZSFcIjtcbiAgfSBlbHNlIGlmICghcGFzc3dvcmQubWF0Y2gocmVnRXhQYXNzd29yZCkpIHtcbiAgICBlcnJvcnMucGFzc3dvcmQgPVxuICAgICAgXCJQYXNzd29yZCBkZXZlIGNvbnRlbmVyZSBhbG1lbm8gOCBjYXJhdHRlcmkgdHJhIGxldHRlcmUgZSBudW1lcmkhXCI7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGVycm9ycyxcbiAgICB2YWxpZDogT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGggPCAxLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVMb2dpbklucHV0KHVzZXJFbWFpbCwgdXNlclBhc3N3b3JkKSB7XG4gIGNvbnN0IGVycm9ycyA9IHt9O1xuXG4gIGlmICh1c2VyUGFzc3dvcmQudHJpbSgpID09PSBcIlwiKSB7XG4gICAgZXJyb3JzLnVzZXJQYXNzd29yZCA9IFwiUGFzc3dvcmQgbm9uIGRldmUgZXNzZXJlIHZ1b3RhIVwiO1xuICB9XG5cbiAgaWYgKHVzZXJFbWFpbC50cmltKCkgPT09IFwiXCIpIHtcbiAgICBlcnJvcnMudXNlckVtYWlsID0gXCJFbWFpbCBub24gZGV2ZSBlc3NlcmUgdnVvdGEhXCI7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHVzZXJFbWFpbC50cmltKCkubGVuZ3RoID4gNTApIHtcbiAgICAgIGVycm9ycy51c2VyRW1haWwgPSBcIkVtYWlsIG5vbiBkZXZlIHN1cGVyYXJlIGkgNTAgY2FyYXR0ZXJpIVwiO1xuICAgIH1cblxuICAgIGlmICghdXNlckVtYWlsLm1hdGNoKHJlZ0V4RW1haWwpKSB7XG4gICAgICBlcnJvcnMudXNlckVtYWlsID0gXCJFbWFpbCBkZXZlIGVzc2VyZSB2YWxpZGEhXCI7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBlcnJvcnMsXG4gICAgdmFsaWQ6IE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoIDwgMSxcbiAgfTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./apollo/server/util/validators.js\n");

/***/ }),

/***/ "./pages/api/graphql.js":
/*!******************************!*\
  !*** ./pages/api/graphql.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"config\": function() { return /* binding */ config; }\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _apollo_server_schemas_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../apollo/server/schemas/index */ \"./apollo/server/schemas/index.js\");\n/* harmony import */ var _apollo_server_resolvers_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../apollo/server/resolvers/index */ \"./apollo/server/resolvers/index.js\");\n/* harmony import */ var _apollo_server_db_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../apollo/server/db/context */ \"./apollo/server/db/context.js\");\n\n\n\n // passo il prisma client attraverso il context del server\n\nconst apolloServer = new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.ApolloServer({\n  typeDefs: _apollo_server_schemas_index__WEBPACK_IMPORTED_MODULE_1__.typeDefs,\n  resolvers: _apollo_server_resolvers_index__WEBPACK_IMPORTED_MODULE_2__.resolvers,\n  context: ({\n    res,\n    req\n  }) => (0,_apollo_server_db_context__WEBPACK_IMPORTED_MODULE_3__.createContext)(res, req),\n  uploads: false,\n  introspection: true,\n  // serve per ritornare dal resolver l'errore\n  formatError: error => {\n    console.log(error);\n    return error;\n  }\n});\nconst config = {\n  api: {\n    bodyParser: false,\n    externalResolver: true\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (apolloServer.createHandler({\n  path: \"/api/graphql\"\n})); // module.exports = apolloServer\n//   .start()\n//   .then(() => apolloServer.createHandler({ path: \"/api/graphql\" }));\n// module.exports = apolloServer.start().then(() => {\n//   const handler = apolloServer.createHandler({ path: \"/api/graphql\" });\n//   return cors((req, res) => {\n//     console.log(res);\n//     return req.method === \"OPTIONS\" ? send(res, 200, 'ok') : handler(req, res);\n//   });\n// });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL3BhZ2VzL2FwaS9ncmFwaHFsLmpzPzc0MjYiXSwibmFtZXMiOlsiYXBvbGxvU2VydmVyIiwiQXBvbGxvU2VydmVyIiwidHlwZURlZnMiLCJyZXNvbHZlcnMiLCJjb250ZXh0IiwicmVzIiwicmVxIiwiY3JlYXRlQ29udGV4dCIsInVwbG9hZHMiLCJpbnRyb3NwZWN0aW9uIiwiZm9ybWF0RXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiZXh0ZXJuYWxSZXNvbHZlciIsImNyZWF0ZUhhbmRsZXIiLCJwYXRoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7Q0FHQTs7QUFDQSxNQUFNQSxZQUFZLEdBQUcsSUFBSUMsNkRBQUosQ0FBaUI7QUFDcENDLFVBRG9DO0FBRXBDQyxXQUZvQztBQUdwQ0MsU0FBTyxFQUFFLENBQUM7QUFBRUMsT0FBRjtBQUFPQztBQUFQLEdBQUQsS0FBa0JDLHdFQUFhLENBQUNGLEdBQUQsRUFBTUMsR0FBTixDQUhKO0FBSXBDRSxTQUFPLEVBQUUsS0FKMkI7QUFLcENDLGVBQWEsRUFBRSxJQUxxQjtBQU1wQztBQUNBQyxhQUFXLEVBQUdDLEtBQUQsSUFBVztBQUN0QkMsV0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVo7QUFDQSxXQUFPQSxLQUFQO0FBQ0Q7QUFWbUMsQ0FBakIsQ0FBckI7QUFhTyxNQUFNRyxNQUFNLEdBQUc7QUFDcEJDLEtBQUcsRUFBRTtBQUNIQyxjQUFVLEVBQUUsS0FEVDtBQUVIQyxvQkFBZ0IsRUFBRTtBQUZmO0FBRGUsQ0FBZjtBQU9QLCtEQUFlakIsWUFBWSxDQUFDa0IsYUFBYixDQUEyQjtBQUFFQyxNQUFJLEVBQUU7QUFBUixDQUEzQixDQUFmLEUsQ0FFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3BhZ2VzL2FwaS9ncmFwaHFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBvbGxvU2VydmVyIH0gZnJvbSBcImFwb2xsby1zZXJ2ZXItbWljcm9cIjtcbmltcG9ydCB7IHR5cGVEZWZzIH0gZnJvbSBcIi4uLy4uL2Fwb2xsby9zZXJ2ZXIvc2NoZW1hcy9pbmRleFwiO1xuaW1wb3J0IHsgcmVzb2x2ZXJzIH0gZnJvbSBcIi4uLy4uL2Fwb2xsby9zZXJ2ZXIvcmVzb2x2ZXJzL2luZGV4XCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2Fwb2xsby9zZXJ2ZXIvZGIvY29udGV4dFwiO1xuXG4vLyBwYXNzbyBpbCBwcmlzbWEgY2xpZW50IGF0dHJhdmVyc28gaWwgY29udGV4dCBkZWwgc2VydmVyXG5jb25zdCBhcG9sbG9TZXJ2ZXIgPSBuZXcgQXBvbGxvU2VydmVyKHtcbiAgdHlwZURlZnMsXG4gIHJlc29sdmVycyxcbiAgY29udGV4dDogKHsgcmVzLCByZXEgfSkgPT4gY3JlYXRlQ29udGV4dChyZXMsIHJlcSksXG4gIHVwbG9hZHM6IGZhbHNlLFxuICBpbnRyb3NwZWN0aW9uOiB0cnVlLFxuICAvLyBzZXJ2ZSBwZXIgcml0b3JuYXJlIGRhbCByZXNvbHZlciBsJ2Vycm9yZVxuICBmb3JtYXRFcnJvcjogKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfSxcbn0pO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBhcGk6IHtcbiAgICBib2R5UGFyc2VyOiBmYWxzZSxcbiAgICBleHRlcm5hbFJlc29sdmVyOiB0cnVlLFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBvbGxvU2VydmVyLmNyZWF0ZUhhbmRsZXIoeyBwYXRoOiBcIi9hcGkvZ3JhcGhxbFwiIH0pO1xuXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGFwb2xsb1NlcnZlclxuLy8gICAuc3RhcnQoKVxuLy8gICAudGhlbigoKSA9PiBhcG9sbG9TZXJ2ZXIuY3JlYXRlSGFuZGxlcih7IHBhdGg6IFwiL2FwaS9ncmFwaHFsXCIgfSkpO1xuXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGFwb2xsb1NlcnZlci5zdGFydCgpLnRoZW4oKCkgPT4ge1xuLy8gICBjb25zdCBoYW5kbGVyID0gYXBvbGxvU2VydmVyLmNyZWF0ZUhhbmRsZXIoeyBwYXRoOiBcIi9hcGkvZ3JhcGhxbFwiIH0pO1xuLy8gICByZXR1cm4gY29ycygocmVxLCByZXMpID0+IHtcbi8vICAgICBjb25zb2xlLmxvZyhyZXMpO1xuLy8gICAgIHJldHVybiByZXEubWV0aG9kID09PSBcIk9QVElPTlNcIiA/IHNlbmQocmVzLCAyMDAsICdvaycpIDogaGFuZGxlcihyZXEsIHJlcyk7XG4vLyAgIH0pO1xuLy8gfSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/graphql.js\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ (function(module) {

"use strict";
module.exports = require("@prisma/client");;

/***/ }),

/***/ "apollo-server-micro":
/*!**************************************!*\
  !*** external "apollo-server-micro" ***!
  \**************************************/
/***/ (function(module) {

"use strict";
module.exports = require("apollo-server-micro");;

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ (function(module) {

"use strict";
module.exports = require("bcryptjs");;

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/***/ (function(module) {

"use strict";
module.exports = require("cookie");;

/***/ }),

/***/ "graphql":
/*!**************************!*\
  !*** external "graphql" ***!
  \**************************/
/***/ (function(module) {

"use strict";
module.exports = require("graphql");;

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ (function(module) {

"use strict";
module.exports = require("jsonwebtoken");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/graphql.js"));
module.exports = __webpack_exports__;

})();