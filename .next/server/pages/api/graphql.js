/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/graphql";
exports.ids = ["pages/api/graphql"];
exports.modules = {

/***/ "./apollo/server/db/context.js":
/*!*************************************!*\
  !*** ./apollo/server/db/context.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createPrismaClient\": function() { return /* binding */ createPrismaClient; },\n/* harmony export */   \"createContext\": function() { return /* binding */ createContext; }\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction createPrismaClient() {\n  let prisma;\n\n  if (false) {} else {\n    if (!global.prisma) {\n      global.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n\n    prisma = global.prisma;\n    return prisma;\n  }\n}\nfunction createContext(res, req) {\n  var _verified;\n\n  const prisma = createPrismaClient();\n  var verified;\n\n  if (req.headers && req.headers.authorization) {\n    // in req.headers c'Ã¨ il token passato in apollo-client\n    var token = req.headers.authorization.split(\" \")[1];\n\n    try {\n      verified = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, process.env.TOKEN_SECRET_KEY);\n    } catch (err) {\n      console.log(\"Token non valido: \", err);\n    }\n  } // console.log(\"sono in createContext: Not auth header\");\n\n\n  return {\n    res,\n    req,\n    prisma,\n    userId: (_verified = verified) === null || _verified === void 0 ? void 0 : _verified.profileId\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvZGIvY29udGV4dC5qcz85YTg5Il0sIm5hbWVzIjpbImNyZWF0ZVByaXNtYUNsaWVudCIsInByaXNtYSIsImdsb2JhbCIsIlByaXNtYUNsaWVudCIsImNyZWF0ZUNvbnRleHQiLCJyZXMiLCJyZXEiLCJ2ZXJpZmllZCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidG9rZW4iLCJzcGxpdCIsImp3dCIsInByb2Nlc3MiLCJlbnYiLCJUT0tFTl9TRUNSRVRfS0VZIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInVzZXJJZCIsInByb2ZpbGVJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUVPLFNBQVNBLGtCQUFULEdBQThCO0FBQ25DLE1BQUlDLE1BQUo7O0FBQ0EsYUFBMkMsRUFBM0MsTUFHTztBQUNMLFFBQUksQ0FBQ0MsTUFBTSxDQUFDRCxNQUFaLEVBQW9CO0FBQ2xCQyxZQUFNLENBQUNELE1BQVAsR0FBZ0IsSUFBSUUsd0RBQUosRUFBaEI7QUFDRDs7QUFDREYsVUFBTSxHQUFHQyxNQUFNLENBQUNELE1BQWhCO0FBQ0EsV0FBT0EsTUFBUDtBQUNEO0FBQ0Y7QUFFTSxTQUFTRyxhQUFULENBQXVCQyxHQUF2QixFQUE0QkMsR0FBNUIsRUFBaUM7QUFBQTs7QUFDdEMsUUFBTUwsTUFBTSxHQUFHRCxrQkFBa0IsRUFBakM7QUFDQSxNQUFJTyxRQUFKOztBQUNBLE1BQUlELEdBQUcsQ0FBQ0UsT0FBSixJQUFlRixHQUFHLENBQUNFLE9BQUosQ0FBWUMsYUFBL0IsRUFBOEM7QUFDNUM7QUFDQSxRQUFJQyxLQUFLLEdBQUdKLEdBQUcsQ0FBQ0UsT0FBSixDQUFZQyxhQUFaLENBQTBCRSxLQUExQixDQUFnQyxHQUFoQyxFQUFxQyxDQUFyQyxDQUFaOztBQUNBLFFBQUk7QUFDRkosY0FBUSxHQUFHSywwREFBQSxDQUFXRixLQUFYLEVBQWtCRyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsZ0JBQTlCLENBQVg7QUFDRCxLQUZELENBRUUsT0FBT0MsR0FBUCxFQUFZO0FBQ1pDLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLG9CQUFaLEVBQWtDRixHQUFsQztBQUNEO0FBQ0YsR0FYcUMsQ0FhdEM7OztBQUNBLFNBQU87QUFBRVgsT0FBRjtBQUFPQyxPQUFQO0FBQVlMLFVBQVo7QUFBb0JrQixVQUFNLGVBQUVaLFFBQUYsOENBQUUsVUFBVWE7QUFBdEMsR0FBUDtBQUNEIiwiZmlsZSI6Ii4vYXBvbGxvL3NlcnZlci9kYi9jb250ZXh0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5cbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJpc21hQ2xpZW50KCkge1xuICBsZXQgcHJpc21hO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xuICAgIHJldHVybiBwcmlzbWE7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFnbG9iYWwucHJpc21hKSB7XG4gICAgICBnbG9iYWwucHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xuICAgIH1cbiAgICBwcmlzbWEgPSBnbG9iYWwucHJpc21hO1xuICAgIHJldHVybiBwcmlzbWE7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQocmVzLCByZXEpIHtcbiAgY29uc3QgcHJpc21hID0gY3JlYXRlUHJpc21hQ2xpZW50KCk7XG4gIHZhciB2ZXJpZmllZDtcbiAgaWYgKHJlcS5oZWFkZXJzICYmIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24pIHtcbiAgICAvLyBpbiByZXEuaGVhZGVycyBjJ8OoIGlsIHRva2VuIHBhc3NhdG8gaW4gYXBvbGxvLWNsaWVudFxuICAgIHZhciB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCIgXCIpWzFdO1xuICAgIHRyeSB7XG4gICAgICB2ZXJpZmllZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LlRPS0VOX1NFQ1JFVF9LRVkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coXCJUb2tlbiBub24gdmFsaWRvOiBcIiwgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvLyBjb25zb2xlLmxvZyhcInNvbm8gaW4gY3JlYXRlQ29udGV4dDogTm90IGF1dGggaGVhZGVyXCIpO1xuICByZXR1cm4geyByZXMsIHJlcSwgcHJpc21hLCB1c2VySWQ6IHZlcmlmaWVkPy5wcm9maWxlSWQgfTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./apollo/server/db/context.js\n");

/***/ }),

/***/ "./apollo/server/resolvers/cart-resolver.js":
/*!**************************************************!*\
  !*** ./apollo/server/resolvers/cart-resolver.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cartResolver\": function() { return /* binding */ cartResolver; }\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n\nconst cartResolver = {\n  Query: {\n    async GetCurrentUserCart(_, __, context) {\n      if (!context.userId) {\n        // throw new AuthenticationError(\"Non Autenticato\");\n        console.log(\"cartResolver non autenticato\");\n      }\n\n      return await context.prisma.cart.findFirst({\n        where: {\n          profileId: context.userId\n        }\n      });\n    }\n\n  },\n  Mutation: {\n    async UpsertCart(_, {\n      createCartInput: {\n        cartItems\n      }\n    }, context) {\n      if (!context.userId) {\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.AuthenticationError(\"Non Autenticato\");\n      }\n\n      const cart = await context.prisma.cart.findFirst({\n        where: {\n          profileId: context.userId\n        }\n      });\n\n      if (cart) {\n        await context.prisma.cart.delete({\n          where: {\n            id: cart.id\n          }\n        });\n        return await context.prisma.cart.create({\n          data: {\n            profileId: context.userId,\n            cartItems: {\n              create: cartItems\n            }\n          }\n        });\n      } else {\n        return await context.prisma.cart.create({\n          data: {\n            profileId: context.userId,\n            cartItems: {\n              create: cartItems\n            }\n          }\n        });\n      }\n    }\n\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvcmVzb2x2ZXJzL2NhcnQtcmVzb2x2ZXIuanM/MjQwOSJdLCJuYW1lcyI6WyJjYXJ0UmVzb2x2ZXIiLCJRdWVyeSIsIkdldEN1cnJlbnRVc2VyQ2FydCIsIl8iLCJfXyIsImNvbnRleHQiLCJ1c2VySWQiLCJjb25zb2xlIiwibG9nIiwicHJpc21hIiwiY2FydCIsImZpbmRGaXJzdCIsIndoZXJlIiwicHJvZmlsZUlkIiwiTXV0YXRpb24iLCJVcHNlcnRDYXJ0IiwiY3JlYXRlQ2FydElucHV0IiwiY2FydEl0ZW1zIiwiQXV0aGVudGljYXRpb25FcnJvciIsImRlbGV0ZSIsImlkIiwiY3JlYXRlIiwiZGF0YSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFTyxNQUFNQSxZQUFZLEdBQUc7QUFDMUJDLE9BQUssRUFBRTtBQUNMLFVBQU1DLGtCQUFOLENBQXlCQyxDQUF6QixFQUE0QkMsRUFBNUIsRUFBZ0NDLE9BQWhDLEVBQXlDO0FBQ3ZDLFVBQUksQ0FBQ0EsT0FBTyxDQUFDQyxNQUFiLEVBQXFCO0FBQ25CO0FBQ0FDLGVBQU8sQ0FBQ0MsR0FBUixDQUFZLDhCQUFaO0FBQ0Q7O0FBRUQsYUFBTyxNQUFNSCxPQUFPLENBQUNJLE1BQVIsQ0FBZUMsSUFBZixDQUFvQkMsU0FBcEIsQ0FBOEI7QUFDekNDLGFBQUssRUFBRTtBQUNMQyxtQkFBUyxFQUFFUixPQUFPLENBQUNDO0FBRGQ7QUFEa0MsT0FBOUIsQ0FBYjtBQUtEOztBQVpJLEdBRG1CO0FBZ0IxQlEsVUFBUSxFQUFFO0FBQ1IsVUFBTUMsVUFBTixDQUFpQlosQ0FBakIsRUFBb0I7QUFBRWEscUJBQWUsRUFBRTtBQUFFQztBQUFGO0FBQW5CLEtBQXBCLEVBQXdEWixPQUF4RCxFQUFpRTtBQUMvRCxVQUFJLENBQUNBLE9BQU8sQ0FBQ0MsTUFBYixFQUFxQjtBQUNuQixjQUFNLElBQUlZLG9FQUFKLENBQXdCLGlCQUF4QixDQUFOO0FBQ0Q7O0FBRUQsWUFBTVIsSUFBSSxHQUFHLE1BQU1MLE9BQU8sQ0FBQ0ksTUFBUixDQUFlQyxJQUFmLENBQW9CQyxTQUFwQixDQUE4QjtBQUMvQ0MsYUFBSyxFQUFFO0FBQ0xDLG1CQUFTLEVBQUVSLE9BQU8sQ0FBQ0M7QUFEZDtBQUR3QyxPQUE5QixDQUFuQjs7QUFNQSxVQUFJSSxJQUFKLEVBQVU7QUFDUixjQUFNTCxPQUFPLENBQUNJLE1BQVIsQ0FBZUMsSUFBZixDQUFvQlMsTUFBcEIsQ0FBMkI7QUFDL0JQLGVBQUssRUFBRTtBQUNMUSxjQUFFLEVBQUVWLElBQUksQ0FBQ1U7QUFESjtBQUR3QixTQUEzQixDQUFOO0FBS0EsZUFBTyxNQUFNZixPQUFPLENBQUNJLE1BQVIsQ0FBZUMsSUFBZixDQUFvQlcsTUFBcEIsQ0FBMkI7QUFDdENDLGNBQUksRUFBRTtBQUNKVCxxQkFBUyxFQUFFUixPQUFPLENBQUNDLE1BRGY7QUFFSlcscUJBQVMsRUFBRTtBQUNUSSxvQkFBTSxFQUFFSjtBQURDO0FBRlA7QUFEZ0MsU0FBM0IsQ0FBYjtBQVFELE9BZEQsTUFjTztBQUNMLGVBQU8sTUFBTVosT0FBTyxDQUFDSSxNQUFSLENBQWVDLElBQWYsQ0FBb0JXLE1BQXBCLENBQTJCO0FBQ3RDQyxjQUFJLEVBQUU7QUFDSlQscUJBQVMsRUFBRVIsT0FBTyxDQUFDQyxNQURmO0FBRUpXLHFCQUFTLEVBQUU7QUFDVEksb0JBQU0sRUFBRUo7QUFEQztBQUZQO0FBRGdDLFNBQTNCLENBQWI7QUFRRDtBQUNGOztBQXBDTztBQWhCZ0IsQ0FBckIiLCJmaWxlIjoiLi9hcG9sbG8vc2VydmVyL3Jlc29sdmVycy9jYXJ0LXJlc29sdmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0aGVudGljYXRpb25FcnJvciwgRXJyb3IgfSBmcm9tIFwiYXBvbGxvLXNlcnZlci1taWNyb1wiO1xuXG5leHBvcnQgY29uc3QgY2FydFJlc29sdmVyID0ge1xuICBRdWVyeToge1xuICAgIGFzeW5jIEdldEN1cnJlbnRVc2VyQ2FydChfLCBfXywgY29udGV4dCkge1xuICAgICAgaWYgKCFjb250ZXh0LnVzZXJJZCkge1xuICAgICAgICAvLyB0aHJvdyBuZXcgQXV0aGVudGljYXRpb25FcnJvcihcIk5vbiBBdXRlbnRpY2F0b1wiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJjYXJ0UmVzb2x2ZXIgbm9uIGF1dGVudGljYXRvXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgY29udGV4dC5wcmlzbWEuY2FydC5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIHByb2ZpbGVJZDogY29udGV4dC51c2VySWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9LFxuXG4gIE11dGF0aW9uOiB7XG4gICAgYXN5bmMgVXBzZXJ0Q2FydChfLCB7IGNyZWF0ZUNhcnRJbnB1dDogeyBjYXJ0SXRlbXMgfSB9LCBjb250ZXh0KSB7XG4gICAgICBpZiAoIWNvbnRleHQudXNlcklkKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoZW50aWNhdGlvbkVycm9yKFwiTm9uIEF1dGVudGljYXRvXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjYXJ0ID0gYXdhaXQgY29udGV4dC5wcmlzbWEuY2FydC5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIHByb2ZpbGVJZDogY29udGV4dC51c2VySWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKGNhcnQpIHtcbiAgICAgICAgYXdhaXQgY29udGV4dC5wcmlzbWEuY2FydC5kZWxldGUoe1xuICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBpZDogY2FydC5pZCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNvbnRleHQucHJpc21hLmNhcnQuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBwcm9maWxlSWQ6IGNvbnRleHQudXNlcklkLFxuICAgICAgICAgICAgY2FydEl0ZW1zOiB7XG4gICAgICAgICAgICAgIGNyZWF0ZTogY2FydEl0ZW1zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBjb250ZXh0LnByaXNtYS5jYXJ0LmNyZWF0ZSh7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgcHJvZmlsZUlkOiBjb250ZXh0LnVzZXJJZCxcbiAgICAgICAgICAgIGNhcnRJdGVtczoge1xuICAgICAgICAgICAgICBjcmVhdGU6IGNhcnRJdGVtcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgfSxcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./apollo/server/resolvers/cart-resolver.js\n");

/***/ }),

/***/ "./apollo/server/resolvers/index.js":
/*!******************************************!*\
  !*** ./apollo/server/resolvers/index.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resolvers\": function() { return /* binding */ resolvers; }\n/* harmony export */ });\n/* harmony import */ var _user_resolver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user-resolver */ \"./apollo/server/resolvers/user-resolver.js\");\n/* harmony import */ var _product_resolver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./product-resolver */ \"./apollo/server/resolvers/product-resolver.js\");\n/* harmony import */ var _order_resolver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./order-resolver */ \"./apollo/server/resolvers/order-resolver.js\");\n/* harmony import */ var _cart_resolver__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cart-resolver */ \"./apollo/server/resolvers/cart-resolver.js\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! graphql */ \"graphql\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(graphql__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! date-fns */ \"date-fns\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_6__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\nconst resolvers = {\n  Query: _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, _user_resolver__WEBPACK_IMPORTED_MODULE_0__.userResolver.Query), _product_resolver__WEBPACK_IMPORTED_MODULE_1__.productResolver.Query), _order_resolver__WEBPACK_IMPORTED_MODULE_2__.orderResolver.Query), _cart_resolver__WEBPACK_IMPORTED_MODULE_3__.cartResolver.Query),\n  Mutation: _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, _user_resolver__WEBPACK_IMPORTED_MODULE_0__.userResolver.Mutation), _product_resolver__WEBPACK_IMPORTED_MODULE_1__.productResolver.Mutation), _order_resolver__WEBPACK_IMPORTED_MODULE_2__.orderResolver.Mutation), _cart_resolver__WEBPACK_IMPORTED_MODULE_3__.cartResolver.Mutation),\n  //---------- Top-level resolvers ----------\n  User: {\n    profile: async (parent, _, context) => {\n      var _context$prisma;\n\n      const profile = await (context === null || context === void 0 ? void 0 : (_context$prisma = context.prisma) === null || _context$prisma === void 0 ? void 0 : _context$prisma.profile.findUnique({\n        where: {\n          id: parent.id\n        }\n      }));\n      return profile;\n    }\n  },\n  Profile: {\n    user: async (parent, _, context) => {\n      var _context$prisma2;\n\n      const user = await (context === null || context === void 0 ? void 0 : (_context$prisma2 = context.prisma) === null || _context$prisma2 === void 0 ? void 0 : _context$prisma2.user.findUnique({\n        where: {\n          id: parent.id\n        }\n      }));\n      return user;\n    }\n  },\n  Category: {\n    products: async (parent, _, context) => {\n      var _context$prisma3;\n\n      // cerco i prodotti che hanno categoryId === parent.id (id della categoria)\n      const p = await (context === null || context === void 0 ? void 0 : (_context$prisma3 = context.prisma) === null || _context$prisma3 === void 0 ? void 0 : _context$prisma3.product.findMany({\n        where: {\n          categoryId: parent.id\n        }\n      }));\n      return p;\n    }\n  },\n  // ogni volta che si fa la query GetProducts il campo category\n  // ritorna la Category del Product\n  Product: {\n    category: async (parent, _, context) => {\n      var _context$prisma4;\n\n      const c = await (context === null || context === void 0 ? void 0 : (_context$prisma4 = context.prisma) === null || _context$prisma4 === void 0 ? void 0 : _context$prisma4.category.findFirst({\n        where: {\n          id: parent.categoryId\n        }\n      }));\n      return c;\n    }\n  },\n  OrderItem: {\n    product: async (parent, _, context) => {\n      const p = await context.prisma.product.findFirst({\n        where: {\n          id: parent.productId\n        }\n      });\n      return p;\n    },\n    order: async (parent, _, context) => {\n      const o = await context.prisma.order.findUnique({\n        where: {\n          id: parent.orderId\n        }\n      });\n      return o;\n    }\n  },\n  Order: {\n    profile: async (parent, _, context) => {\n      const user = await context.prisma.profile.findUnique({\n        where: {\n          id: parent.profileId\n        }\n      });\n      return user;\n    },\n    orderItems: async (parent, _, context) => {\n      const orderItems = await context.prisma.orderItem.findMany({\n        where: {\n          orderId: parent.id\n        }\n      });\n      return orderItems;\n    }\n  },\n  Cart: {\n    profile: async (parent, _, context) => {\n      return await context.prisma.profile.findUnique({\n        where: {\n          id: context.userId\n        }\n      });\n    },\n    cartItems: async (parent, _, context) => {\n      return await context.prisma.cartItem.findMany({\n        where: {\n          cartId: parent.id\n        }\n      });\n    }\n  },\n  CartItem: {\n    product: async (parent, _, context) => {\n      return await context.prisma.product.findUnique({\n        where: {\n          id: parent.productId\n        }\n      });\n    }\n  },\n  //---------- End Top-level resolvers ----------\n  //---------- Graphql Scalar ----------\n  BigInt: new graphql__WEBPACK_IMPORTED_MODULE_4__.GraphQLScalarType({\n    name: \"BigInt\",\n    description: \"Custom Int scalar type\",\n\n    //viene chiamata quando il value viene preso dal client (input)\n    parseValue(value) {\n      return typeof value === \"string\" ? parseInt(value) : value;\n    },\n\n    //viene chiamata quando il value deve ritornare al client\n    serialize(value) {\n      return typeof value === \"string\" ? parseInt(value) : value;\n    },\n\n    parseLiteral(ast) {\n      if (ast.kind === graphql__WEBPACK_IMPORTED_MODULE_4__.Kind.INT) {\n        return parseInt(ast.value); // return ast.value;\n      }\n\n      throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_5__.UserInputError(\"Provided value is not an integer\");\n    }\n\n  }),\n  Date: new graphql__WEBPACK_IMPORTED_MODULE_4__.GraphQLScalarType({\n    name: \"Date\",\n    description: \"Date scalar type\",\n\n    parseValue(value) {\n      return new Date(value); // value from the client\n    },\n\n    serialize(value) {\n      const date = (0,date_fns__WEBPACK_IMPORTED_MODULE_6__.format)(value, \"dd/MM/yyyy, HH:mm\");\n      return date; // value sent to the client\n    },\n\n    parseLiteral(ast) {\n      if (ast.kind === graphql__WEBPACK_IMPORTED_MODULE_4__.Kind.INT) {\n        return parseInt(ast.value, 10);\n      }\n\n      return null;\n    }\n\n  })\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvcmVzb2x2ZXJzL2luZGV4LmpzPzcwNmMiXSwibmFtZXMiOlsicmVzb2x2ZXJzIiwiUXVlcnkiLCJ1c2VyUmVzb2x2ZXIiLCJwcm9kdWN0UmVzb2x2ZXIiLCJvcmRlclJlc29sdmVyIiwiY2FydFJlc29sdmVyIiwiTXV0YXRpb24iLCJVc2VyIiwicHJvZmlsZSIsInBhcmVudCIsIl8iLCJjb250ZXh0IiwicHJpc21hIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaWQiLCJQcm9maWxlIiwidXNlciIsIkNhdGVnb3J5IiwicHJvZHVjdHMiLCJwIiwicHJvZHVjdCIsImZpbmRNYW55IiwiY2F0ZWdvcnlJZCIsIlByb2R1Y3QiLCJjYXRlZ29yeSIsImMiLCJmaW5kRmlyc3QiLCJPcmRlckl0ZW0iLCJwcm9kdWN0SWQiLCJvcmRlciIsIm8iLCJvcmRlcklkIiwiT3JkZXIiLCJwcm9maWxlSWQiLCJvcmRlckl0ZW1zIiwib3JkZXJJdGVtIiwiQ2FydCIsInVzZXJJZCIsImNhcnRJdGVtcyIsImNhcnRJdGVtIiwiY2FydElkIiwiQ2FydEl0ZW0iLCJCaWdJbnQiLCJHcmFwaFFMU2NhbGFyVHlwZSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInBhcnNlVmFsdWUiLCJ2YWx1ZSIsInBhcnNlSW50Iiwic2VyaWFsaXplIiwicGFyc2VMaXRlcmFsIiwiYXN0Iiwia2luZCIsIktpbmQiLCJVc2VySW5wdXRFcnJvciIsIkRhdGUiLCJkYXRlIiwiZm9ybWF0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRU8sTUFBTUEsU0FBUyxHQUFHO0FBQ3ZCQyxPQUFLLDhEQUNBQyw4REFEQSxHQUVBQyxvRUFGQSxHQUdBQyxnRUFIQSxHQUlBQyw4REFKQSxDQURrQjtBQVF2QkMsVUFBUSw4REFDSEosaUVBREcsR0FFSEMsdUVBRkcsR0FHSEMs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QUNWLEtBQUQsRUFBUSxtQkFBUixDQUFuQjtBQUNBLGFBQU9TLElBQVAsQ0FGZSxDQUVGO0FBQ2QsS0FUeUI7O0FBVTFCTixnQkFBWSxDQUFDQyxHQUFELEVBQU07QUFDaEIsVUFBSUEsR0FBRyxDQUFDQyxJQUFKLEtBQWFDLDZDQUFqQixFQUEyQjtBQUN6QixlQUFPTCxRQUFRLENBQUNHLEdBQUcsQ0FBQ0osS0FBTCxFQUFZLEVBQVosQ0FBZjtBQUNEOztBQUNELGFBQU8sSUFBUDtBQUNEOztBQWZ5QixHQUF0QjtBQTNKaUIsQ0FBbEIiLCJmaWxlIjoiLi9hcG9sbG8vc2VydmVyL3Jlc29sdmVycy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZXJSZXNvbHZlciB9IGZyb20gXCIuL3VzZXItcmVzb2x2ZXJcIjtcbmltcG9ydCB7IHByb2R1Y3RSZXNvbHZlciB9IGZyb20gXCIuL3Byb2R1Y3QtcmVzb2x2ZXJcIjtcbmltcG9ydCB7IG9yZGVyUmVzb2x2ZXIgfSBmcm9tIFwiLi9vcmRlci1yZXNvbHZlclwiO1xuaW1wb3J0IHsgY2FydFJlc29sdmVyIH0gZnJvbSBcIi4vY2FydC1yZXNvbHZlclwiO1xuaW1wb3J0IHsgR3JhcGhRTFNjYWxhclR5cGUsIEtpbmQgfSBmcm9tIFwiZ3JhcGhxbFwiO1xuaW1wb3J0IHsgVXNlcklucHV0RXJyb3IgfSBmcm9tIFwiYXBvbGxvLXNlcnZlci1taWNyb1wiO1xuXG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tIFwiZGF0ZS1mbnNcIjtcblxuZXhwb3J0IGNvbnN0IHJlc29sdmVycyA9IHtcbiAgUXVlcnk6IHtcbiAgICAuLi51c2VyUmVzb2x2ZXIuUXVlcnksXG4gICAgLi4ucHJvZHVjdFJlc29sdmVyLlF1ZXJ5LFxuICAgIC4uLm9yZGVyUmVzb2x2ZXIuUXVlcnksXG4gICAgLi4uY2FydFJlc29sdmVyLlF1ZXJ5LFxuICB9LFxuXG4gIE11dGF0aW9uOiB7XG4gICAgLi4udXNlclJlc29sdmVyLk11dGF0aW9uLFxuICAgIC4uLnByb2R1Y3RSZXNvbHZlci5NdXRhdGlvbixcbiAgICAuLi5vcmRlclJlc29sdmVyLk11dGF0aW9uLFxuICAgIC4uLmNhcnRSZXNvbHZlci5NdXRhdGlvbixcbiAgfSxcblxuICAvLy0tLS0tLS0tLS0gVG9wLWxldmVsIHJlc29sdmVycyAtLS0tLS0tLS0tXG4gIFVzZXI6IHtcbiAgICBwcm9maWxlOiBhc3luYyAocGFyZW50LCBfLCBjb250ZXh0KSA9PiB7XG4gICAgICBjb25zdCBwcm9maWxlID0gYXdhaXQgY29udGV4dD8ucHJpc21hPy5wcm9maWxlLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGlkOiBwYXJlbnQuaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHByb2ZpbGU7XG4gICAgfSxcbiAgfSxcblxuICBQcm9maWxlOiB7XG4gICAgdXNlcjogYXN5bmMgKHBhcmVudCwgXywgY29udGV4dCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGNvbnRleHQ/LnByaXNtYT8udXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZDogcGFyZW50LmlkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB1c2VyO1xuICAgIH0sXG4gIH0sXG5cbiAgQ2F0ZWdvcnk6IHtcbiAgICBwcm9kdWN0czogYXN5bmMgKHBhcmVudCwgXywgY29udGV4dCkgPT4ge1xuICAgICAgLy8gY2VyY28gaSBwcm9kb3R0aSBjaGUgaGFubm8gY2F0ZWdvcnlJZCA9PT0gcGFyZW50LmlkIChpZCBkZWxsYSBjYXRlZ29yaWEpXG4gICAgICBjb25zdCBwID0gYXdhaXQgY29udGV4dD8ucHJpc21hPy5wcm9kdWN0LmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgY2F0ZWdvcnlJZDogcGFyZW50LmlkIH0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHA7XG4gICAgfSxcbiAgfSxcblxuICAvLyBvZ25pIHZvbHRhIGNoZSBzaSBmYSBsYSBxdWVyeSBHZXRQcm9kdWN0cyBpbCBjYW1wbyBjYXRlZ29yeVxuICAvLyByaXRvcm5hIGxhIENhdGVnb3J5IGRlbCBQcm9kdWN0XG4gIFByb2R1Y3Q6IHtcbiAgICBjYXRlZ29yeTogYXN5bmMgKHBhcmVudCwgXywgY29udGV4dCkgPT4ge1xuICAgICAgY29uc3QgYyA9IGF3YWl0IGNvbnRleHQ/LnByaXNtYT8uY2F0ZWdvcnkuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHBhcmVudC5jYXRlZ29yeUlkIH0sXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjO1xuICAgIH0sXG4gIH0sXG5cbiAgT3JkZXJJdGVtOiB7XG4gICAgcHJvZHVjdDogYXN5bmMgKHBhcmVudCwgXywgY29udGV4dCkgPT4ge1xuICAgICAgY29uc3QgcCA9IGF3YWl0IGNvbnRleHQucHJpc21hLnByb2R1Y3QuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZDogcGFyZW50LnByb2R1Y3RJZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcDtcbiAgICB9LFxuICAgIG9yZGVyOiBhc3luYyAocGFyZW50LCBfLCBjb250ZXh0KSA9PiB7XG4gICAgICBjb25zdCBvID0gYXdhaXQgY29udGV4dC5wcmlzbWEub3JkZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgaWQ6IHBhcmVudC5vcmRlcklkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvO1xuICAgIH0sXG4gIH0sXG5cbiAgT3JkZXI6IHtcbiAgICBwcm9maWxlOiBhc3luYyAocGFyZW50LCBfLCBjb250ZXh0KSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgY29udGV4dC5wcmlzbWEucHJvZmlsZS5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZDogcGFyZW50LnByb2ZpbGVJZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdXNlcjtcbiAgICB9LFxuXG4gICAgb3JkZXJJdGVtczogYXN5bmMgKHBhcmVudCwgXywgY29udGV4dCkgPT4ge1xuICAgICAgY29uc3Qgb3JkZXJJdGVtcyA9IGF3YWl0IGNvbnRleHQucHJpc21hLm9yZGVySXRlbS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgb3JkZXJJZDogcGFyZW50LmlkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvcmRlckl0ZW1zO1xuICAgIH0sXG4gIH0sXG5cbiAgQ2FydDoge1xuICAgIHByb2ZpbGU6IGFzeW5jIChwYXJlbnQsIF8sIGNvbnRleHQpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBjb250ZXh0LnByaXNtYS5wcm9maWxlLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGlkOiBjb250ZXh0LnVzZXJJZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBjYXJ0SXRlbXM6IGFzeW5jIChwYXJlbnQsIF8sIGNvbnRleHQpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBjb250ZXh0LnByaXNtYS5jYXJ0SXRlbS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgY2FydElkOiBwYXJlbnQuaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9LFxuXG4gIENhcnRJdGVtOiB7XG4gICAgcHJvZHVjdDogYXN5bmMgKHBhcmVudCwgXywgY29udGV4dCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IGNvbnRleHQucHJpc21hLnByb2R1Y3QuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgaWQ6IHBhcmVudC5wcm9kdWN0SWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9LFxuICAvLy0tLS0tLS0tLS0gRW5kIFRvcC1sZXZlbCByZXNvbHZlcnMgLS0tLS0tLS0tLVxuXG4gIC8vLS0tLS0tLS0tLSBHcmFwaHFsIFNjYWxhciAtLS0tLS0tLS0tXG4gIEJpZ0ludDogbmV3IEdyYXBoUUxTY2FsYXJUeXBlKHtcbiAgICBuYW1lOiBcIkJpZ0ludFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkN1c3RvbSBJbnQgc2NhbGFyIHR5cGVcIixcbiAgICAvL3ZpZW5lIGNoaWFtYXRhIHF1YW5kbyBpbCB2YWx1ZSB2aWVuZSBwcmVzbyBkYWwgY2xpZW50IChpbnB1dClcbiAgICBwYXJzZVZhbHVlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gcGFyc2VJbnQodmFsdWUpIDogdmFsdWU7XG4gICAgfSxcbiAgICAvL3ZpZW5lIGNoaWFtYXRhIHF1YW5kbyBpbCB2YWx1ZSBkZXZlIHJpdG9ybmFyZSBhbCBjbGllbnRcbiAgICBzZXJpYWxpemUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBwYXJzZUludCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB9LFxuICAgIHBhcnNlTGl0ZXJhbChhc3QpIHtcbiAgICAgIGlmIChhc3Qua2luZCA9PT0gS2luZC5JTlQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGFzdC52YWx1ZSk7XG4gICAgICAgIC8vIHJldHVybiBhc3QudmFsdWU7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgVXNlcklucHV0RXJyb3IoXCJQcm92aWRlZCB2YWx1ZSBpcyBub3QgYW4gaW50ZWdlclwiKTtcbiAgICB9LFxuICB9KSxcblxuICBEYXRlOiBuZXcgR3JhcGhRTFNjYWxhclR5cGUoe1xuICAgIG5hbWU6IFwiRGF0ZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkRhdGUgc2NhbGFyIHR5cGVcIixcbiAgICBwYXJzZVZhbHVlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpOyAvLyB2YWx1ZSBmcm9tIHRoZSBjbGllbnRcbiAgICB9LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSkge1xuICAgICAgY29uc3QgZGF0ZSA9IGZvcm1hdCh2YWx1ZSwgXCJkZC9NTS95eXl5LCBISDptbVwiKTtcbiAgICAgIHJldHVybiBkYXRlOyAvLyB2YWx1ZSBzZW50IHRvIHRoZSBjbGllbnRcbiAgICB9LFxuICAgIHBhcnNlTGl0ZXJhbChhc3QpIHtcbiAgICAgIGlmIChhc3Qua2luZCA9PT0gS2luZC5JTlQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGFzdC52YWx1ZSwgMTApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgfSksXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./apollo/server/resolvers/index.js\n");

/***/ }),

/***/ "./apollo/server/resolvers/order-resolver.js":
/*!***************************************************!*\
  !*** ./apollo/server/resolvers/order-resolver.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"orderResolver\": function() { return /* binding */ orderResolver; }\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_validators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/validators */ \"./apollo/server/util/validators.js\");\n\n\nconst orderResolver = {\n  Query: {\n    async GetAllCurrentUserOrders(_, __, context) {\n      if (!context.userId) {\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.AuthenticationError(\"Non Autenticato\");\n      }\n\n      return await context.prisma.order.findMany({\n        where: {\n          profileId: context.userId\n        }\n      });\n    }\n\n  },\n  Mutation: {\n    // per creare ordine serve un array di OrderItem, total, userId\n    async CreateOrder(_, {\n      createOrderInput: {\n        orderItems,\n        total,\n        via,\n        numeroCivico,\n        citta,\n        provincia,\n        cap\n      }\n    }, context) {\n      if (!context.userId) {\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.AuthenticationError(\"Non Autenticato\");\n      }\n\n      const {\n        errors,\n        valid\n      } = (0,_util_validators__WEBPACK_IMPORTED_MODULE_1__.validateDeliveryAddress)(via, numeroCivico, citta, provincia, cap);\n      if (!valid) throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.UserInputError(\"Errori nell' indirizzo\", {\n        errors\n      });\n      const delivery = via.concat(\" \", numeroCivico.toString(), \" \", citta, \" \", provincia, \" \", cap.toString()); // creo order\n\n      const order = await context.prisma.order.create({\n        data: {\n          total,\n          delivery,\n          profileId: context.userId\n        }\n      }); // creo gli orderItems, mettendo orderId in automatico il db li assegna all'ordine\n\n      orderItems.map(async orderItem => {\n        const oi = await context.prisma.orderItem.create({\n          data: {\n            quantity: orderItem.quantity,\n            productCost: orderItem.productCost,\n            productId: orderItem.productId,\n            orderId: order.id\n          }\n        });\n        return oi;\n      });\n      const cart = await context.prisma.cart.findFirst({\n        where: {\n          profileId: context.userId\n        }\n      }); // elimino il cart e i cartItems di conseguenza\n\n      await context.prisma.cart.delete({\n        where: {\n          id: cart.id\n        }\n      }); // console.log(order);\n\n      return order;\n    }\n\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvcmVzb2x2ZXJzL29yZGVyLXJlc29sdmVyLmpzPzQwNWUiXSwibmFtZXMiOlsib3JkZXJSZXNvbHZlciIsIlF1ZXJ5IiwiR2V0QWxsQ3VycmVudFVzZXJPcmRlcnMiLCJfIiwiX18iLCJjb250ZXh0IiwidXNlcklkIiwiQXV0aGVudGljYXRpb25FcnJvciIsInByaXNtYSIsIm9yZGVyIiwiZmluZE1hbnkiLCJ3aGVyZSIsInByb2ZpbGVJZCIsIk11dGF0aW9uIiwiQ3JlYXRlT3JkZXIiLCJjcmVhdGVPcmRlcklucHV0Iiwib3JkZXJJdGVtcyIsInRvdGFsIiwidmlhIiwibnVtZXJvQ2l2aWNvIiwiY2l0dGEiLCJwcm92aW5jaWEiLCJjYXAiLCJlcnJvcnMiLCJ2YWxpZCIsInZhbGlkYXRlRGVsaXZlcnlBZGRyZXNzIiwiVXNlcklucHV0RXJyb3IiLCJkZWxpdmVyeSIsImNvbmNhdCIsInRvU3RyaW5nIiwiY3JlYXRlIiwiZGF0YSIsIm1hcCIsIm9yZGVySXRlbSIsIm9pIiwicXVhbnRpdHkiLCJwcm9kdWN0Q29zdCIsInByb2R1Y3RJZCIsIm9yZGVySWQiLCJpZCIsImNhcnQiLCJmaW5kRmlyc3QiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBRU8sTUFBTUEsYUFBYSxHQUFHO0FBQzNCQyxPQUFLLEVBQUU7QUFDTCxVQUFNQyx1QkFBTixDQUE4QkMsQ0FBOUIsRUFBaUNDLEVBQWpDLEVBQXFDQyxPQUFyQyxFQUE4QztBQUM1QyxVQUFJLENBQUNBLE9BQU8sQ0FBQ0MsTUFBYixFQUFxQjtBQUNuQixjQUFNLElBQUlDLG9FQUFKLENBQXdCLGlCQUF4QixDQUFOO0FBQ0Q7O0FBRUQsYUFBTyxNQUFNRixPQUFPLENBQUNHLE1BQVIsQ0FBZUMsS0FBZixDQUFxQkMsUUFBckIsQ0FBOEI7QUFDekNDLGFBQUssRUFBRTtBQUNMQyxtQkFBUyxFQUFFUCxPQUFPLENBQUNDO0FBRGQ7QUFEa0MsT0FBOUIsQ0FBYjtBQUtEOztBQVhJLEdBRG9CO0FBYzNCTyxVQUFRLEVBQUU7QUFDUjtBQUNBLFVBQU1DLFdBQU4sQ0FDRVgsQ0FERixFQUVFO0FBQ0VZLHNCQUFnQixFQUFFO0FBQ2hCQyxrQkFEZ0I7QUFFaEJDLGFBRmdCO0FBR2hCQyxXQUhnQjtBQUloQkMsb0JBSmdCO0FBS2hCQyxhQUxnQjtBQU1oQkMsaUJBTmdCO0FBT2hCQztBQVBnQjtBQURwQixLQUZGLEVBYUVqQixPQWJGLEVBY0U7QUFDQSxVQUFJLENBQUNBLE9BQU8sQ0FBQ0MsTUFBYixFQUFxQjtBQUNuQixjQUFNLElBQUlDLG9FQUFKLENBQXdCLGlCQUF4QixDQUFOO0FBQ0Q7O0FBRUQsWUFBTTtBQUFFZ0IsY0FBRjtBQUFVQztBQUFWLFVBQW9CQyx5RUFBdUIsQ0FDL0NQLEdBRCtDLEVBRS9DQyxZQUYrQyxFQUcvQ0MsS0FIK0MsRUFJL0NDLFNBSitDLEVBSy9DQyxHQUwrQyxDQUFqRDtBQVFBLFVBQUksQ0FBQ0UsS0FBTCxFQUNFLE1BQU0sSUFBSUUsK0RBQUosQ0FBbUIsd0JBQW5CLEVBQTZDO0FBQUVIO0FBQUYsT0FBN0MsQ0FBTjtBQUVGLFlBQU1JLFFBQVEsR0FBR1QsR0FBRyxDQUFDVSxNQUFKLENBQ2YsR0FEZSxFQUVmVCxZQUFZLENBQUNVLFFBQWIsRUFGZSxFQUdmLEdBSGUsRUFJZlQsS0FKZSxFQUtmLEdBTGUsRUFNZkMsU0FOZSxFQU9mLEdBUGUsRUFRZkMsR0FBRyxDQUFDTyxRQUFKLEVBUmUsQ0FBakIsQ0FoQkEsQ0EyQkE7O0FBQ0EsWUFBTXBCLEtBQUssR0FBRyxNQUFNSixPQUFPLENBQUNHLE1BQVIsQ0FBZUMsS0FBZixDQUFxQnFCLE1BQXJCLENBQTRCO0FBQzlDQyxZQUFJLEVBQUU7QUFDSmQsZUFESTtBQUVKVSxrQkFGSTtBQUdKZixtQkFBUyxFQUFFUCxPQUFPLENBQUNDO0FBSGY7QUFEd0MsT0FBNUIsQ0FBcEIsQ0E1QkEsQ0FvQ0E7O0FBQ0FVLGdCQUFVLENBQUNnQixHQUFYLENBQWUsTUFBT0MsU0FBUCxJQUFxQjtBQUNsQyxjQUFNQyxFQUFFLEdBQUcsTUFBTTdCLE9BQU8sQ0FBQ0csTUFBUixDQUFleUIsU0FBZixDQUF5QkgsTUFBekIsQ0FBZ0M7QUFDL0NDLGNBQUksRUFBRTtBQUNKSSxvQkFBUSxFQUFFRixTQUFTLENBQUNFLFFBRGhCO0FBRUpDLHVCQUFXLEVBQUVILFNBQVMsQ0FBQ0csV0FGbkI7QUFHSkMscUJBQVMsRUFBRUosU0FBUyxDQUFDSSxTQUhqQjtBQUlKQyxtQkFBTyxFQUFFN0IsS0FBSyxDQUFDOEI7QUFKWDtBQUR5QyxTQUFoQyxDQUFqQjtBQVFBLGVBQU9MLEVBQVA7QUFDRCxPQVZEO0FBWUEsWUFBTU0sSUFBSSxHQUFHLE1BQU1uQyxPQUFPLENBQUNHLE1BQVIsQ0FBZWdDLElBQWYsQ0FBb0JDLFNBQXBCLENBQThCO0FBQy9DOUIsYUFBSyxFQUFFO0FBQ0xDLG1CQUFTLEVBQUVQLE9BQU8sQ0FBQ0M7QUFEZDtBQUR3QyxPQUE5QixDQUFuQixDQWpEQSxDQXVEQTs7QUFDQSxZQUFNRCxPQUFPLENBQUNHLE1BQVIsQ0FBZWdDLElBQWYsQ0FBb0JFLE1BQXBCLENBQTJCO0FBQy9CL0IsYUFBSyxFQUFFO0FBQ0w0QixZQUFFLEVBQUVDLElBQUksQ0FBQ0Q7QUFESjtBQUR3QixPQUEzQixDQUFOLENBeERBLENBOERBOztBQUNBLGFBQU85QixLQUFQO0FBQ0Q7O0FBaEZPO0FBZGlCLENBQXRCIiwiZmlsZSI6Ii4vYXBvbGxvL3NlcnZlci9yZXNvbHZlcnMvb3JkZXItcmVzb2x2ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBdXRoZW50aWNhdGlvbkVycm9yLCBVc2VySW5wdXRFcnJvciB9IGZyb20gXCJhcG9sbG8tc2VydmVyLW1pY3JvXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZURlbGl2ZXJ5QWRkcmVzcyB9IGZyb20gXCIuLi91dGlsL3ZhbGlkYXRvcnNcIjtcblxuZXhwb3J0IGNvbnN0IG9yZGVyUmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgYXN5bmMgR2V0QWxsQ3VycmVudFVzZXJPcmRlcnMoXywgX18sIGNvbnRleHQpIHtcbiAgICAgIGlmICghY29udGV4dC51c2VySWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhlbnRpY2F0aW9uRXJyb3IoXCJOb24gQXV0ZW50aWNhdG9cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCBjb250ZXh0LnByaXNtYS5vcmRlci5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgcHJvZmlsZUlkOiBjb250ZXh0LnVzZXJJZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0sXG4gIE11dGF0aW9uOiB7XG4gICAgLy8gcGVyIGNyZWFyZSBvcmRpbmUgc2VydmUgdW4gYXJyYXkgZGkgT3JkZXJJdGVtLCB0b3RhbCwgdXNlcklkXG4gICAgYXN5bmMgQ3JlYXRlT3JkZXIoXG4gICAgICBfLFxuICAgICAge1xuICAgICAgICBjcmVhdGVPcmRlcklucHV0OiB7XG4gICAgICAgICAgb3JkZXJJdGVtcyxcbiAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICB2aWEsXG4gICAgICAgICAgbnVtZXJvQ2l2aWNvLFxuICAgICAgICAgIGNpdHRhLFxuICAgICAgICAgIHByb3ZpbmNpYSxcbiAgICAgICAgICBjYXAsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29udGV4dFxuICAgICkge1xuICAgICAgaWYgKCFjb250ZXh0LnVzZXJJZCkge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aGVudGljYXRpb25FcnJvcihcIk5vbiBBdXRlbnRpY2F0b1wiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBlcnJvcnMsIHZhbGlkIH0gPSB2YWxpZGF0ZURlbGl2ZXJ5QWRkcmVzcyhcbiAgICAgICAgdmlhLFxuICAgICAgICBudW1lcm9DaXZpY28sXG4gICAgICAgIGNpdHRhLFxuICAgICAgICBwcm92aW5jaWEsXG4gICAgICAgIGNhcFxuICAgICAgKTtcblxuICAgICAgaWYgKCF2YWxpZClcbiAgICAgICAgdGhyb3cgbmV3IFVzZXJJbnB1dEVycm9yKFwiRXJyb3JpIG5lbGwnIGluZGlyaXp6b1wiLCB7IGVycm9ycyB9KTtcblxuICAgICAgY29uc3QgZGVsaXZlcnkgPSB2aWEuY29uY2F0KFxuICAgICAgICBcIiBcIixcbiAgICAgICAgbnVtZXJvQ2l2aWNvLnRvU3RyaW5nKCksXG4gICAgICAgIFwiIFwiLFxuICAgICAgICBjaXR0YSxcbiAgICAgICAgXCIgXCIsXG4gICAgICAgIHByb3ZpbmNpYSxcbiAgICAgICAgXCIgXCIsXG4gICAgICAgIGNhcC50b1N0cmluZygpXG4gICAgICApO1xuXG4gICAgICAvLyBjcmVvIG9yZGVyXG4gICAgICBjb25zdCBvcmRlciA9IGF3YWl0IGNvbnRleHQucHJpc21hLm9yZGVyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICBkZWxpdmVyeSxcbiAgICAgICAgICBwcm9maWxlSWQ6IGNvbnRleHQudXNlcklkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIGNyZW8gZ2xpIG9yZGVySXRlbXMsIG1ldHRlbmRvIG9yZGVySWQgaW4gYXV0b21hdGljbyBpbCBkYiBsaSBhc3NlZ25hIGFsbCdvcmRpbmVcbiAgICAgIG9yZGVySXRlbXMubWFwKGFzeW5jIChvcmRlckl0ZW0pID0+IHtcbiAgICAgICAgY29uc3Qgb2kgPSBhd2FpdCBjb250ZXh0LnByaXNtYS5vcmRlckl0ZW0uY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBxdWFudGl0eTogb3JkZXJJdGVtLnF1YW50aXR5LFxuICAgICAgICAgICAgcHJvZHVjdENvc3Q6IG9yZGVySXRlbS5wcm9kdWN0Q29zdCxcbiAgICAgICAgICAgIHByb2R1Y3RJZDogb3JkZXJJdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVyLmlkLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2k7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY2FydCA9IGF3YWl0IGNvbnRleHQucHJpc21hLmNhcnQuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBwcm9maWxlSWQ6IGNvbnRleHQudXNlcklkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIGVsaW1pbm8gaWwgY2FydCBlIGkgY2FydEl0ZW1zIGRpIGNvbnNlZ3VlbnphXG4gICAgICBhd2FpdCBjb250ZXh0LnByaXNtYS5jYXJ0LmRlbGV0ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgaWQ6IGNhcnQuaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gY29uc29sZS5sb2cob3JkZXIpO1xuICAgICAgcmV0dXJuIG9yZGVyO1xuICAgIH0sXG4gIH0sXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./apollo/server/resolvers/order-resolver.js\n");

/***/ }),

/***/ "./apollo/server/resolvers/product-resolver.js":
/*!*****************************************************!*\
  !*** ./apollo/server/resolvers/product-resolver.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"productResolver\": function() { return /* binding */ productResolver; }\n/* harmony export */ });\nconst productResolver = {\n  Query: {\n    async GetAllCategories(_, __, context) {\n      var _context$prisma;\n\n      return await (context === null || context === void 0 ? void 0 : (_context$prisma = context.prisma) === null || _context$prisma === void 0 ? void 0 : _context$prisma.category.findMany());\n    },\n\n    async GetCategory(_, {\n      categoryName\n    }, context) {\n      var _context$prisma2;\n\n      const category = await (context === null || context === void 0 ? void 0 : (_context$prisma2 = context.prisma) === null || _context$prisma2 === void 0 ? void 0 : _context$prisma2.category.findFirst({\n        where: {\n          categoryName: categoryName\n        }\n      }));\n      return category ? category.categoryName : \"Categoria non esistente\";\n    },\n\n    async GetAllProducts(_, __, context) {\n      var _context$prisma3;\n\n      return await (context === null || context === void 0 ? void 0 : (_context$prisma3 = context.prisma) === null || _context$prisma3 === void 0 ? void 0 : _context$prisma3.product.findMany());\n    },\n\n    async GetProductsByCategory(_, {\n      categoryName\n    }, context) {\n      var _context$prisma4;\n\n      return await (context === null || context === void 0 ? void 0 : (_context$prisma4 = context.prisma) === null || _context$prisma4 === void 0 ? void 0 : _context$prisma4.product.findMany({\n        where: {\n          category: {\n            categoryName\n          }\n        }\n      }));\n    },\n\n    async GetProductById(_, {\n      id\n    }, context) {\n      var _context$prisma5;\n\n      return await (context === null || context === void 0 ? void 0 : (_context$prisma5 = context.prisma) === null || _context$prisma5 === void 0 ? void 0 : _context$prisma5.product.findUnique({\n        where: {\n          id\n        }\n      }));\n    }\n\n  },\n  Mutation: {}\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvcmVzb2x2ZXJzL3Byb2R1Y3QtcmVzb2x2ZXIuanM/ZWE4NyJdLCJuYW1lcyI6WyJwcm9kdWN0UmVzb2x2ZXIiLCJRdWVyeSIsIkdldEFsbENhdGVnb3JpZXMiLCJfIiwiX18iLCJjb250ZXh0IiwicHJpc21hIiwiY2F0ZWdvcnkiLCJmaW5kTWFueSIsIkdldENhdGVnb3J5IiwiY2F0ZWdvcnlOYW1lIiwiZmluZEZpcnN0Iiwid2hlcmUiLCJHZXRBbGxQcm9kdWN0cyIsInByb2R1Y3QiLCJHZXRQcm9kdWN0c0J5Q2F0ZWdvcnkiLCJHZXRQcm9kdWN0QnlJZCIsImlkIiwiZmluZFVuaXF1ZSIsIk11dGF0aW9uIl0sIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUEsZUFBZSxHQUFHO0FBQzdCQyxPQUFLLEVBQUU7QUFDTCxVQUFNQyxnQkFBTixDQUF1QkMsQ0FBdkIsRUFBMEJDLEVBQTFCLEVBQThCQyxPQUE5QixFQUF1QztBQUFBOztBQUNyQyxhQUFPLE9BQU1BLE9BQU4sYUFBTUEsT0FBTiwwQ0FBTUEsT0FBTyxDQUFFQyxNQUFmLG9EQUFNLGdCQUFpQkMsUUFBakIsQ0FBMEJDLFFBQTFCLEVBQU4sQ0FBUDtBQUNELEtBSEk7O0FBS0wsVUFBTUMsV0FBTixDQUFrQk4sQ0FBbEIsRUFBcUI7QUFBRU87QUFBRixLQUFyQixFQUF1Q0wsT0FBdkMsRUFBZ0Q7QUFBQTs7QUFDOUMsWUFBTUUsUUFBUSxHQUFHLE9BQU1GLE9BQU4sYUFBTUEsT0FBTiwyQ0FBTUEsT0FBTyxDQUFFQyxNQUFmLHFEQUFNLGlCQUFpQkMsUUFBakIsQ0FBMEJJLFNBQTFCLENBQW9DO0FBQ3pEQyxhQUFLLEVBQUU7QUFDTEYsc0JBQVksRUFBRUE7QUFEVDtBQURrRCxPQUFwQyxDQUFOLENBQWpCO0FBTUEsYUFBT0gsUUFBUSxHQUFHQSxRQUFRLENBQUNHLFlBQVosR0FBMkIseUJBQTFDO0FBQ0QsS0FiSTs7QUFlTCxVQUFNRyxjQUFOLENBQXFCVixDQUFyQixFQUF3QkMsRUFBeEIsRUFBNEJDLE9BQTVCLEVBQXFDO0FBQUE7O0FBQ25DLGFBQU8sT0FBTUEsT0FBTixhQUFNQSxPQUFOLDJDQUFNQSxPQUFPLENBQUVDLE1BQWYscURBQU0saUJBQWlCUSxPQUFqQixDQUF5Qk4sUUFBekIsRUFBTixDQUFQO0FBQ0QsS0FqQkk7O0FBbUJMLFVBQU1PLHFCQUFOLENBQTRCWixDQUE1QixFQUErQjtBQUFFTztBQUFGLEtBQS9CLEVBQWlETCxPQUFqRCxFQUEwRDtBQUFBOztBQUN4RCxhQUFPLE9BQU1BLE9BQU4sYUFBTUEsT0FBTiwyQ0FBTUEsT0FBTyxDQUFFQyxNQUFmLHFEQUFNLGlCQUFpQlEsT0FBakIsQ0FBeUJOLFFBQXpCLENBQWtDO0FBQzdDSSxhQUFLLEVBQUU7QUFDTEwsa0JBQVEsRUFBRTtBQUNSRztBQURRO0FBREw7QUFEc0MsT0FBbEMsQ0FBTixDQUFQO0FBT0QsS0EzQkk7O0FBNkJMLFVBQU1NLGNBQU4sQ0FBcUJiLENBQXJCLEVBQXdCO0FBQUVjO0FBQUYsS0FBeEIsRUFBZ0NaLE9BQWhDLEVBQXlDO0FBQUE7O0FBQ3ZDLGFBQU8sT0FBTUEsT0FBTixhQUFNQSxPQUFOLDJDQUFNQSxPQUFPLENBQUVDLE1BQWYscURBQU0saUJBQWlCUSxPQUFqQixDQUF5QkksVUFBekIsQ0FBb0M7QUFDL0NOLGFBQUssRUFBRTtBQUNMSztBQURLO0FBRHdDLE9BQXBDLENBQU4sQ0FBUDtBQUtEOztBQW5DSSxHQURzQjtBQXVDN0JFLFVBQVEsRUFBRTtBQXZDbUIsQ0FBeEIiLCJmaWxlIjoiLi9hcG9sbG8vc2VydmVyL3Jlc29sdmVycy9wcm9kdWN0LXJlc29sdmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHByb2R1Y3RSZXNvbHZlciA9IHtcbiAgUXVlcnk6IHtcbiAgICBhc3luYyBHZXRBbGxDYXRlZ29yaWVzKF8sIF9fLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gYXdhaXQgY29udGV4dD8ucHJpc21hPy5jYXRlZ29yeS5maW5kTWFueSgpO1xuICAgIH0sXG5cbiAgICBhc3luYyBHZXRDYXRlZ29yeShfLCB7IGNhdGVnb3J5TmFtZSB9LCBjb250ZXh0KSB7XG4gICAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IGNvbnRleHQ/LnByaXNtYT8uY2F0ZWdvcnkuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5TmFtZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gY2F0ZWdvcnkgPyBjYXRlZ29yeS5jYXRlZ29yeU5hbWUgOiBcIkNhdGVnb3JpYSBub24gZXNpc3RlbnRlXCI7XG4gICAgfSxcblxuICAgIGFzeW5jIEdldEFsbFByb2R1Y3RzKF8sIF9fLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gYXdhaXQgY29udGV4dD8ucHJpc21hPy5wcm9kdWN0LmZpbmRNYW55KCk7XG4gICAgfSxcblxuICAgIGFzeW5jIEdldFByb2R1Y3RzQnlDYXRlZ29yeShfLCB7IGNhdGVnb3J5TmFtZSB9LCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gYXdhaXQgY29udGV4dD8ucHJpc21hPy5wcm9kdWN0LmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBjYXRlZ29yeToge1xuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgYXN5bmMgR2V0UHJvZHVjdEJ5SWQoXywgeyBpZCB9LCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gYXdhaXQgY29udGV4dD8ucHJpc21hPy5wcm9kdWN0LmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGlkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSxcblxuICBNdXRhdGlvbjoge30sXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./apollo/server/resolvers/product-resolver.js\n");

/***/ }),

/***/ "./apollo/server/resolvers/user-resolver.js":
/*!**************************************************!*\
  !*** ./apollo/server/resolvers/user-resolver.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"userResolver\": function() { return /* binding */ userResolver; }\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cookie */ \"cookie\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cookie__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _util_validators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/validators */ \"./apollo/server/util/validators.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n // uso solo inpuError per gestire nel frontend gli errori custom\n\n\nconst userResolver = {\n  Query: {\n    async Me(_, {\n      id\n    }, context) {\n      var _context$prisma;\n\n      const me = await (context === null || context === void 0 ? void 0 : (_context$prisma = context.prisma) === null || _context$prisma === void 0 ? void 0 : _context$prisma.user.findUnique({\n        where: {\n          id\n        },\n        include: {\n          profile: true\n        }\n      }));\n      return me;\n    },\n\n    async VerifyToken(_, {\n      token\n    }, context) {\n      if (!token && !context.userId) return false;\n      const verificato = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default().verify(token, process.env.TOKEN_SECRET_KEY, function (err, decoded) {\n        return err ? {\n          message: `Token non valido: ${err.message}`,\n          verified: false,\n          userId: \"\",\n          isAdmin: false\n        } : {\n          message: \"Verificato\",\n          verified: true,\n          userId: decoded.profileId,\n          isAdmin: decoded.isAdmin\n        };\n      });\n      return verificato;\n    }\n\n  },\n  Mutation: {\n    async Register(_, {\n      registerInput: {\n        firstName,\n        lastName,\n        cellNumber,\n        email,\n        password,\n        confirmPassword\n      }\n    }, context) {\n      const {\n        valid,\n        errors\n      } = (0,_util_validators__WEBPACK_IMPORTED_MODULE_2__.validateRegisterInput)(firstName, lastName, cellNumber, email, password, confirmPassword);\n\n      if (!valid) {\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Errori\", {\n          errors\n        });\n      } //lo passo string e lo parso int\n\n\n      cellNumber = parseInt(cellNumber);\n      const checkEmail = await context.prisma.profile.findUnique({\n        where: {\n          email: email\n        }\n      });\n\n      if (checkEmail) {\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Email gia esistente!\", {\n          errors: {\n            email: \"Email gia esistente!\"\n          }\n        });\n      }\n\n      try {\n        password = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, 12);\n        const newUser = {\n          firstName,\n          lastName,\n          cellNumber\n        };\n        const user = await context.prisma.user.create({\n          data: newUser\n        });\n        const newProfile = {\n          email,\n          password,\n          createdAt: new Date(),\n          isAdmin: false,\n          userId: user.id,\n          user: {\n            connect: {\n              id: user.id\n            }\n          } // serve nelle 1 a 1 per collegare le relazioni\n\n        };\n        await context.prisma.profile.create({\n          data: newProfile\n        });\n      } catch (err) {\n        console.log(err);\n        return \"Register not Successfull\";\n      }\n\n      return \"Register Successfull!\";\n    },\n\n    async Login(_, {\n      email,\n      password\n    }, context) {\n      const {\n        valid,\n        errors\n      } = (0,_util_validators__WEBPACK_IMPORTED_MODULE_2__.validateLoginInput)(email, password);\n\n      if (!valid) {\n        // errors.general = \"Inserisci i campi!\";\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Errori\", {\n          errors\n        });\n      }\n\n      const profile = await context.prisma.profile.findUnique({\n        where: {\n          email: email\n        }\n      });\n\n      if (!profile) {\n        errors.email = \"User non trovato!\";\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"User non trovato!\", {\n          errors\n        });\n      }\n\n      const match = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, profile.password);\n\n      if (!match) {\n        errors.password = \"Password errata!\";\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Password errata!\", {\n          errors\n        });\n      }\n\n      const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default().sign({\n        profileId: profile.id,\n        isAdmin: profile.isAdmin\n      }, process.env.TOKEN_SECRET_KEY, {\n        expiresIn: \"2h\"\n      });\n      context.res.setHeader(\"Set-Cookie\", cookie__WEBPACK_IMPORTED_MODULE_1___default().serialize(\"jid\", token, {\n        httpOnly: true,\n        // domain: \".example.com\",\n        secure: false,\n        maxAge: 6 * 60 * 60 * 1000,\n        sameSite: \"strict\",\n        path: \"/\"\n      }));\n      return token;\n    },\n\n    async Logout(_, __, context) {\n      if (context.res) {\n        context.res.setHeader(\"Set-Cookie\", cookie__WEBPACK_IMPORTED_MODULE_1___default().serialize(\"jid\", \"\", {\n          httpOnly: true,\n          // domain: \".example.com\",\n          secure: false,\n          maxAge: 1,\n          sameSite: \"strict\",\n          path: \"/\"\n        }));\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvcmVzb2x2ZXJzL3VzZXItcmVzb2x2ZXIuanM/NGMwMiJdLCJuYW1lcyI6WyJ1c2VyUmVzb2x2ZXIiLCJRdWVyeSIsIk1lIiwiXyIsImlkIiwiY29udGV4dCIsIm1lIiwicHJpc21hIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImluY2x1ZGUiLCJwcm9maWxlIiwiVmVyaWZ5VG9rZW4iLCJ0b2tlbiIsInVzZXJJZCIsInZlcmlmaWNhdG8iLCJqd3QiLCJwcm9jZXNzIiwiZW52IiwiVE9LRU5fU0VDUkVUX0tFWSIsImVyciIsImRlY29kZWQiLCJtZXNzYWdlIiwidmVyaWZpZWQiLCJpc0FkbWluIiwicHJvZmlsZUlkIiwiTXV0YXRpb24iLCJSZWdpc3RlciIsInJlZ2lzdGVySW5wdXQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImNlbGxOdW1iZXIiLCJlbWFpbCIsInBhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwidmFsaWQiLCJlcnJvcnMiLCJ2YWxpZGF0ZVJlZ2lzdGVySW5wdXQiLCJVc2VySW5wdXRFcnJvciIsInBhcnNlSW50IiwiY2hlY2tFbWFpbCIsImJjcnlwdCIsIm5ld1VzZXIiLCJjcmVhdGUiLCJkYXRhIiwibmV3UHJvZmlsZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJjb25uZWN0IiwiY29uc29sZSIsImxvZyIsIkxvZ2luIiwidmFsaWRhdGVMb2dpbklucHV0IiwibWF0Y2giLCJleHBpcmVzSW4iLCJyZXMiLCJzZXRIZWFkZXIiLCJjb29raWUiLCJodHRwT25seSIsInNlY3VyZSIsIm1heEFnZSIsInNhbWVTaXRlIiwicGF0aCIsIkxvZ291dCIsIl9fIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0NBRUE7O0FBQ0E7QUFFTyxNQUFNQSxZQUFZLEdBQUc7QUFDMUJDLE9BQUssRUFBRTtBQUNMLFVBQU1DLEVBQU4sQ0FBU0MsQ0FBVCxF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RUFBNEI7QUFDMUJDLGtCQUFRLEVBQUUsSUFEZ0I7QUFFMUI7QUFDQUMsZ0JBQU0sT0FIb0I7QUFJMUJDLGdCQUFNLEVBQUUsQ0FKa0I7QUFLMUJDLGtCQUFRLEVBQUUsUUFMZ0I7QUFNMUJDLGNBQUksRUFBRTtBQU5vQixTQUE1QixDQUZGO0FBV0EsZUFBTyxJQUFQO0FBQ0QsT0FiRCxNQWFPO0FBQ0wsZUFBTyxLQUFQO0FBQ0Q7QUFDRjs7QUEvSU87QUF4Q2dCLENBQXJCIiwiZmlsZSI6Ii4vYXBvbGxvL3NlcnZlci9yZXNvbHZlcnMvdXNlci1yZXNvbHZlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCI7XG5pbXBvcnQgY29va2llIGZyb20gXCJjb29raWVcIjtcbmltcG9ydCB7IHZhbGlkYXRlUmVnaXN0ZXJJbnB1dCwgdmFsaWRhdGVMb2dpbklucHV0IH0gZnJvbSBcIi4uL3V0aWwvdmFsaWRhdG9yc1wiO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG4vLyB1c28gc29sbyBpbnB1RXJyb3IgcGVyIGdlc3RpcmUgbmVsIGZyb250ZW5kIGdsaSBlcnJvcmkgY3VzdG9tXG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvbkVycm9yLCBVc2VySW5wdXRFcnJvciB9IGZyb20gXCJhcG9sbG8tc2VydmVyLW1pY3JvXCI7XG5cbmV4cG9ydCBjb25zdCB1c2VyUmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgYXN5bmMgTWUoXywgeyBpZCB9LCBjb250ZXh0KSB7XG4gICAgICBjb25zdCBtZSA9IGF3YWl0IGNvbnRleHQ/LnByaXNtYT8udXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIHByb2ZpbGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1lO1xuICAgIH0sXG5cbiAgICBhc3luYyBWZXJpZnlUb2tlbihfLCB7IHRva2VuIH0sIGNvbnRleHQpIHtcbiAgICAgIGlmICghdG9rZW4gJiYgIWNvbnRleHQudXNlcklkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIGNvbnN0IHZlcmlmaWNhdG8gPSBqd3QudmVyaWZ5KFxuICAgICAgICB0b2tlbixcbiAgICAgICAgcHJvY2Vzcy5lbnYuVE9LRU5fU0VDUkVUX0tFWSxcbiAgICAgICAgZnVuY3Rpb24gKGVyciwgZGVjb2RlZCkge1xuICAgICAgICAgIHJldHVybiBlcnJcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBUb2tlbiBub24gdmFsaWRvOiAke2Vyci5tZXNzYWdlfWAsXG4gICAgICAgICAgICAgICAgdmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogXCJcIixcbiAgICAgICAgICAgICAgICBpc0FkbWluOiBmYWxzZSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJWZXJpZmljYXRvXCIsXG4gICAgICAgICAgICAgICAgdmVyaWZpZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdXNlcklkOiBkZWNvZGVkLnByb2ZpbGVJZCxcbiAgICAgICAgICAgICAgICBpc0FkbWluOiBkZWNvZGVkLmlzQWRtaW4sXG4gICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIHJldHVybiB2ZXJpZmljYXRvO1xuICAgIH0sXG4gIH0sXG5cbiAgTXV0YXRpb246IHtcbiAgICBhc3luYyBSZWdpc3RlcihcbiAgICAgIF8sXG4gICAgICB7XG4gICAgICAgIHJlZ2lzdGVySW5wdXQ6IHtcbiAgICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgICAgY2VsbE51bWJlcixcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICBjb25maXJtUGFzc3dvcmQsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29udGV4dFxuICAgICkge1xuICAgICAgY29uc3QgeyB2YWxpZCwgZXJyb3JzIH0gPSB2YWxpZGF0ZVJlZ2lzdGVySW5wdXQoXG4gICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgIGNlbGxOdW1iZXIsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgY29uZmlybVBhc3N3b3JkXG4gICAgICApO1xuXG4gICAgICBpZiAoIXZhbGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VySW5wdXRFcnJvcihcIkVycm9yaVwiLCB7IGVycm9ycyB9KTtcbiAgICAgIH1cblxuICAgICAgLy9sbyBwYXNzbyBzdHJpbmcgZSBsbyBwYXJzbyBpbnRcbiAgICAgIGNlbGxOdW1iZXIgPSBwYXJzZUludChjZWxsTnVtYmVyKTtcblxuICAgICAgY29uc3QgY2hlY2tFbWFpbCA9IGF3YWl0IGNvbnRleHQucHJpc21hLnByb2ZpbGUuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChjaGVja0VtYWlsKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VySW5wdXRFcnJvcihcIkVtYWlsIGdpYSBlc2lzdGVudGUhXCIsIHtcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIGVtYWlsOiBcIkVtYWlsIGdpYSBlc2lzdGVudGUhXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEyKTtcblxuICAgICAgICBjb25zdCBuZXdVc2VyID0ge1xuICAgICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgICBjZWxsTnVtYmVyLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjb250ZXh0LnByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgICAgZGF0YTogbmV3VXNlcixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgbmV3UHJvZmlsZSA9IHtcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgaXNBZG1pbjogZmFsc2UsXG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgIHVzZXI6IHsgY29ubmVjdDogeyBpZDogdXNlci5pZCB9IH0sIC8vIHNlcnZlIG5lbGxlIDEgYSAxIHBlciBjb2xsZWdhcmUgbGUgcmVsYXppb25pXG4gICAgICAgIH07XG5cbiAgICAgICAgYXdhaXQgY29udGV4dC5wcmlzbWEucHJvZmlsZS5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IG5ld1Byb2ZpbGUsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIHJldHVybiBcIlJlZ2lzdGVyIG5vdCBTdWNjZXNzZnVsbFwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gXCJSZWdpc3RlciBTdWNjZXNzZnVsbCFcIjtcbiAgICB9LFxuXG4gICAgYXN5bmMgTG9naW4oXywgeyBlbWFpbCwgcGFzc3dvcmQgfSwgY29udGV4dCkge1xuICAgICAgY29uc3QgeyB2YWxpZCwgZXJyb3JzIH0gPSB2YWxpZGF0ZUxvZ2luSW5wdXQoZW1haWwsIHBhc3N3b3JkKTtcblxuICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAvLyBlcnJvcnMuZ2VuZXJhbCA9IFwiSW5zZXJpc2NpIGkgY2FtcGkhXCI7XG4gICAgICAgIHRocm93IG5ldyBVc2VySW5wdXRFcnJvcihcIkVycm9yaVwiLCB7IGVycm9ycyB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IGNvbnRleHQucHJpc21hLnByb2ZpbGUuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcHJvZmlsZSkge1xuICAgICAgICBlcnJvcnMuZW1haWwgPSBcIlVzZXIgbm9uIHRyb3ZhdG8hXCI7XG4gICAgICAgIHRocm93IG5ldyBVc2VySW5wdXRFcnJvcihcIlVzZXIgbm9uIHRyb3ZhdG8hXCIsIHsgZXJyb3JzIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBwcm9maWxlLnBhc3N3b3JkKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICBlcnJvcnMucGFzc3dvcmQgPSBcIlBhc3N3b3JkIGVycmF0YSFcIjtcbiAgICAgICAgdGhyb3cgbmV3IFVzZXJJbnB1dEVycm9yKFwiUGFzc3dvcmQgZXJyYXRhIVwiLCB7IGVycm9ycyB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcbiAgICAgICAge1xuICAgICAgICAgIHByb2ZpbGVJZDogcHJvZmlsZS5pZCxcbiAgICAgICAgICBpc0FkbWluOiBwcm9maWxlLmlzQWRtaW4sXG4gICAgICAgIH0sXG4gICAgICAgIHByb2Nlc3MuZW52LlRPS0VOX1NFQ1JFVF9LRVksXG4gICAgICAgIHsgZXhwaXJlc0luOiBcIjJoXCIgfVxuICAgICAgKTtcblxuICAgICAgY29udGV4dC5yZXMuc2V0SGVhZGVyKFxuICAgICAgICBcIlNldC1Db29raWVcIixcbiAgICAgICAgY29va2llLnNlcmlhbGl6ZShcImppZFwiLCB0b2tlbiwge1xuICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgIC8vIGRvbWFpbjogXCIuZXhhbXBsZS5jb21cIixcbiAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcImRldmVsb3BtZW50XCIsXG4gICAgICAgICAgbWF4QWdlOiA2ICogNjAgKiA2MCAqIDEwMDAsXG4gICAgICAgICAgc2FtZVNpdGU6IFwic3RyaWN0XCIsXG4gICAgICAgICAgcGF0aDogXCIvXCIsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcblxuICAgIGFzeW5jIExvZ291dChfLCBfXywgY29udGV4dCkge1xuICAgICAgaWYgKGNvbnRleHQucmVzKSB7XG4gICAgICAgIGNvbnRleHQucmVzLnNldEhlYWRlcihcbiAgICAgICAgICBcIlNldC1Db29raWVcIixcbiAgICAgICAgICBjb29raWUuc2VyaWFsaXplKFwiamlkXCIsIFwiXCIsIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgLy8gZG9tYWluOiBcIi5leGFtcGxlLmNvbVwiLFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJkZXZlbG9wbWVudFwiLFxuICAgICAgICAgICAgbWF4QWdlOiAxLFxuICAgICAgICAgICAgc2FtZVNpdGU6IFwic3RyaWN0XCIsXG4gICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./apollo/server/resolvers/user-resolver.js\n");

/***/ }),

/***/ "./apollo/server/schemas/index.js":
/*!****************************************!*\
  !*** ./apollo/server/schemas/index.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"typeDefs\": function() { return /* binding */ typeDefs; }\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n\nconst typeDefs = apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.gql`\n  # ---------- Error Types ----------\n  type TokenResponse {\n    message: String!\n    verified: Boolean!\n    userId: ID!\n    isAdmin: Boolean!\n  }\n\n  # ---------- Scalar Types ----------\n  scalar BigInt\n  scalar Date\n\n  # ---------- User Types ----------\n  type User {\n    id: ID!\n    firstName: String!\n    lastName: String!\n    cellNumber: BigInt!\n    # relation Profile\n    profile: Profile! #campo deve essere uguale a quello nei top-level resolver\n    profileId: ID!\n  }\n\n  type Profile {\n    id: ID!\n    email: String!\n    password: String!\n    confirmPassword: String!\n    isAdmin: Boolean!\n    points: Float!\n\n    createdAt: Date!\n\n    # relation User\n    user: User! #campo deve essere uguale a quello nei top-level resolver\n    userId: ID!\n\n    # cart\n    cart: Cart\n  }\n\n  # ---------- Products Types ----------\n  type Category {\n    id: ID!\n    categoryName: String!\n    categoryPathImage: String!\n    products: [Product!]! #field level resolver\n  }\n\n  type Product {\n    id: ID!\n    productName: String!\n    productDescription: String!\n    productCost: Float!\n    productImagePath: String!\n\n    # category relationship\n    category: Category! #field level resolver\n    categoryId: ID!\n  }\n\n  # ---------- Order Types ----------\n  type Order {\n    id: ID!\n    total: Float!\n    createdAt: Date!\n    state: String!\n    delivery: String!\n\n    #profile relation\n    profile: Profile!\n    profileId: ID!\n\n    # OrderItem relationship\n    orderItems: [OrderItem]!\n  }\n\n  type OrderItem {\n    id: ID!\n    quantity: Int!\n    productCost: Float!\n    # product relationship\n    product: Product\n    productId: ID!\n    # order relationship\n    order: Order\n    orderId: ID\n    # cart\n    cart: Cart\n  }\n\n  # ---------- Cart Types ----------\n  type Cart {\n    id: ID!\n    # profile ref\n    profile: Profile\n    # cartItems\n    cartItems: [CartItem]\n  }\n\n  type CartItem {\n    id: ID!\n    quantity: Int!\n    productCost: Float!\n    # product relationship\n    product: Product\n    productId: ID!\n    # cart relationship\n    cart: Cart\n    cartId: ID!\n  }\n\n  # ---------- Inputs ----------\n  input RegisterInput {\n    firstName: String!\n    lastName: String!\n    cellNumber: String!\n    email: String!\n    password: String!\n    confirmPassword: String!\n  }\n\n  input CreateOrderInput {\n    total: Float!\n    via: String!\n    numeroCivico: Int!\n    citta: String!\n    provincia: String!\n    cap: Int!\n    orderItems: [OrderItemInput]!\n  }\n\n  input OrderItemInput {\n    quantity: Int!\n    productCost: Float!\n    productId: ID!\n  }\n\n  input CreateCartInput {\n    cartItems: [CartItemInput]!\n  }\n\n  input CartItemInput {\n    quantity: Int!\n    productCost: Float!\n    productId: ID!\n  }\n\n  # ---------- Operations ----------\n\n  type Query {\n    # User\n    Me(id: String!): User!\n    VerifyToken(token: String!): TokenResponse!\n\n    # Products Categories\n    GetAllCategories: [Category]!\n    GetCategory(categoryName: String!): String!\n    GetAllProducts: [Product]!\n    GetProductsByCategory(categoryName: String!): [Product]\n    GetProductById(id: ID!): Product!\n\n    # Order\n    GetAllCurrentUserOrders: [Order]\n\n    # Cart\n    GetCurrentUserCart: Cart\n  }\n\n  type Mutation {\n    # User\n    Register(registerInput: RegisterInput!): String!\n    Login(email: String!, password: String!): String!\n    Logout: Boolean!\n\n    # Order\n    CreateOrder(createOrderInput: CreateOrderInput!): Order\n\n    # Cart\n    UpsertCart(createCartInput: CreateCartInput): Cart!\n  }\n`;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvc2NoZW1hcy9pbmRleC5qcz82OWZiIl0sIm5hbWVzIjpbInR5cGVEZWZzIiwiZ3FsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUVPLE1BQU1BLFFBQVEsR0FBR0Msb0RBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQXRMTyIsImZpbGUiOiIuL2Fwb2xsby9zZXJ2ZXIvc2NoZW1hcy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdxbCB9IGZyb20gXCJhcG9sbG8tc2VydmVyLW1pY3JvXCI7XG5cbmV4cG9ydCBjb25zdCB0eXBlRGVmcyA9IGdxbGBcbiAgIyAtLS0tLS0tLS0tIEVycm9yIFR5cGVzIC0tLS0tLS0tLS1cbiAgdHlwZSBUb2tlblJlc3BvbnNlIHtcbiAgICBtZXNzYWdlOiBTdHJpbmchXG4gICAgdmVyaWZpZWQ6IEJvb2xlYW4hXG4gICAgdXNlcklkOiBJRCFcbiAgICBpc0FkbWluOiBCb29sZWFuIVxuICB9XG5cbiAgIyAtLS0tLS0tLS0tIFNjYWxhciBUeXBlcyAtLS0tLS0tLS0tXG4gIHNjYWxhciBCaWdJbnRcbiAgc2NhbGFyIERhdGVcblxuICAjIC0tLS0tLS0tLS0gVXNlciBUeXBlcyAtLS0tLS0tLS0tXG4gIHR5cGUgVXNlciB7XG4gICAgaWQ6IElEIVxuICAgIGZpcnN0TmFtZTogU3RyaW5nIVxuICAgIGxhc3ROYW1lOiBTdHJpbmchXG4gICAgY2VsbE51bWJlcjogQmlnSW50IVxuICAgICMgcmVsYXRpb24gUHJvZmlsZVxuICAgIHByb2ZpbGU6IFByb2ZpbGUhICNjYW1wbyBkZXZlIGVzc2VyZSB1Z3VhbGUgYSBxdWVsbG8gbmVpIHRvcC1sZXZlbCByZXNvbHZlclxuICAgIHByb2ZpbGVJZDogSUQhXG4gIH1cblxuICB0eXBlIFByb2ZpbGUge1xuICAgIGlkOiBJRCFcbiAgICBlbWFpbDogU3RyaW5nIVxuICAgIHBhc3N3b3JkOiBTdHJpbmchXG4gICAgY29uZmlybVBhc3N3b3JkOiBTdHJpbmchXG4gICAgaXNBZG1pbjogQm9vbGVhbiFcbiAgICBwb2ludHM6IEZsb2F0IVxuXG4gICAgY3JlYXRlZEF0OiBEYXRlIVxuXG4gICAgIyByZWxhdGlvbiBVc2VyXG4gICAgdXNlcjogVXNlciEgI2NhbXBvIGRldmUgZXNzZXJlIHVndWFsZSBhIHF1ZWxsbyBuZWkgdG9wLWxldmVsIHJlc29sdmVyXG4gICAgdXNlcklkOiBJRCFcblxuICAgICMgY2FydFxuICAgIGNhcnQ6IENhcnRcbiAgfVxuXG4gICMgLS0tLS0tLS0tLSBQcm9kdWN0cyBUeXBlcyAtLS0tLS0tLS0tXG4gIHR5cGUgQ2F0ZWdvcnkge1xuICAgIGlkOiBJRCFcbiAgICBjYXRlZ29yeU5hbWU6IFN0cmluZyFcbiAgICBjYXRlZ29yeVBhdGhJbWFnZTogU3RyaW5nIVxuICAgIHByb2R1Y3RzOiBbUHJvZHVjdCFdISAjZmllbGQgbGV2ZWwgcmVzb2x2ZXJcbiAgfVxuXG4gIHR5cGUgUHJvZHVjdCB7XG4gICAgaWQ6IElEIVxuICAgIHByb2R1Y3ROYW1lOiBTdHJpbmchXG4gICAgcHJvZHVjdERlc2NyaXB0aW9uOiBTdHJpbmchXG4gICAgcHJvZHVjdENvc3Q6IEZsb2F0IVxuICAgIHByb2R1Y3RJbWFnZVBhdGg6IFN0cmluZyFcblxuICAgICMgY2F0ZWdvcnkgcmVsYXRpb25zaGlwXG4gICAgY2F0ZWdvcnk6IENhdGVnb3J5ISAjZmllbGQgbGV2ZWwgcmVzb2x2ZXJcbiAgICBjYXRlZ29yeUlkOiBJRCFcbiAgfVxuXG4gICMgLS0tLS0tLS0tLSBPcmRlciBUeXBlcyAtLS0tLS0tLS0tXG4gIHR5cGUgT3JkZXIge1xuICAgIGlkOiBJRCFcbiAgICB0b3RhbDogRmxvYXQhXG4gICAgY3JlYXRlZEF0OiBEYXRlIVxuICAgIHN0YXRlOiBTdHJpbmchXG4gICAgZGVsaXZlcnk6IFN0cmluZyFcblxuICAgICNwcm9maWxlIHJlbGF0aW9uXG4gICAgcHJvZmlsZTogUHJvZmlsZSFcbiAgICBwcm9maWxlSWQ6IElEIVxuXG4gICAgIyBPcmRlckl0ZW0gcmVsYXRpb25zaGlwXG4gICAgb3JkZXJJdGVtczogW09yZGVySXRlbV0hXG4gIH1cblxuICB0eXBlIE9yZGVySXRlbSB7XG4gICAgaWQ6IElEIVxuICAgIHF1YW50aXR5OiBJbnQhXG4gICAgcHJvZHVjdENvc3Q6IEZsb2F0IVxuICAgICMgcHJvZHVjdCByZWxhdGlvbnNoaXBcbiAgICBwcm9kdWN0OiBQcm9kdWN0XG4gICAgcHJvZHVjdElkOiBJRCFcbiAgICAjIG9yZGVyIHJlbGF0aW9uc2hpcFxuICAgIG9yZGVyOiBPcmRlclxuICAgIG9yZGVySWQ6IElEXG4gICAgIyBjYXJ0XG4gICAgY2FydDogQ2FydFxuICB9XG5cbiAgIyAtLS0tLS0tLS0tIENhcnQgVHlwZXMgLS0tLS0tLS0tLVxuICB0eXBlIENhcnQge1xuICAgIGlkOiBJRCFcbiAgICAjIHByb2ZpbGUgcmVmXG4gICAgcHJvZmlsZTogUHJvZmlsZVxuICAgICMgY2FydEl0ZW1zXG4gICAgY2FydEl0ZW1zOiBbQ2FydEl0ZW1dXG4gIH1cblxuICB0eXBlIENhcnRJdGVtIHtcbiAgICBpZDogSUQhXG4gICAgcXVhbnRpdHk6IEludCFcbiAgICBwcm9kdWN0Q29zdDogRmxvYXQhXG4gICAgIyBwcm9kdWN0IHJlbGF0aW9uc2hpcFxuICAgIHByb2R1Y3Q6IFByb2R1Y3RcbiAgICBwcm9kdWN0SWQ6IElEIVxuICAgICMgY2FydCByZWxhdGlvbnNoaXBcbiAgICBjYXJ0OiBDYXJ0XG4gICAgY2FydElkOiBJRCFcbiAgfVxuXG4gICMgLS0tLS0tLS0tLSBJbnB1dHMgLS0tLS0tLS0tLVxuICBpbnB1dCBSZWdpc3RlcklucHV0IHtcbiAgICBmaXJzdE5hbWU6IFN0cmluZyFcbiAgICBsYXN0TmFtZTogU3RyaW5nIVxuICAgIGNlbGxOdW1iZXI6IFN0cmluZyFcbiAgICBlbWFpbDogU3RyaW5nIVxuICAgIHBhc3N3b3JkOiBTdHJpbmchXG4gICAgY29uZmlybVBhc3N3b3JkOiBTdHJpbmchXG4gIH1cblxuICBpbnB1dCBDcmVhdGVPcmRlcklucHV0IHtcbiAgICB0b3RhbDogRmxvYXQhXG4gICAgdmlhOiBTdHJpbmchXG4gICAgbnVtZXJvQ2l2aWNvOiBJbnQhXG4gICAgY2l0dGE6IFN0cmluZyFcbiAgICBwcm92aW5jaWE6IFN0cmluZyFcbiAgICBjYXA6IEludCFcbiAgICBvcmRlckl0ZW1zOiBbT3JkZXJJdGVtSW5wdXRdIVxuICB9XG5cbiAgaW5wdXQgT3JkZXJJdGVtSW5wdXQge1xuICAgIHF1YW50aXR5OiBJbnQhXG4gICAgcHJvZHVjdENvc3Q6IEZsb2F0IVxuICAgIHByb2R1Y3RJZDogSUQhXG4gIH1cblxuICBpbnB1dCBDcmVhdGVDYXJ0SW5wdXQge1xuICAgIGNhcnRJdGVtczogW0NhcnRJdGVtSW5wdXRdIVxuICB9XG5cbiAgaW5wdXQgQ2FydEl0ZW1JbnB1dCB7XG4gICAgcXVhbnRpdHk6IEludCFcbiAgICBwcm9kdWN0Q29zdDogRmxvYXQhXG4gICAgcHJvZHVjdElkOiBJRCFcbiAgfVxuXG4gICMgLS0tLS0tLS0tLSBPcGVyYXRpb25zIC0tLS0tLS0tLS1cblxuICB0eXBlIFF1ZXJ5IHtcbiAgICAjIFVzZXJcbiAgICBNZShpZDogU3RyaW5nISk6IFVzZXIhXG4gICAgVmVyaWZ5VG9rZW4odG9rZW46IFN0cmluZyEpOiBUb2tlblJlc3BvbnNlIVxuXG4gICAgIyBQcm9kdWN0cyBDYXRlZ29yaWVzXG4gICAgR2V0QWxsQ2F0ZWdvcmllczogW0NhdGVnb3J5XSFcbiAgICBHZXRDYXRlZ29yeShjYXRlZ29yeU5hbWU6IFN0cmluZyEpOiBTdHJpbmchXG4gICAgR2V0QWxsUHJvZHVjdHM6IFtQcm9kdWN0XSFcbiAgICBHZXRQcm9kdWN0c0J5Q2F0ZWdvcnkoY2F0ZWdvcnlOYW1lOiBTdHJpbmchKTogW1Byb2R1Y3RdXG4gICAgR2V0UHJvZHVjdEJ5SWQoaWQ6IElEISk6IFByb2R1Y3QhXG5cbiAgICAjIE9yZGVyXG4gICAgR2V0QWxsQ3VycmVudFVzZXJPcmRlcnM6IFtPcmRlcl1cblxuICAgICMgQ2FydFxuICAgIEdldEN1cnJlbnRVc2VyQ2FydDogQ2FydFxuICB9XG5cbiAgdHlwZSBNdXRhdGlvbiB7XG4gICAgIyBVc2VyXG4gICAgUmVnaXN0ZXIocmVnaXN0ZXJJbnB1dDogUmVnaXN0ZXJJbnB1dCEpOiBTdHJpbmchXG4gICAgTG9naW4oZW1haWw6IFN0cmluZyEsIHBhc3N3b3JkOiBTdHJpbmchKTogU3RyaW5nIVxuICAgIExvZ291dDogQm9vbGVhbiFcblxuICAgICMgT3JkZXJcbiAgICBDcmVhdGVPcmRlcihjcmVhdGVPcmRlcklucHV0OiBDcmVhdGVPcmRlcklucHV0ISk6IE9yZGVyXG5cbiAgICAjIENhcnRcbiAgICBVcHNlcnRDYXJ0KGNyZWF0ZUNhcnRJbnB1dDogQ3JlYXRlQ2FydElucHV0KTogQ2FydCFcbiAgfVxuYDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./apollo/server/schemas/index.js\n");

/***/ }),

/***/ "./apollo/server/util/validators.js":
/*!******************************************!*\
  !*** ./apollo/server/util/validators.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"validateRegisterInput\": function() { return /* binding */ validateRegisterInput; },\n/* harmony export */   \"validateLoginInput\": function() { return /* binding */ validateLoginInput; },\n/* harmony export */   \"validateDeliveryAddress\": function() { return /* binding */ validateDeliveryAddress; }\n/* harmony export */ });\nconst regExEmail = /^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/;\nconst regExPassword = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/;\nvar regExPhoneNumber = /^((3[1-6][0-9]))(\\d{7})$/;\nfunction validateRegisterInput(firstName, lastName, cellNumber, email, password, confirmPassword) {\n  const errors = {};\n\n  if (firstName.trim() === \"\") {\n    errors.firstName = \"Nome non deve essere vuoto!\";\n  }\n\n  if (firstName.trim().length > 20) {\n    errors.firstName = \"Nome non deve superare i 20 caratteri!\";\n  }\n\n  if (lastName.trim() === \"\") {\n    errors.lastName = \"Cognome non deve essere vuoto!\";\n  }\n\n  if (lastName.trim().length > 35) {\n    errors.lastName = \"Cognome non deve superare i 35 caratteri!\";\n  }\n\n  if (cellNumber.trim() === \"\") {\n    errors.cellNumber = \"Numero di telefono non deve essere vuoto!\";\n  } else {\n    if (!cellNumber.match(regExPhoneNumber)) {\n      errors.cellNumber = \"Inserisci un numero valido!\";\n    }\n  }\n\n  if (email.trim() === \"\") {\n    errors.email = \"Email non deve essere vuota!\";\n  } else {\n    if (email.trim().length > 50) {\n      errors.email = \"Email non deve superare i 50 caratteri!\";\n    }\n\n    if (!email.match(regExEmail)) {\n      errors.email = \"Email deve essere valida!\";\n    }\n\n    if (!/@gmail.com\\s*$/.test(email.trim())) {\n      errors.email = \"Usare email con dominio valido. Es: gmail.com\";\n    }\n  }\n\n  if (password.trim() === \"\") {\n    errors.password = \"Password non deve essere vuota!\";\n  } else if (password !== confirmPassword) {\n    errors.confirmPassword = \"Le Password devono coincidere!\";\n  } else if (!password.match(regExPassword)) {\n    errors.password = \"Password deve contenere almeno 8 caratteri tra lettere e numeri!\";\n  }\n\n  return {\n    errors,\n    valid: Object.keys(errors).length < 1\n  };\n}\nfunction validateLoginInput(userEmail, userPassword) {\n  const errors = {};\n\n  if (userPassword.trim() === \"\") {\n    errors.password = \"Password non deve essere vuota!\";\n  }\n\n  if (userEmail.trim() === \"\") {\n    errors.email = \"Email non deve essere vuota!\";\n  } else {\n    if (userEmail.trim().length > 50) {\n      errors.email = \"Email non deve superare i 50 caratteri!\";\n    }\n\n    if (!userEmail.match(regExEmail)) {\n      errors.email = \"Email deve essere valida!\";\n    }\n  }\n\n  return {\n    errors,\n    valid: Object.keys(errors).length < 1\n  };\n}\nfunction validateDeliveryAddress(via, numeroCivico, citta, provincia, cap) {\n  const errors = {};\n  if (via.trim() === \"\") errors.via = \"Campo via richiesto!\";\n  if (citta.trim() === \"\") errors.citta = \"Campo cittÃ  richiesto!\";\n  if (provincia.trim() === \"\") errors.provincia = \"Campo provincia richiesto!\";\n\n  if (!cap) {\n    errors.cap = \"Campo CAP richiesto!\";\n  } else if (typeof cap !== \"number\") {\n    errors.cap = \"Deve essere un numero!\";\n  } else if (cap.toString().length !== 5) {\n    errors.cap = \"Deve essere 5 cifre\";\n  }\n\n  if (!numeroCivico) {\n    errors.numeroCivico = \"Campo Numero civico richiesto!\";\n  } else if (typeof numeroCivico !== \"number\") {\n    errors.numeroCivico = \"Deve essere un numero!\";\n  }\n\n  return {\n    errors,\n    valid: Object.keys(errors).length < 1\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL2Fwb2xsby9zZXJ2ZXIvdXRpbC92YWxpZGF0b3JzLmpzPzEzNDQiXSwibmFtZXMiOlsicmVnRXhFbWFpbCIsInJlZ0V4UGFzc3dvcmQiLCJyZWdFeFBob25lTnVtYmVyIiwidmFsaWRhdGVSZWdpc3RlcklucHV0IiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJjZWxsTnVtYmVyIiwiZW1haWwiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsImVycm9ycyIsInRyaW0iLCJsZW5ndGgiLCJtYXRjaCIsInRlc3QiLCJ2YWxpZCIsIk9iamVjdCIsImtleXMiLCJ2YWxpZGF0ZUxvZ2luSW5wdXQiLCJ1c2VyRW1haWwiLCJ1c2VyUGFzc3dvcmQiLCJ2YWxpZGF0ZURlbGl2ZXJ5QWRkcmVzcyIsInZpYSIsIm51bWVyb0NpdmljbyIsImNpdHRhIiwicHJvdmluY2lhIiwiY2FwIiwidG9TdHJpbmciXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLFVBQVUsR0FDZCxxRkFERjtBQUVBLE1BQU1DLGFBQWEsR0FBRyx3Q0FBdEI7QUFDQSxJQUFJQyxnQkFBZ0IsR0FBRywwQkFBdkI7QUFFTyxTQUFTQyxxQkFBVCxDQUNMQyxTQURLLEVBRUxDLFFBRkssRUFHTEMsVUFISyxFQUlMQyxLQUpLLEVBS0xDLFFBTEssRUFNTEMsZUFOSyxFQU9MO0FBQ0EsUUFBTUMsTUFBTSxHQUFHLEVBQWY7O0FBRUEsTUFBSU4sU0FBUyxDQUFDTyxJQUFWLE9BQXFCLEVBQXpCLEVBQTZCO0FBQzNCRCxVQUFNLENBQUNOLFNBQVAsR0FBbUIsNkJBQW5CO0FBQ0Q7O0FBRUQsTUFBSUEsU0FBUyxDQUFDTyxJQUFWLEdBQWlCQyxNQUFqQixHQUEwQixFQUE5QixFQUFrQztBQUNoQ0YsVUFBTSxDQUFDTixTQUFQLEdBQW1CLHdDQUFuQjtBQUNEOztBQUVELE1BQUlDLFFBQVEsQ0FBQ00sSUFBVCxPQUFvQixFQUF4QixFQUE0QjtBQUMxQkQsVUFB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LE1BQU0sQ0FBQ1ksR0FBUCxHQUFhLHNCQUFiO0FBQ3ZCLE1BQUlFLEtBQUssQ0FBQ2IsSUFBTixPQUFpQixFQUFyQixFQUF5QkQsTUFBTSxDQUFDYyxLQUFQLEdBQWUsd0JBQWY7QUFDekIsTUFBSUMsU0FBUyxDQUFDZCxJQUFWLE9BQXFCLEVBQXpCLEVBQTZCRCxNQUFNLENBQUNlLFNBQVAsR0FBbUIsNEJBQW5COztBQUU3QixNQUFJLENBQUNDLEdBQUwsRUFBVTtBQUNSaEIsVUFBTSxDQUFDZ0IsR0FBUCxHQUFhLHNCQUFiO0FBQ0QsR0FGRCxNQUVPLElBQUksT0FBT0EsR0FBUCxLQUFlLFFBQW5CLEVBQTZCO0FBQ2xDaEIsVUFBTSxDQUFDZ0IsR0FBUCxHQUFhLHdCQUFiO0FBQ0QsR0FGTSxNQUVBLElBQUlBLEdBQUcsQ0FBQ0MsUUFBSixHQUFlZixNQUFmLEtBQTBCLENBQTlCLEVBQWlDO0FBQ3RDRixVQUFNLENBQUNnQixHQUFQLEdBQWEscUJBQWI7QUFDRDs7QUFFRCxNQUFJLENBQUNILFlBQUwsRUFBbUI7QUFDakJiLFVBQU0sQ0FBQ2EsWUFBUCxHQUFzQixnQ0FBdEI7QUFDRCxHQUZELE1BRU8sSUFBSSxPQUFPQSxZQUFQLEtBQXdCLFFBQTVCLEVBQXNDO0FBQzNDYixVQUFNLENBQUNhLFlBQVAsR0FBc0Isd0JBQXRCO0FBQ0Q7O0FBRUQsU0FBTztBQUNMYixVQURLO0FBRUxLLFNBQUssRUFBRUMsTUFBTSxDQUFDQyxJQUFQLENBQVlQLE1BQVosRUFBb0JFLE1BQXBCLEdBQTZCO0FBRi9CLEdBQVA7QUFJRCIsImZpbGUiOiIuL2Fwb2xsby9zZXJ2ZXIvdXRpbC92YWxpZGF0b3JzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVnRXhFbWFpbCA9XG4gIC9eKFswLTlhLXpBLVpdKFstLlxcd10qWzAtOWEtekEtWl0pKkAoWzAtOWEtekEtWl1bLVxcd10qWzAtOWEtekEtWl1cXC4pK1thLXpBLVpdezIsOX0pJC87XG5jb25zdCByZWdFeFBhc3N3b3JkID0gL14oPz0uKltBLVphLXpdKSg/PS4qXFxkKVtBLVphLXpcXGRdezgsfSQvO1xudmFyIHJlZ0V4UGhvbmVOdW1iZXIgPSAvXigoM1sxLTZdWzAtOV0pKShcXGR7N30pJC87XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJlZ2lzdGVySW5wdXQoXG4gIGZpcnN0TmFtZSxcbiAgbGFzdE5hbWUsXG4gIGNlbGxOdW1iZXIsXG4gIGVtYWlsLFxuICBwYXNzd29yZCxcbiAgY29uZmlybVBhc3N3b3JkXG4pIHtcbiAgY29uc3QgZXJyb3JzID0ge307XG5cbiAgaWYgKGZpcnN0TmFtZS50cmltKCkgPT09IFwiXCIpIHtcbiAgICBlcnJvcnMuZmlyc3ROYW1lID0gXCJOb21lIG5vbiBkZXZlIGVzc2VyZSB2dW90byFcIjtcbiAgfVxuXG4gIGlmIChmaXJzdE5hbWUudHJpbSgpLmxlbmd0aCA+IDIwKSB7XG4gICAgZXJyb3JzLmZpcnN0TmFtZSA9IFwiTm9tZSBub24gZGV2ZSBzdXBlcmFyZSBpIDIwIGNhcmF0dGVyaSFcIjtcbiAgfVxuXG4gIGlmIChsYXN0TmFtZS50cmltKCkgPT09IFwiXCIpIHtcbiAgICBlcnJvcnMubGFzdE5hbWUgPSBcIkNvZ25vbWUgbm9uIGRldmUgZXNzZXJlIHZ1b3RvIVwiO1xuICB9XG5cbiAgaWYgKGxhc3ROYW1lLnRyaW0oKS5sZW5ndGggPiAzNSkge1xuICAgIGVycm9ycy5sYXN0TmFtZSA9IFwiQ29nbm9tZSBub24gZGV2ZSBzdXBlcmFyZSBpIDM1IGNhcmF0dGVyaSFcIjtcbiAgfVxuXG4gIGlmIChjZWxsTnVtYmVyLnRyaW0oKSA9PT0gXCJcIikge1xuICAgIGVycm9ycy5jZWxsTnVtYmVyID0gXCJOdW1lcm8gZGkgdGVsZWZvbm8gbm9uIGRldmUgZXNzZXJlIHZ1b3RvIVwiO1xuICB9IGVsc2Uge1xuICAgIGlmICghY2VsbE51bWJlci5tYXRjaChyZWdFeFBob25lTnVtYmVyKSkge1xuICAgICAgZXJyb3JzLmNlbGxOdW1iZXIgPSBcIkluc2VyaXNjaSB1biBudW1lcm8gdmFsaWRvIVwiO1xuICAgIH1cbiAgfVxuXG4gIGlmIChlbWFpbC50cmltKCkgPT09IFwiXCIpIHtcbiAgICBlcnJvcnMuZW1haWwgPSBcIkVtYWlsIG5vbiBkZXZlIGVzc2VyZSB2dW90YSFcIjtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZW1haWwudHJpbSgpLmxlbmd0aCA+IDUwKSB7XG4gICAgICBlcnJvcnMuZW1haWwgPSBcIkVtYWlsIG5vbiBkZXZlIHN1cGVyYXJlIGkgNTAgY2FyYXR0ZXJpIVwiO1xuICAgIH1cblxuICAgIGlmICghZW1haWwubWF0Y2gocmVnRXhFbWFpbCkpIHtcbiAgICAgIGVycm9ycy5lbWFpbCA9IFwiRW1haWwgZGV2ZSBlc3NlcmUgdmFsaWRhIVwiO1xuICAgIH1cblxuICAgIGlmICghL0BnbWFpbC5jb21cXHMqJC8udGVzdChlbWFpbC50cmltKCkpKSB7XG4gICAgICBlcnJvcnMuZW1haWwgPSBcIlVzYXJlIGVtYWlsIGNvbiBkb21pbmlvIHZhbGlkby4gRXM6IGdtYWlsLmNvbVwiO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwYXNzd29yZC50cmltKCkgPT09IFwiXCIpIHtcbiAgICBlcnJvcnMucGFzc3dvcmQgPSBcIlBhc3N3b3JkIG5vbiBkZXZlIGVzc2VyZSB2dW90YSFcIjtcbiAgfSBlbHNlIGlmIChwYXNzd29yZCAhPT0gY29uZmlybVBhc3N3b3JkKSB7XG4gICAgZXJyb3JzLmNvbmZpcm1QYXNzd29yZCA9IFwiTGUgUGFzc3dvcmQgZGV2b25vIGNvaW5jaWRlcmUhXCI7XG4gIH0gZWxzZSBpZiAoIXBhc3N3b3JkLm1hdGNoKHJlZ0V4UGFzc3dvcmQpKSB7XG4gICAgZXJyb3JzLnBhc3N3b3JkID1cbiAgICAgIFwiUGFzc3dvcmQgZGV2ZSBjb250ZW5lcmUgYWxtZW5vIDggY2FyYXR0ZXJpIHRyYSBsZXR0ZXJlIGUgbnVtZXJpIVwiO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBlcnJvcnMsXG4gICAgdmFsaWQ6IE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoIDwgMSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlTG9naW5JbnB1dCh1c2VyRW1haWwsIHVzZXJQYXNzd29yZCkge1xuICBjb25zdCBlcnJvcnMgPSB7fTtcblxuICBpZiAodXNlclBhc3N3b3JkLnRyaW0oKSA9PT0gXCJcIikge1xuICAgIGVycm9ycy5wYXNzd29yZCA9IFwiUGFzc3dvcmQgbm9uIGRldmUgZXNzZXJlIHZ1b3RhIVwiO1xuICB9XG5cbiAgaWYgKHVzZXJFbWFpbC50cmltKCkgPT09IFwiXCIpIHtcbiAgICBlcnJvcnMuZW1haWwgPSBcIkVtYWlsIG5vbiBkZXZlIGVzc2VyZSB2dW90YSFcIjtcbiAgfSBlbHNlIHtcbiAgICBpZiAodXNlckVtYWlsLnRyaW0oKS5sZW5ndGggPiA1MCkge1xuICAgICAgZXJyb3JzLmVtYWlsID0gXCJFbWFpbCBub24gZGV2ZSBzdXBlcmFyZSBpIDUwIGNhcmF0dGVyaSFcIjtcbiAgICB9XG5cbiAgICBpZiAoIXVzZXJFbWFpbC5tYXRjaChyZWdFeEVtYWlsKSkge1xuICAgICAgZXJyb3JzLmVtYWlsID0gXCJFbWFpbCBkZXZlIGVzc2VyZSB2YWxpZGEhXCI7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBlcnJvcnMsXG4gICAgdmFsaWQ6IE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoIDwgMSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRGVsaXZlcnlBZGRyZXNzKFxuICB2aWEsXG4gIG51bWVyb0NpdmljbyxcbiAgY2l0dGEsXG4gIHByb3ZpbmNpYSxcbiAgY2FwXG4pIHtcbiAgY29uc3QgZXJyb3JzID0ge307XG5cbiAgaWYgKHZpYS50cmltKCkgPT09IFwiXCIpIGVycm9ycy52aWEgPSBcIkNhbXBvIHZpYSByaWNoaWVzdG8hXCI7XG4gIGlmIChjaXR0YS50cmltKCkgPT09IFwiXCIpIGVycm9ycy5jaXR0YSA9IFwiQ2FtcG8gY2l0dMOgIHJpY2hpZXN0byFcIjtcbiAgaWYgKHByb3ZpbmNpYS50cmltKCkgPT09IFwiXCIpIGVycm9ycy5wcm92aW5jaWEgPSBcIkNhbXBvIHByb3ZpbmNpYSByaWNoaWVzdG8hXCI7XG5cbiAgaWYgKCFjYXApIHtcbiAgICBlcnJvcnMuY2FwID0gXCJDYW1wbyBDQVAgcmljaGllc3RvIVwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjYXAgIT09IFwibnVtYmVyXCIpIHtcbiAgICBlcnJvcnMuY2FwID0gXCJEZXZlIGVzc2VyZSB1biBudW1lcm8hXCI7XG4gIH0gZWxzZSBpZiAoY2FwLnRvU3RyaW5nKCkubGVuZ3RoICE9PSA1KSB7XG4gICAgZXJyb3JzLmNhcCA9IFwiRGV2ZSBlc3NlcmUgNSBjaWZyZVwiO1xuICB9XG5cbiAgaWYgKCFudW1lcm9DaXZpY28pIHtcbiAgICBlcnJvcnMubnVtZXJvQ2l2aWNvID0gXCJDYW1wbyBOdW1lcm8gY2l2aWNvIHJpY2hpZXN0byFcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbnVtZXJvQ2l2aWNvICE9PSBcIm51bWJlclwiKSB7XG4gICAgZXJyb3JzLm51bWVyb0NpdmljbyA9IFwiRGV2ZSBlc3NlcmUgdW4gbnVtZXJvIVwiO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBlcnJvcnMsXG4gICAgdmFsaWQ6IE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoIDwgMSxcbiAgfTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./apollo/server/util/validators.js\n");

/***/ }),

/***/ "./pages/api/graphql.js":
/*!******************************!*\
  !*** ./pages/api/graphql.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"config\": function() { return /* binding */ config; }\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _apollo_server_schemas_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../apollo/server/schemas/index */ \"./apollo/server/schemas/index.js\");\n/* harmony import */ var _apollo_server_resolvers_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../apollo/server/resolvers/index */ \"./apollo/server/resolvers/index.js\");\n/* harmony import */ var _apollo_server_db_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../apollo/server/db/context */ \"./apollo/server/db/context.js\");\n\n\n\n // passo il prisma client attraverso il context del server\n\nconst apolloServer = new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.ApolloServer({\n  typeDefs: _apollo_server_schemas_index__WEBPACK_IMPORTED_MODULE_1__.typeDefs,\n  resolvers: _apollo_server_resolvers_index__WEBPACK_IMPORTED_MODULE_2__.resolvers,\n  context: ({\n    res,\n    req\n  }) => (0,_apollo_server_db_context__WEBPACK_IMPORTED_MODULE_3__.createContext)(res, req),\n  uploads: false,\n  introspection: true,\n  // serve per ritornare dal resolver l'errore\n  formatError: error => {\n    console.log(error);\n    return error;\n  }\n});\nconst config = {\n  api: {\n    bodyParser: false,\n    externalResolver: true\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (apolloServer.createHandler({\n  path: \"/api/graphql\"\n})); // module.exports = apolloServer\n//   .start()\n//   .then(() => apolloServer.createHandler({ path: \"/api/graphql\" }));\n// module.exports = apolloServer.start().then(() => {\n//   const handler = apolloServer.createHandler({ path: \"/api/graphql\" });\n//   return cors((req, res) => {\n//     console.log(res);\n//     return req.method === \"OPTIONS\" ? send(res, 200, 'ok') : handler(req, res);\n//   });\n// });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL3BhZ2VzL2FwaS9ncmFwaHFsLmpzPzc0MjYiXSwibmFtZXMiOlsiYXBvbGxvU2VydmVyIiwiQXBvbGxvU2VydmVyIiwidHlwZURlZnMiLCJyZXNvbHZlcnMiLCJjb250ZXh0IiwicmVzIiwicmVxIiwiY3JlYXRlQ29udGV4dCIsInVwbG9hZHMiLCJpbnRyb3NwZWN0aW9uIiwiZm9ybWF0RXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiZXh0ZXJuYWxSZXNvbHZlciIsImNyZWF0ZUhhbmRsZXIiLCJwYXRoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7Q0FHQTs7QUFDQSxNQUFNQSxZQUFZLEdBQUcsSUFBSUMsNkRBQUosQ0FBaUI7QUFDcENDLFVBRG9DO0FBRXBDQyxXQUZvQztBQUdwQ0MsU0FBTyxFQUFFLENBQUM7QUFBRUMsT0FBRjtBQUFPQztBQUFQLEdBQUQsS0FBa0JDLHdFQUFhLENBQUNGLEdBQUQsRUFBTUMsR0FBTixDQUhKO0FBSXBDRSxTQUFPLEVBQUUsS0FKMkI7QUFLcENDLGVBQWEsRUFBRSxJQUxxQjtBQU1wQztBQUNBQyxhQUFXLEVBQUdDLEtBQUQsSUFBVztBQUN0QkMsV0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVo7QUFDQSxXQUFPQSxLQUFQO0FBQ0Q7QUFWbUMsQ0FBakIsQ0FBckI7QUFhTyxNQUFNRyxNQUFNLEdBQUc7QUFDcEJDLEtBQUcsRUFBRTtBQUNIQyxjQUFVLEVBQUUsS0FEVDtBQUVIQyxvQkFBZ0IsRUFBRTtBQUZmO0FBRGUsQ0FBZjtBQU9QLCtEQUFlakIsWUFBWSxDQUFDa0IsYUFBYixDQUEyQjtBQUFFQyxNQUFJLEVBQUU7QUFBUixDQUEzQixDQUFmLEUsQ0FFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3BhZ2VzL2FwaS9ncmFwaHFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBvbGxvU2VydmVyIH0gZnJvbSBcImFwb2xsby1zZXJ2ZXItbWljcm9cIjtcbmltcG9ydCB7IHR5cGVEZWZzIH0gZnJvbSBcIi4uLy4uL2Fwb2xsby9zZXJ2ZXIvc2NoZW1hcy9pbmRleFwiO1xuaW1wb3J0IHsgcmVzb2x2ZXJzIH0gZnJvbSBcIi4uLy4uL2Fwb2xsby9zZXJ2ZXIvcmVzb2x2ZXJzL2luZGV4XCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSBcIi4uLy4uL2Fwb2xsby9zZXJ2ZXIvZGIvY29udGV4dFwiO1xuXG4vLyBwYXNzbyBpbCBwcmlzbWEgY2xpZW50IGF0dHJhdmVyc28gaWwgY29udGV4dCBkZWwgc2VydmVyXG5jb25zdCBhcG9sbG9TZXJ2ZXIgPSBuZXcgQXBvbGxvU2VydmVyKHtcbiAgdHlwZURlZnMsXG4gIHJlc29sdmVycyxcbiAgY29udGV4dDogKHsgcmVzLCByZXEgfSkgPT4gY3JlYXRlQ29udGV4dChyZXMsIHJlcSksXG4gIHVwbG9hZHM6IGZhbHNlLFxuICBpbnRyb3NwZWN0aW9uOiB0cnVlLFxuICAvLyBzZXJ2ZSBwZXIgcml0b3JuYXJlIGRhbCByZXNvbHZlciBsJ2Vycm9yZVxuICBmb3JtYXRFcnJvcjogKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfSxcbn0pO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBhcGk6IHtcbiAgICBib2R5UGFyc2VyOiBmYWxzZSxcbiAgICBleHRlcm5hbFJlc29sdmVyOiB0cnVlLFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBvbGxvU2VydmVyLmNyZWF0ZUhhbmRsZXIoeyBwYXRoOiBcIi9hcGkvZ3JhcGhxbFwiIH0pO1xuXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGFwb2xsb1NlcnZlclxuLy8gICAuc3RhcnQoKVxuLy8gICAudGhlbigoKSA9PiBhcG9sbG9TZXJ2ZXIuY3JlYXRlSGFuZGxlcih7IHBhdGg6IFwiL2FwaS9ncmFwaHFsXCIgfSkpO1xuXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGFwb2xsb1NlcnZlci5zdGFydCgpLnRoZW4oKCkgPT4ge1xuLy8gICBjb25zdCBoYW5kbGVyID0gYXBvbGxvU2VydmVyLmNyZWF0ZUhhbmRsZXIoeyBwYXRoOiBcIi9hcGkvZ3JhcGhxbFwiIH0pO1xuLy8gICByZXR1cm4gY29ycygocmVxLCByZXMpID0+IHtcbi8vICAgICBjb25zb2xlLmxvZyhyZXMpO1xuLy8gICAgIHJldHVybiByZXEubWV0aG9kID09PSBcIk9QVElPTlNcIiA/IHNlbmQocmVzLCAyMDAsICdvaycpIDogaGFuZGxlcihyZXEsIHJlcyk7XG4vLyAgIH0pO1xuLy8gfSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/graphql.js\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ (function(module) {

"use strict";
module.exports = require("@prisma/client");;

/***/ }),

/***/ "apollo-server-micro":
/*!**************************************!*\
  !*** external "apollo-server-micro" ***!
  \**************************************/
/***/ (function(module) {

"use strict";
module.exports = require("apollo-server-micro");;

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ (function(module) {

"use strict";
module.exports = require("bcryptjs");;

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/***/ (function(module) {

"use strict";
module.exports = require("cookie");;

/***/ }),

/***/ "date-fns":
/*!***************************!*\
  !*** external "date-fns" ***!
  \***************************/
/***/ (function(module) {

"use strict";
module.exports = require("date-fns");;

/***/ }),

/***/ "graphql":
/*!**************************!*\
  !*** external "graphql" ***!
  \**************************/
/***/ (function(module) {

"use strict";
module.exports = require("graphql");;

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ (function(module) {

"use strict";
module.exports = require("jsonwebtoken");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/graphql.js"));
module.exports = __webpack_exports__;

})();