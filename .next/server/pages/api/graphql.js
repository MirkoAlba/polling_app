/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/graphql";
exports.ids = ["pages/api/graphql"];
exports.modules = {

/***/ "./pages/api/db/context.js":
/*!*********************************!*\
  !*** ./pages/api/db/context.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createPrismaClient\": function() { return /* binding */ createPrismaClient; },\n/* harmony export */   \"createContext\": function() { return /* binding */ createContext; }\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction createPrismaClient() {\n  let prisma;\n\n  if (false) {} else {\n    if (!global.prisma) {\n      global.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n\n    prisma = global.prisma;\n    return prisma;\n  }\n}\nfunction createContext(res, req) {\n  var _verified;\n\n  const prisma = createPrismaClient();\n  var verified;\n\n  if (req.headers && req.headers.authorization) {\n    // in req.headers c'Ã¨ il token\n    var token = req.headers.authorization.split(\" \")[1];\n\n    try {\n      verified = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, process.env.TOKEN_SECRET_KEY);\n    } catch (err) {\n      console.log(\"Token non valido: \", err);\n    }\n  }\n\n  console.log(\"sono in createContext: Not auth header\");\n  return {\n    res,\n    req,\n    prisma,\n    userId: (_verified = verified) === null || _verified === void 0 ? void 0 : _verified.userId\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL3BhZ2VzL2FwaS9kYi9jb250ZXh0LmpzPzA5NWEiXSwibmFtZXMiOlsiY3JlYXRlUHJpc21hQ2xpZW50IiwicHJpc21hIiwiZ2xvYmFsIiwiUHJpc21hQ2xpZW50IiwiY3JlYXRlQ29udGV4dCIsInJlcyIsInJlcSIsInZlcmlmaWVkIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0b2tlbiIsInNwbGl0Iiwiand0IiwicHJvY2VzcyIsImVudiIsIlRPS0VOX1NFQ1JFVF9LRVkiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidXNlcklkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUVBO0FBRU8sU0FBU0Esa0JBQVQsR0FBOEI7QUFDbkMsTUFBSUMsTUFBSjs7QUFDQSxhQUEyQyxFQUEzQyxNQUdPO0FBQ0wsUUFBSSxDQUFDQyxNQUFNLENBQUNELE1BQVosRUFBb0I7QUFDbEJDLFlBQU0sQ0FBQ0QsTUFBUCxHQUFnQixJQUFJRSx3REFBSixFQUFoQjtBQUNEOztBQUNERixVQUFNLEdBQUdDLE1BQU0sQ0FBQ0QsTUFBaEI7QUFDQSxXQUFPQSxNQUFQO0FBQ0Q7QUFDRjtBQUVNLFNBQVNHLGFBQVQsQ0FBdUJDLEdBQXZCLEVBQTRCQyxHQUE1QixFQUFpQztBQUFBOztBQUN0QyxRQUFNTCxNQUFNLEdBQUdELGtCQUFrQixFQUFqQztBQUNBLE1BQUlPLFFBQUo7O0FBQ0EsTUFBSUQsR0FBRyxDQUFDRSxPQUFKLElBQWVGLEdBQUcsQ0FBQ0UsT0FBSixDQUFZQyxhQUEvQixFQUE4QztBQUM1QztBQUNBLFFBQUlDLEtBQUssR0FBR0osR0FBRyxDQUFDRSxPQUFKLENBQVlDLGFBQVosQ0FBMEJFLEtBQTFCLENBQWdDLEdBQWhDLEVBQXFDLENBQXJDLENBQVo7O0FBQ0EsUUFBSTtBQUNGSixjQUFRLEdBQUdLLDBEQUFBLENBQVdGLEtBQVgsRUFBa0JHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxnQkFBOUIsQ0FBWDtBQUNELEtBRkQsQ0FFRSxPQUFPQyxHQUFQLEVBQVk7QUFDWkMsYUFBTyxDQUFDQyxHQUFSLENBQVksb0JBQVosRUFBa0NGLEdBQWxDO0FBQ0Q7QUFDRjs7QUFFREMsU0FBTyxDQUFDQyxHQUFSLENBQVksd0NBQVo7QUFFQSxTQUFPO0FBQUViLE9BQUY7QUFBT0MsT0FBUDtBQUFZTCxVQUFaO0FBQW9Ca0IsVUFBTSxlQUFFWixRQUFGLDhDQUFFLFVBQVVZO0FBQXRDLEdBQVA7QUFDRCIsImZpbGUiOiIuL3BhZ2VzL2FwaS9kYi9jb250ZXh0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5cbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJpc21hQ2xpZW50KCkge1xuICBsZXQgcHJpc21hO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xuICAgIHJldHVybiBwcmlzbWE7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFnbG9iYWwucHJpc21hKSB7XG4gICAgICBnbG9iYWwucHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xuICAgIH1cbiAgICBwcmlzbWEgPSBnbG9iYWwucHJpc21hO1xuICAgIHJldHVybiBwcmlzbWE7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQocmVzLCByZXEpIHtcbiAgY29uc3QgcHJpc21hID0gY3JlYXRlUHJpc21hQ2xpZW50KCk7XG4gIHZhciB2ZXJpZmllZDtcbiAgaWYgKHJlcS5oZWFkZXJzICYmIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24pIHtcbiAgICAvLyBpbiByZXEuaGVhZGVycyBjJ8OoIGlsIHRva2VuXG4gICAgdmFyIHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbi5zcGxpdChcIiBcIilbMV07XG4gICAgdHJ5IHtcbiAgICAgIHZlcmlmaWVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVE9LRU5fU0VDUkVUX0tFWSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlRva2VuIG5vbiB2YWxpZG86IFwiLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnNvbGUubG9nKFwic29ubyBpbiBjcmVhdGVDb250ZXh0OiBOb3QgYXV0aCBoZWFkZXJcIik7XG5cbiAgcmV0dXJuIHsgcmVzLCByZXEsIHByaXNtYSwgdXNlcklkOiB2ZXJpZmllZD8udXNlcklkIH07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/db/context.js\n");

/***/ }),

/***/ "./pages/api/graphql.js":
/*!******************************!*\
  !*** ./pages/api/graphql.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"config\": function() { return /* binding */ config; }\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _schemas_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schemas/index */ \"./pages/api/schemas/index.js\");\n/* harmony import */ var _resolvers_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resolvers/index */ \"./pages/api/resolvers/index.js\");\n/* harmony import */ var _db_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./db/context */ \"./pages/api/db/context.js\");\n\n\n\n // passo il prisma client attraverso il context del server\n\nconst apolloServer = new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.ApolloServer({\n  typeDefs: _schemas_index__WEBPACK_IMPORTED_MODULE_1__.typeDefs,\n  resolvers: _resolvers_index__WEBPACK_IMPORTED_MODULE_2__.resolvers,\n  context: ({\n    res,\n    req\n  }) => (0,_db_context__WEBPACK_IMPORTED_MODULE_3__.createContext)(res, req),\n  uploads: false,\n  introspection: true,\n  // serve per ritornare dal resolver l'errore\n  formatError: error => {\n    console.log(error);\n    return error;\n  }\n});\nconst config = {\n  api: {\n    bodyParser: false,\n    externalResolver: true\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (apolloServer.createHandler({\n  path: \"/api/graphql\"\n})); // module.exports = apolloServer\n//   .start()\n//   .then(() => apolloServer.createHandler({ path: \"/api/graphql\" }));\n// module.exports = apolloServer.start().then(() => {\n//   const handler = apolloServer.createHandler({ path: \"/api/graphql\" });\n//   return cors((req, res) => {\n//     console.log(res);\n//     return req.method === \"OPTIONS\" ? send(res, 200, 'ok') : handler(req, res);\n//   });\n// });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL3BhZ2VzL2FwaS9ncmFwaHFsLmpzPzc0MjYiXSwibmFtZXMiOlsiYXBvbGxvU2VydmVyIiwiQXBvbGxvU2VydmVyIiwidHlwZURlZnMiLCJyZXNvbHZlcnMiLCJjb250ZXh0IiwicmVzIiwicmVxIiwiY3JlYXRlQ29udGV4dCIsInVwbG9hZHMiLCJpbnRyb3NwZWN0aW9uIiwiZm9ybWF0RXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiZXh0ZXJuYWxSZXNvbHZlciIsImNyZWF0ZUhhbmRsZXIiLCJwYXRoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7Q0FHQTs7QUFDQSxNQUFNQSxZQUFZLEdBQUcsSUFBSUMsNkRBQUosQ0FBaUI7QUFDcENDLFVBRG9DO0FBRXBDQyxXQUZvQztBQUdwQ0MsU0FBTyxFQUFFLENBQUM7QUFBRUMsT0FBRjtBQUFPQztBQUFQLEdBQUQsS0FBa0JDLDBEQUFhLENBQUNGLEdBQUQsRUFBTUMsR0FBTixDQUhKO0FBSXBDRSxTQUFPLEVBQUUsS0FKMkI7QUFLcENDLGVBQWEsRUFBRSxJQUxxQjtBQU1wQztBQUNBQyxhQUFXLEVBQUdDLEtBQUQsSUFBVztBQUN0QkMsV0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVo7QUFDQSxXQUFPQSxLQUFQO0FBQ0Q7QUFWbUMsQ0FBakIsQ0FBckI7QUFhTyxNQUFNRyxNQUFNLEdBQUc7QUFDcEJDLEtBQUcsRUFBRTtBQUNIQyxjQUFVLEVBQUUsS0FEVDtBQUVIQyxvQkFBZ0IsRUFBRTtBQUZmO0FBRGUsQ0FBZjtBQU9QLCtEQUFlakIsWUFBWSxDQUFDa0IsYUFBYixDQUEyQjtBQUFFQyxNQUFJLEVBQUU7QUFBUixDQUEzQixDQUFmLEUsQ0FFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3BhZ2VzL2FwaS9ncmFwaHFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBvbGxvU2VydmVyIH0gZnJvbSBcImFwb2xsby1zZXJ2ZXItbWljcm9cIjtcbmltcG9ydCB7IHR5cGVEZWZzIH0gZnJvbSBcIi4vc2NoZW1hcy9pbmRleFwiO1xuaW1wb3J0IHsgcmVzb2x2ZXJzIH0gZnJvbSBcIi4vcmVzb2x2ZXJzL2luZGV4XCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSBcIi4vZGIvY29udGV4dFwiO1xuXG4vLyBwYXNzbyBpbCBwcmlzbWEgY2xpZW50IGF0dHJhdmVyc28gaWwgY29udGV4dCBkZWwgc2VydmVyXG5jb25zdCBhcG9sbG9TZXJ2ZXIgPSBuZXcgQXBvbGxvU2VydmVyKHtcbiAgdHlwZURlZnMsXG4gIHJlc29sdmVycyxcbiAgY29udGV4dDogKHsgcmVzLCByZXEgfSkgPT4gY3JlYXRlQ29udGV4dChyZXMsIHJlcSksXG4gIHVwbG9hZHM6IGZhbHNlLFxuICBpbnRyb3NwZWN0aW9uOiB0cnVlLFxuICAvLyBzZXJ2ZSBwZXIgcml0b3JuYXJlIGRhbCByZXNvbHZlciBsJ2Vycm9yZVxuICBmb3JtYXRFcnJvcjogKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfSxcbn0pO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBhcGk6IHtcbiAgICBib2R5UGFyc2VyOiBmYWxzZSxcbiAgICBleHRlcm5hbFJlc29sdmVyOiB0cnVlLFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBvbGxvU2VydmVyLmNyZWF0ZUhhbmRsZXIoeyBwYXRoOiBcIi9hcGkvZ3JhcGhxbFwiIH0pO1xuXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGFwb2xsb1NlcnZlclxuLy8gICAuc3RhcnQoKVxuLy8gICAudGhlbigoKSA9PiBhcG9sbG9TZXJ2ZXIuY3JlYXRlSGFuZGxlcih7IHBhdGg6IFwiL2FwaS9ncmFwaHFsXCIgfSkpO1xuXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGFwb2xsb1NlcnZlci5zdGFydCgpLnRoZW4oKCkgPT4ge1xuLy8gICBjb25zdCBoYW5kbGVyID0gYXBvbGxvU2VydmVyLmNyZWF0ZUhhbmRsZXIoeyBwYXRoOiBcIi9hcGkvZ3JhcGhxbFwiIH0pO1xuLy8gICByZXR1cm4gY29ycygocmVxLCByZXMpID0+IHtcbi8vICAgICBjb25zb2xlLmxvZyhyZXMpO1xuLy8gICAgIHJldHVybiByZXEubWV0aG9kID09PSBcIk9QVElPTlNcIiA/IHNlbmQocmVzLCAyMDAsICdvaycpIDogaGFuZGxlcihyZXEsIHJlcyk7XG4vLyAgIH0pO1xuLy8gfSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/graphql.js\n");

/***/ }),

/***/ "./pages/api/resolvers/index.js":
/*!**************************************!*\
  !*** ./pages/api/resolvers/index.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resolvers\": function() { return /* binding */ resolvers; }\n/* harmony export */ });\n/* harmony import */ var _user_resolver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user-resolver */ \"./pages/api/resolvers/user-resolver.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nconst resolvers = {\n  Query: _objectSpread({}, _user_resolver__WEBPACK_IMPORTED_MODULE_0__.userResolver.Query),\n  Mutation: _objectSpread({}, _user_resolver__WEBPACK_IMPORTED_MODULE_0__.userResolver.Mutation)\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL3BhZ2VzL2FwaS9yZXNvbHZlcnMvaW5kZXguanM/YTcxNyJdLCJuYW1lcyI6WyJyZXNvbHZlcnMiLCJRdWVyeSIsInVzZXJSZXNvbHZlciIsIk11dGF0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRU8sTUFBTUEsU0FBUyxHQUFHO0FBQ3ZCQyxPQUFLLG9CQUNBQyw4REFEQSxDQURrQjtBQUl2QkMsVUFBUSxvQkFDSEQsaUVBREc7QUFKZSxDQUFsQiIsImZpbGUiOiIuL3BhZ2VzL2FwaS9yZXNvbHZlcnMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VyUmVzb2x2ZXIgfSBmcm9tIFwiLi91c2VyLXJlc29sdmVyXCI7XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlcnMgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgLi4udXNlclJlc29sdmVyLlF1ZXJ5LFxuICB9LFxuICBNdXRhdGlvbjoge1xuICAgIC4uLnVzZXJSZXNvbHZlci5NdXRhdGlvbixcbiAgfSxcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/resolvers/index.js\n");

/***/ }),

/***/ "./pages/api/resolvers/user-resolver.js":
/*!**********************************************!*\
  !*** ./pages/api/resolvers/user-resolver.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"userResolver\": function() { return /* binding */ userResolver; }\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cookie */ \"cookie\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cookie__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _util_validators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/validators */ \"./pages/api/util/validators.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n // uso solo inpuError per gestire nel frontend gli errori custom\n\n\nconst userResolver = {\n  Query: {\n    async Me(_, __, context) {\n      if (!context.userId) return false;\n      const me = await context.prisma.user.findUnique({\n        where: {\n          id: context.userId\n        }\n      });\n      console.log(\"ciao\", context);\n      return me ? true : false;\n    }\n\n  },\n  Mutation: {\n    async Register(_, {\n      registerInput: {\n        firstName,\n        lastName,\n        cellNumber,\n        email,\n        password,\n        confirmPassword\n      }\n    }, context) {\n      const {\n        valid,\n        errors\n      } = (0,_util_validators__WEBPACK_IMPORTED_MODULE_2__.validateRegisterInput)(firstName, lastName, cellNumber, email, password, confirmPassword);\n\n      if (!valid) {\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Errori\", {\n          errors\n        });\n      }\n\n      const checkEmail = await context.prisma.profile.findUnique({\n        where: {\n          email: email\n        }\n      });\n\n      if (checkEmail) {\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Email gia esistente!\", {\n          errors: {\n            email: \"Email gia esistente!\"\n          }\n        });\n      }\n\n      try {\n        password = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, 12);\n        const newUser = {\n          firstName,\n          lastName,\n          cellNumber\n        };\n        const user = await context.prisma.user.create({\n          data: newUser\n        });\n        const newProfile = {\n          email,\n          password,\n          createdAt: new Date(),\n          isAdmin: false,\n          userId: user.id,\n          user: {\n            connect: {\n              id: user.id\n            }\n          } // serve nelle 1 a 1 per collegare le relazioni\n\n        };\n        await context.prisma.profile.create({\n          data: newProfile\n        });\n      } catch (err) {\n        console.log(err);\n        return \"Register not Successfull\";\n      }\n\n      return \"Register Successfull!\";\n    },\n\n    async Login(_, {\n      email,\n      password\n    }, context) {\n      const {\n        valid,\n        errors\n      } = (0,_util_validators__WEBPACK_IMPORTED_MODULE_2__.validateLoginInput)(email, password);\n\n      if (!valid) {\n        // errors.general = \"Inserisci i campi!\";\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Errori\", {\n          errors\n        });\n      }\n\n      const profile = await context.prisma.profile.findUnique({\n        where: {\n          email: email\n        }\n      });\n\n      if (!profile) {\n        errors.email = \"User non trovato!\";\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"User non trovato!\", {\n          errors\n        });\n      }\n\n      const match = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, profile.password);\n\n      if (!match) {\n        errors.password = \"Password errata!\";\n        throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_4__.UserInputError(\"Password errata!\", {\n          errors\n        });\n      }\n\n      const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default().sign({\n        profileId: profile.id\n      }, process.env.TOKEN_SECRET_KEY, {\n        expiresIn: \"1h\"\n      });\n      context.res.setHeader(\"Set-Cookie\", cookie__WEBPACK_IMPORTED_MODULE_1___default().serialize(\"jid\", token, {\n        httpOnly: true,\n        // domain: \".example.com\",\n        secure: false,\n        maxAge: 60 * 60,\n        sameSite: \"strict\",\n        path: \"/\"\n      }));\n      return token;\n    }\n\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL3BhZ2VzL2FwaS9yZXNvbHZlcnMvdXNlci1yZXNvbHZlci5qcz9mYjE4Il0sIm5hbWVzIjpbInVzZXJSZXNvbHZlciIsIlF1ZXJ5IiwiTWUiLCJfIiwiX18iLCJjb250ZXh0IiwidXNlcklkIiwibWUiLCJwcmlzbWEiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaWQiLCJjb25zb2xlIiwibG9nIiwiTXV0YXRpb24iLCJSZWdpc3RlciIsInJlZ2lzdGVySW5wdXQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImNlbGxOdW1iZXIiLCJlbWFpbCIsInBhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwidmFsaWQiLCJlcnJvcnMiLCJ2YWxpZGF0ZVJlZ2lzdGVySW5wdXQiLCJVc2VySW5wdXRFcnJvciIsImNoZWNrRW1haWwiLCJwcm9maWxlIiwiYmNyeXB0IiwibmV3VXNlciIsImNyZWF0ZSIsImRhdGEiLCJuZXdQcm9maWxlIiwiY3JlYXRlZEF0IiwiRGF0ZSIsImlzQWRtaW4iLCJjb25uZWN0IiwiZXJyIiwiTG9naW4iLCJ2YWxpZGF0ZUxvZ2luSW5wdXQiLCJtYXRjaCIsInRva2VuIiwiand0IiwicHJvZmlsZUlkIiwicHJvY2VzcyIsImVudiIsIlRPS0VOX1NFQ1JFVF9LRVkiLCJleHBpcmVzSW4iLCJyZXMiLCJzZXRIZWFkZXIiLCJjb29raWUiLCJodHRwT25seSIsInNlY3VyZSIsIm1heEFnZSIsInNhbWVTaXRlIiwicGF0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtDQUVBOztBQUNBO0FBRU8sTUFBTUEsWUFBWSxHQUFHO0FBQzFCQyxPQUFLLEVBQUU7QUFDTCxVQUFNQyxFQUFOLENBQVNDLENBQVQsRUFBWUMsRUFBWixFQUFnQkMsT0FBaEIsRUFBeUI7QUFDdkIsVUFBSSxDQUFDQSxPQUFPLENBQUNDLE1BQWIsRUFBcUIsT0FBTyxLQUFQO0FBRXJCLFlBQU1DLEVB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LENBQXJCIiwiZmlsZSI6Ii4vcGFnZXMvYXBpL3Jlc29sdmVycy91c2VyLXJlc29sdmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcbmltcG9ydCBjb29raWUgZnJvbSBcImNvb2tpZVwiO1xuaW1wb3J0IHsgdmFsaWRhdGVSZWdpc3RlcklucHV0LCB2YWxpZGF0ZUxvZ2luSW5wdXQgfSBmcm9tIFwiLi4vdXRpbC92YWxpZGF0b3JzXCI7XG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbi8vIHVzbyBzb2xvIGlucHVFcnJvciBwZXIgZ2VzdGlyZSBuZWwgZnJvbnRlbmQgZ2xpIGVycm9yaSBjdXN0b21cbmltcG9ydCB7IEF1dGhlbnRpY2F0aW9uRXJyb3IsIFVzZXJJbnB1dEVycm9yIH0gZnJvbSBcImFwb2xsby1zZXJ2ZXItbWljcm9cIjtcblxuZXhwb3J0IGNvbnN0IHVzZXJSZXNvbHZlciA9IHtcbiAgUXVlcnk6IHtcbiAgICBhc3luYyBNZShfLCBfXywgY29udGV4dCkge1xuICAgICAgaWYgKCFjb250ZXh0LnVzZXJJZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBjb25zdCBtZSA9IGF3YWl0IGNvbnRleHQucHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBjb250ZXh0LnVzZXJJZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiY2lhb1wiLCBjb250ZXh0KTtcblxuICAgICAgcmV0dXJuIG1lID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH0sXG4gIH0sXG5cbiAgTXV0YXRpb246IHtcbiAgICBhc3luYyBSZWdpc3RlcihcbiAgICAgIF8sXG4gICAgICB7XG4gICAgICAgIHJlZ2lzdGVySW5wdXQ6IHtcbiAgICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgICAgY2VsbE51bWJlcixcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICBjb25maXJtUGFzc3dvcmQsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29udGV4dFxuICAgICkge1xuICAgICAgY29uc3QgeyB2YWxpZCwgZXJyb3JzIH0gPSB2YWxpZGF0ZVJlZ2lzdGVySW5wdXQoXG4gICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgIGNlbGxOdW1iZXIsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgY29uZmlybVBhc3N3b3JkXG4gICAgICApO1xuXG4gICAgICBpZiAoIXZhbGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VySW5wdXRFcnJvcihcIkVycm9yaVwiLCB7IGVycm9ycyB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2hlY2tFbWFpbCA9IGF3YWl0IGNvbnRleHQucHJpc21hLnByb2ZpbGUuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChjaGVja0VtYWlsKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VySW5wdXRFcnJvcihcIkVtYWlsIGdpYSBlc2lzdGVudGUhXCIsIHtcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIGVtYWlsOiBcIkVtYWlsIGdpYSBlc2lzdGVudGUhXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEyKTtcblxuICAgICAgICBjb25zdCBuZXdVc2VyID0ge1xuICAgICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgICBjZWxsTnVtYmVyLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjb250ZXh0LnByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgICAgZGF0YTogbmV3VXNlcixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgbmV3UHJvZmlsZSA9IHtcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgaXNBZG1pbjogZmFsc2UsXG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgIHVzZXI6IHsgY29ubmVjdDogeyBpZDogdXNlci5pZCB9IH0sIC8vIHNlcnZlIG5lbGxlIDEgYSAxIHBlciBjb2xsZWdhcmUgbGUgcmVsYXppb25pXG4gICAgICAgIH07XG5cbiAgICAgICAgYXdhaXQgY29udGV4dC5wcmlzbWEucHJvZmlsZS5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IG5ld1Byb2ZpbGUsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIHJldHVybiBcIlJlZ2lzdGVyIG5vdCBTdWNjZXNzZnVsbFwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gXCJSZWdpc3RlciBTdWNjZXNzZnVsbCFcIjtcbiAgICB9LFxuXG4gICAgYXN5bmMgTG9naW4oXywgeyBlbWFpbCwgcGFzc3dvcmQgfSwgY29udGV4dCkge1xuICAgICAgY29uc3QgeyB2YWxpZCwgZXJyb3JzIH0gPSB2YWxpZGF0ZUxvZ2luSW5wdXQoZW1haWwsIHBhc3N3b3JkKTtcblxuICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAvLyBlcnJvcnMuZ2VuZXJhbCA9IFwiSW5zZXJpc2NpIGkgY2FtcGkhXCI7XG4gICAgICAgIHRocm93IG5ldyBVc2VySW5wdXRFcnJvcihcIkVycm9yaVwiLCB7IGVycm9ycyB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IGNvbnRleHQucHJpc21hLnByb2ZpbGUuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcHJvZmlsZSkge1xuICAgICAgICBlcnJvcnMuZW1haWwgPSBcIlVzZXIgbm9uIHRyb3ZhdG8hXCI7XG4gICAgICAgIHRocm93IG5ldyBVc2VySW5wdXRFcnJvcihcIlVzZXIgbm9uIHRyb3ZhdG8hXCIsIHsgZXJyb3JzIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBwcm9maWxlLnBhc3N3b3JkKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICBlcnJvcnMucGFzc3dvcmQgPSBcIlBhc3N3b3JkIGVycmF0YSFcIjtcbiAgICAgICAgdGhyb3cgbmV3IFVzZXJJbnB1dEVycm9yKFwiUGFzc3dvcmQgZXJyYXRhIVwiLCB7IGVycm9ycyB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcbiAgICAgICAge1xuICAgICAgICAgIHByb2ZpbGVJZDogcHJvZmlsZS5pZCxcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2Vzcy5lbnYuVE9LRU5fU0VDUkVUX0tFWSxcbiAgICAgICAgeyBleHBpcmVzSW46IFwiMWhcIiB9XG4gICAgICApO1xuXG4gICAgICBjb250ZXh0LnJlcy5zZXRIZWFkZXIoXG4gICAgICAgIFwiU2V0LUNvb2tpZVwiLFxuICAgICAgICBjb29raWUuc2VyaWFsaXplKFwiamlkXCIsIHRva2VuLCB7XG4gICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgLy8gZG9tYWluOiBcIi5leGFtcGxlLmNvbVwiLFxuICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwiZGV2ZWxvcG1lbnRcIixcbiAgICAgICAgICBtYXhBZ2U6IDYwICogNjAsXG4gICAgICAgICAgc2FtZVNpdGU6IFwic3RyaWN0XCIsXG4gICAgICAgICAgcGF0aDogXCIvXCIsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcbiAgfSxcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/resolvers/user-resolver.js\n");

/***/ }),

/***/ "./pages/api/schemas/index.js":
/*!************************************!*\
  !*** ./pages/api/schemas/index.js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"typeDefs\": function() { return /* binding */ typeDefs; }\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n\nconst typeDefs = apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.gql`\n  # ---------- Types ----------\n\n  type User {\n    id: ID!\n    firstName: String!\n    lastname: String!\n    cellNumber: Int! #float\n    # relation Profile\n    profile: Profile!\n    profileId: ID!\n  }\n\n  type Profile {\n    id: ID!\n    email: String!\n    password: String!\n    confirmPassword: String!\n    isAdmin: Boolean!\n\n    # relation User\n    user: User!\n    userId: ID!\n  }\n\n  # ---------- Inputs ----------\n\n  input RegisterInput {\n    firstName: String!\n    lastName: String!\n    cellNumber: Int!\n    email: String!\n    password: String!\n    confirmPassword: String!\n  }\n\n  # ---------- Operations ----------\n\n  type Query {\n    # User\n    Me: Boolean!\n  }\n\n  type Mutation {\n    # User\n    Register(registerInput: RegisterInput!): String!\n    Login(email: String!, password: String!): String!\n    Logout: Boolean!\n  }\n`; // mutation Register($registerInput: RegisterInput!) {\n//   Register(registerInput: $registerInput)\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL3BhZ2VzL2FwaS9zY2hlbWFzL2luZGV4LmpzPzY1MDciXSwibmFtZXMiOlsidHlwZURlZnMiLCJncWwiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRU8sTUFBTUEsUUFBUSxHQUFHQyxvREFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQWpETyxDLENBbURQO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3BhZ2VzL2FwaS9zY2hlbWFzL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ3FsIH0gZnJvbSBcImFwb2xsby1zZXJ2ZXItbWljcm9cIjtcblxuZXhwb3J0IGNvbnN0IHR5cGVEZWZzID0gZ3FsYFxuICAjIC0tLS0tLS0tLS0gVHlwZXMgLS0tLS0tLS0tLVxuXG4gIHR5cGUgVXNlciB7XG4gICAgaWQ6IElEIVxuICAgIGZpcnN0TmFtZTogU3RyaW5nIVxuICAgIGxhc3RuYW1lOiBTdHJpbmchXG4gICAgY2VsbE51bWJlcjogSW50ISAjZmxvYXRcbiAgICAjIHJlbGF0aW9uIFByb2ZpbGVcbiAgICBwcm9maWxlOiBQcm9maWxlIVxuICAgIHByb2ZpbGVJZDogSUQhXG4gIH1cblxuICB0eXBlIFByb2ZpbGUge1xuICAgIGlkOiBJRCFcbiAgICBlbWFpbDogU3RyaW5nIVxuICAgIHBhc3N3b3JkOiBTdHJpbmchXG4gICAgY29uZmlybVBhc3N3b3JkOiBTdHJpbmchXG4gICAgaXNBZG1pbjogQm9vbGVhbiFcblxuICAgICMgcmVsYXRpb24gVXNlclxuICAgIHVzZXI6IFVzZXIhXG4gICAgdXNlcklkOiBJRCFcbiAgfVxuXG4gICMgLS0tLS0tLS0tLSBJbnB1dHMgLS0tLS0tLS0tLVxuXG4gIGlucHV0IFJlZ2lzdGVySW5wdXQge1xuICAgIGZpcnN0TmFtZTogU3RyaW5nIVxuICAgIGxhc3ROYW1lOiBTdHJpbmchXG4gICAgY2VsbE51bWJlcjogSW50IVxuICAgIGVtYWlsOiBTdHJpbmchXG4gICAgcGFzc3dvcmQ6IFN0cmluZyFcbiAgICBjb25maXJtUGFzc3dvcmQ6IFN0cmluZyFcbiAgfVxuXG4gICMgLS0tLS0tLS0tLSBPcGVyYXRpb25zIC0tLS0tLS0tLS1cblxuICB0eXBlIFF1ZXJ5IHtcbiAgICAjIFVzZXJcbiAgICBNZTogQm9vbGVhbiFcbiAgfVxuXG4gIHR5cGUgTXV0YXRpb24ge1xuICAgICMgVXNlclxuICAgIFJlZ2lzdGVyKHJlZ2lzdGVySW5wdXQ6IFJlZ2lzdGVySW5wdXQhKTogU3RyaW5nIVxuICAgIExvZ2luKGVtYWlsOiBTdHJpbmchLCBwYXNzd29yZDogU3RyaW5nISk6IFN0cmluZyFcbiAgICBMb2dvdXQ6IEJvb2xlYW4hXG4gIH1cbmA7XG5cbi8vIG11dGF0aW9uIFJlZ2lzdGVyKCRyZWdpc3RlcklucHV0OiBSZWdpc3RlcklucHV0ISkge1xuLy8gICBSZWdpc3RlcihyZWdpc3RlcklucHV0OiAkcmVnaXN0ZXJJbnB1dClcbi8vIH1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/api/schemas/index.js\n");

/***/ }),

/***/ "./pages/api/util/validators.js":
/*!**************************************!*\
  !*** ./pages/api/util/validators.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"validateRegisterInput\": function() { return /* binding */ validateRegisterInput; },\n/* harmony export */   \"validateLoginInput\": function() { return /* binding */ validateLoginInput; }\n/* harmony export */ });\nconst regExEmail = /^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/;\nconst regExPassword = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/;\nvar regExPhoneNumber = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]\\d{3}[\\s.-]\\d{4}$/;\nfunction validateRegisterInput(firstName, lastName, cellNumber, email, password, confirmPassword) {\n  const errors = {};\n\n  if (firstName.trim() === \"\") {\n    errors.firstName = \"Nome non deve essere vuoto!\";\n  }\n\n  if (firstName.trim().length > 20) {\n    errors.username = \"Nome non deve superare i 20 caratteri!\";\n  }\n\n  if (lastName.trim() === \"\") {\n    errors.lastName = \"Cognome non deve essere vuoto!\";\n  }\n\n  if (lastName.trim().length > 35) {\n    errors.username = \"Cognome non deve superare i 35 caratteri!\";\n  }\n\n  if (!cellNumber) {\n    errors.cellNumber = \"Numero di telefono non deve essere vuoto!\";\n  } //validate number\n\n\n  if (email.trim() === \"\") {\n    errors.email = \"Email non deve essere vuota!\";\n  } else {\n    if (email.trim().length > 50) {\n      errors.email = \"Email non deve superare i 50 caratteri!\";\n    }\n\n    if (!email.match(regExEmail)) {\n      errors.email = \"Email deve essere valida!\";\n    }\n  }\n\n  if (password.trim() === \"\") {\n    errors.password = \"Password non deve essere vuota!\";\n  } else if (password !== confirmPassword) {\n    errors.confirmPassword = \"Le Password devono coincidere!\";\n  } else if (!password.match(regExPassword)) {\n    errors.password = \"Password deve contenere almeno 8 caratteri tra lettere e numeri!\";\n  }\n\n  return {\n    errors,\n    valid: Object.keys(errors).length < 1\n  };\n}\nfunction validateLoginInput(userEmail, userPassword) {\n  const errors = {};\n\n  if (userPassword.trim() === \"\") {\n    errors.userPassword = \"Password non deve essere vuota!\";\n  }\n\n  if (userEmail.trim() === \"\") {\n    errors.userEmail = \"Email non deve essere vuota!\";\n  } else {\n    if (userEmail.trim().length > 50) {\n      errors.userEmail = \"Email non deve superare i 50 caratteri!\";\n    }\n\n    if (!userEmail.match(regExEmail)) {\n      errors.userEmail = \"Email deve essere valida!\";\n    }\n  }\n\n  return {\n    errors,\n    valid: Object.keys(errors).length < 1\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xsaW5nX2FwcC8uL3BhZ2VzL2FwaS91dGlsL3ZhbGlkYXRvcnMuanM/N2U4MSJdLCJuYW1lcyI6WyJyZWdFeEVtYWlsIiwicmVnRXhQYXNzd29yZCIsInJlZ0V4UGhvbmVOdW1iZXIiLCJ2YWxpZGF0ZVJlZ2lzdGVySW5wdXQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImNlbGxOdW1iZXIiLCJlbWFpbCIsInBhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwiZXJyb3JzIiwidHJpbSIsImxlbmd0aCIsInVzZXJuYW1lIiwibWF0Y2giLCJ2YWxpZCIsIk9iamVjdCIsImtleXMiLCJ2YWxpZGF0ZUxvZ2luSW5wdXQiLCJ1c2VyRW1haWwiLCJ1c2VyUGFzc3dvcmQiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsTUFBTUEsVUFBVSxHQUNkLHFGQURGO0FBRUEsTUFBTUMsYUFBYSxHQUFHLHdDQUF0QjtBQUNBLElBQUlDLGdCQUFnQixHQUFHLG1EQUF2QjtBQUVPLFNBQVNDLHFCQUFULENBQ0xDLFNBREssRUFFTEMsUUFGSyxFQUdMQyxVQUhLLEVBSUxDLEtBSkssRUFLTEMsUUFMSyxFQU1MQyxlQU5LLEVBT0w7QUFDQSxRQUFNQyxNQUFNLEdBQUcsRUFBZjs7QUFFQSxNQUFJTixTQUFTLENBQUNPLElBQVYsT0FBcUIsRUFBekIsRUFBNkI7QUFDM0JELFVBQU0sQ0FBQ04sU0FBUCxHQUFtQiw2QkFBbkI7QUFDRDs7QUFFRCxNQUFJQSxTQUFTLENBQUNPLElBQVYsR0FBaUJDLE1BQWpCLEdBQTBCLEVBQTlCLEVBQWtDO0FBQ2hDRixVQUFNLENBQUNHLFFBQVAsR0FBa0Isd0NBQWxCO0FBQ0Q7O0FBRUQsTUFBSVIsUUFBUSxDQUFDTSxJQUFULE9BQW9CLEVBQXhCLEVBQTRCO0FBQzFCRCxVQUFNLENBQUNMLFFBQVAsR0FBa0IsZ0NBQWxCO0FBQ0Q7O0FBRUQsTUFBSUEsUUFBUSxDQUFDTSxJQUFULEdBQWdCQyxNQUFoQixHQUF5QixFQUE3QixFQUFpQztBQUMvQkYsVUFBTSxDQUFDRyxRQUFQLEdBQWtCLDJDQUFsQjtBQUNEOztBQUVELE1BQUksQ0FBQ1AsVUFBTCxFQUFpQjtBQUNmSSxVQUFNLENBQUNKLFVBQVAsR0FBb0IsMkNBQXBCO0FBQ0QsR0FyQkQsQ0FxQkU7OztBQUVGLE1BQUlDLEtBQUssQ0FBQ0ksSUFBTixPQUFpQixFQUFyQixFQUF5QjtBQUN2QkQsVUFBTSxDQUFDSCxLQUFQLEdBQWUsOEJBQWY7QUFDRCxHQUZELE1BRU87QUFDTCxRQUFJQSxLQUFLLENBQUNJLElBQU4sR0FBYUMsTUFBYixHQUFzQixFQUExQixFQUE4QjtBQUM1QkYsWUFBTSxDQUFDSCxLQUFQLEdBQWUseUNBQWY7QUFDRDs7QUFFRCxRQUFJLENBQUNBLEtBQUssQ0FBQ08sS0FBTixDQUFZZCxVQUFaLENBQUwsRUFBOEI7QUFDNUJVLFlBQU0sQ0FBQ0gsS0FBUCxHQUFlLDJCQUFmO0FBQ0Q7QUFDRjs7QUFFRCxNQUFJQyxRQUFRLENBQUNHLElBQVQsT0FBb0IsRUFBeEIsRUFBNEI7QUFDMUJELFVBQU0sQ0FBQ0YsUUFBUCxHQUFrQixpQ0FBbEI7QUFDRCxHQUZELE1BRU8sSUFBSUEsUUFBUSxLQUFLQyxlQUFqQixFQUFrQztBQUN2Q0MsVUFBTSxDQUFDRCxlQUFQLEdBQXlCLGdDQUF6QjtBQUNELEdBRk0sTUFFQSxJQUFJLENBQUNELFFBQVEsQ0FBQ00sS0FBVCxDQUFlYixhQUFmLENBQUwsRUFBb0M7QUFDekNTLFVBQU0sQ0FBQ0YsUUFBUCxHQUNFLGtFQURGO0FBRUQ7O0FBRUQsU0FBTztBQUNMRSxVQURLO0FBRUxLLFNBQUssRUFBRUMsTUFBTSxDQUFDQyxJQUFQLENBQVlQLE1BQVosRUFBb0JFLE1BQXBCLEdBQTZCO0FBRi9CLEdBQVA7QUFJRDtBQUVNLFNBQVNNLGtCQUFULENBQTRCQyxTQUE1QixFQUF1Q0MsWUFBdkMsRUFBcUQ7QUFDMUQsUUFBTVYsTUFBTSxHQUFHLEVBQWY7O0FBRUEsTUFBSVUsWUFBWSxDQUFDVCxJQUFiLE9BQXdCLEVBQTVCLEVBQWdDO0FBQzlCRCxVQUFNLENBQUNVLFlBQVAsR0FBc0IsaUNBQXRCO0FBQ0Q7O0FBRUQsTUFBSUQsU0FBUyxDQUFDUixJQUFWLE9BQXFCLEVBQXpCLEVBQTZCO0FBQzNCRCxVQUFNLENBQUNTLFNBQVAsR0FBbUIsOEJBQW5CO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsUUFBSUEsU0FBUyxDQUFDUixJQUFWLEdBQWlCQyxNQUFqQixHQUEwQixFQUE5QixFQUFrQztBQUNoQ0YsWUFBTSxDQUFDUyxTQUFQLEdBQW1CLHlDQUFuQjtBQUNEOztBQUVELFFBQUksQ0FBQ0EsU0FBUyxDQUFDTCxLQUFWLENBQWdCZCxVQUFoQixDQUFMLEVBQWtDO0FBQ2hDVSxZQUFNLENBQUNTLFNBQVAsR0FBbUIsMkJBQW5CO0FBQ0Q7QUFDRjs7QUFFRCxTQUFPO0FBQ0xULFVBREs7QUFFTEssU0FBSyxFQUFFQyxNQUFNLENBQUNDLElBQVAsQ0FBWVAsTUFBWixFQUFvQkUsTUFBcEIsR0FBNkI7QUFGL0IsR0FBUDtBQUlEIiwiZmlsZSI6Ii4vcGFnZXMvYXBpL3V0aWwvdmFsaWRhdG9ycy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlZ0V4RW1haWwgPVxuICAvXihbMC05YS16QS1aXShbLS5cXHddKlswLTlhLXpBLVpdKSpAKFswLTlhLXpBLVpdWy1cXHddKlswLTlhLXpBLVpdXFwuKStbYS16QS1aXXsyLDl9KSQvO1xuY29uc3QgcmVnRXhQYXNzd29yZCA9IC9eKD89LipbQS1aYS16XSkoPz0uKlxcZClbQS1aYS16XFxkXXs4LH0kLztcbnZhciByZWdFeFBob25lTnVtYmVyID0gL14oXFwrXFxkezEsMn1cXHMpP1xcKD9cXGR7M31cXCk/W1xccy4tXVxcZHszfVtcXHMuLV1cXGR7NH0kLztcblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUmVnaXN0ZXJJbnB1dChcbiAgZmlyc3ROYW1lLFxuICBsYXN0TmFtZSxcbiAgY2VsbE51bWJlcixcbiAgZW1haWwsXG4gIHBhc3N3b3JkLFxuICBjb25maXJtUGFzc3dvcmRcbikge1xuICBjb25zdCBlcnJvcnMgPSB7fTtcblxuICBpZiAoZmlyc3ROYW1lLnRyaW0oKSA9PT0gXCJcIikge1xuICAgIGVycm9ycy5maXJzdE5hbWUgPSBcIk5vbWUgbm9uIGRldmUgZXNzZXJlIHZ1b3RvIVwiO1xuICB9XG5cbiAgaWYgKGZpcnN0TmFtZS50cmltKCkubGVuZ3RoID4gMjApIHtcbiAgICBlcnJvcnMudXNlcm5hbWUgPSBcIk5vbWUgbm9uIGRldmUgc3VwZXJhcmUgaSAyMCBjYXJhdHRlcmkhXCI7XG4gIH1cblxuICBpZiAobGFzdE5hbWUudHJpbSgpID09PSBcIlwiKSB7XG4gICAgZXJyb3JzLmxhc3ROYW1lID0gXCJDb2dub21lIG5vbiBkZXZlIGVzc2VyZSB2dW90byFcIjtcbiAgfVxuXG4gIGlmIChsYXN0TmFtZS50cmltKCkubGVuZ3RoID4gMzUpIHtcbiAgICBlcnJvcnMudXNlcm5hbWUgPSBcIkNvZ25vbWUgbm9uIGRldmUgc3VwZXJhcmUgaSAzNSBjYXJhdHRlcmkhXCI7XG4gIH1cblxuICBpZiAoIWNlbGxOdW1iZXIpIHtcbiAgICBlcnJvcnMuY2VsbE51bWJlciA9IFwiTnVtZXJvIGRpIHRlbGVmb25vIG5vbiBkZXZlIGVzc2VyZSB2dW90byFcIjtcbiAgfSAvL3ZhbGlkYXRlIG51bWJlclxuXG4gIGlmIChlbWFpbC50cmltKCkgPT09IFwiXCIpIHtcbiAgICBlcnJvcnMuZW1haWwgPSBcIkVtYWlsIG5vbiBkZXZlIGVzc2VyZSB2dW90YSFcIjtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZW1haWwudHJpbSgpLmxlbmd0aCA+IDUwKSB7XG4gICAgICBlcnJvcnMuZW1haWwgPSBcIkVtYWlsIG5vbiBkZXZlIHN1cGVyYXJlIGkgNTAgY2FyYXR0ZXJpIVwiO1xuICAgIH1cblxuICAgIGlmICghZW1haWwubWF0Y2gocmVnRXhFbWFpbCkpIHtcbiAgICAgIGVycm9ycy5lbWFpbCA9IFwiRW1haWwgZGV2ZSBlc3NlcmUgdmFsaWRhIVwiO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwYXNzd29yZC50cmltKCkgPT09IFwiXCIpIHtcbiAgICBlcnJvcnMucGFzc3dvcmQgPSBcIlBhc3N3b3JkIG5vbiBkZXZlIGVzc2VyZSB2dW90YSFcIjtcbiAgfSBlbHNlIGlmIChwYXNzd29yZCAhPT0gY29uZmlybVBhc3N3b3JkKSB7XG4gICAgZXJyb3JzLmNvbmZpcm1QYXNzd29yZCA9IFwiTGUgUGFzc3dvcmQgZGV2b25vIGNvaW5jaWRlcmUhXCI7XG4gIH0gZWxzZSBpZiAoIXBhc3N3b3JkLm1hdGNoKHJlZ0V4UGFzc3dvcmQpKSB7XG4gICAgZXJyb3JzLnBhc3N3b3JkID1cbiAgICAgIFwiUGFzc3dvcmQgZGV2ZSBjb250ZW5lcmUgYWxtZW5vIDggY2FyYXR0ZXJpIHRyYSBsZXR0ZXJlIGUgbnVtZXJpIVwiO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBlcnJvcnMsXG4gICAgdmFsaWQ6IE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoIDwgMSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlTG9naW5JbnB1dCh1c2VyRW1haWwsIHVzZXJQYXNzd29yZCkge1xuICBjb25zdCBlcnJvcnMgPSB7fTtcblxuICBpZiAodXNlclBhc3N3b3JkLnRyaW0oKSA9PT0gXCJcIikge1xuICAgIGVycm9ycy51c2VyUGFzc3dvcmQgPSBcIlBhc3N3b3JkIG5vbiBkZXZlIGVzc2VyZSB2dW90YSFcIjtcbiAgfVxuXG4gIGlmICh1c2VyRW1haWwudHJpbSgpID09PSBcIlwiKSB7XG4gICAgZXJyb3JzLnVzZXJFbWFpbCA9IFwiRW1haWwgbm9uIGRldmUgZXNzZXJlIHZ1b3RhIVwiO1xuICB9IGVsc2Uge1xuICAgIGlmICh1c2VyRW1haWwudHJpbSgpLmxlbmd0aCA+IDUwKSB7XG4gICAgICBlcnJvcnMudXNlckVtYWlsID0gXCJFbWFpbCBub24gZGV2ZSBzdXBlcmFyZSBpIDUwIGNhcmF0dGVyaSFcIjtcbiAgICB9XG5cbiAgICBpZiAoIXVzZXJFbWFpbC5tYXRjaChyZWdFeEVtYWlsKSkge1xuICAgICAgZXJyb3JzLnVzZXJFbWFpbCA9IFwiRW1haWwgZGV2ZSBlc3NlcmUgdmFsaWRhIVwiO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZXJyb3JzLFxuICAgIHZhbGlkOiBPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCA8IDEsXG4gIH07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/util/validators.js\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ (function(module) {

"use strict";
module.exports = require("@prisma/client");;

/***/ }),

/***/ "apollo-server-micro":
/*!**************************************!*\
  !*** external "apollo-server-micro" ***!
  \**************************************/
/***/ (function(module) {

"use strict";
module.exports = require("apollo-server-micro");;

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ (function(module) {

"use strict";
module.exports = require("bcryptjs");;

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/***/ (function(module) {

"use strict";
module.exports = require("cookie");;

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ (function(module) {

"use strict";
module.exports = require("jsonwebtoken");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/graphql.js"));
module.exports = __webpack_exports__;

})();